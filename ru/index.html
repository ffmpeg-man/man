<html lang="ru" class="translated-ltr"><head><link rel="stylesheet" type="text/css" href="chrome-extension://mdoelcifdkcimkdbfkjjnedabmjlkokc/css/anekdot.css"><link rel="stylesheet" type="text/css" href="chrome-extension://mdoelcifdkcimkdbfkjjnedabmjlkokc/js/jquery-ui-1.11.4/jquery-ui.css"><link rel="stylesheet" type="text/css" href="chrome-extension://mdoelcifdkcimkdbfkjjnedabmjlkokc/css/style_background.css">
    <meta charset="utf-8">
    <title>Документация по фильтрам FFmpeg</title>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/simple-sidebar.css">
    <link rel="stylesheet" href="css/style.min.css">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->

    <link href="main.rss" rel="alternate" type="application/rss+xml" title="ffmpeg.org">
    <link rel="shortcut icon" href="favicon.ico">
  <link type="text/css" rel="stylesheet" charset="UTF-8" href="https://translate.googleapis.com/translate_static/css/translateelement.css"></head>
  <body><style type="text/css" id="Video_Control_settings">.Video_Control,null,video,null{filter: contrast(100%)brightness(100%)saturate(100%)sepia(0%) url(#Sharpen0) url(#MIRROR0) url(#Video_Control_Gamma) !important;transform:scalex(1);transition: 0.5s;}</style><svg id="mysvg" style="display: none;"><filter id="Video_Control_Gamma"><feComponentTransfer in="SourceGraphic" result="h1"><feFuncA id="w1" type="linear" slope="1" intercept="0"></feFuncA><feFuncR id="w2" type="gamma" amplitude="1" exponent="1" offset="0"></feFuncR><feFuncG id="w3" type="gamma" amplitude="1" exponent="1" offset="0"></feFuncG><feFuncB id="w4" type="gamma" amplitude="1" exponent="1" offset="0"></feFuncB></feComponentTransfer></filter><filter id="Sharpen0"></filter><filter id="Sharpen1"><feConvolveMatrix order="3 3" preserveAlpha="true" kernelMatrix="1 -1 1 -1 -2 -1 1 -1 1" mode="multiplay"></feConvolveMatrix></filter><filter id="Sharpen2"><feConvolveMatrix order="3 3" preserveAlpha="true" kernelMatrix="1 -1 1 -1 -1 -1 1 -1 1" mode="multiplay"></feConvolveMatrix></filter><filter id="Sharpen3"><feConvolveMatrix order="3 3" preserveAlpha="true" kernelMatrix="1 -1 1 -1 -.5 -1 1 -1 1" mode="multiplay"></feConvolveMatrix></filter><filter id="MIRROR4"><feMorphology radius="0" operator="dilate"></feMorphology><feComponentTransfer><feFuncR type="table" tableValues="1 0.5"></feFuncR></feComponentTransfer><feMerge result="text"><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge><feTurbulence type="fractalNoise" baseFrequency="0.005" numOctaves="1" result="warp"></feTurbulence><feDisplacementMap xChannelSelector="R" yChannelSelector="G" scale="100" in="text" in2="warp"></feDisplacementMap></filter><filter id="MIRROR3"><feMorphology radius="0" operator="dilate"></feMorphology><feComponentTransfer><feFuncR type="table" tableValues="1 0.5"></feFuncR></feComponentTransfer><feMerge result="text"><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge><feTurbulence type="fractalNoise" baseFrequency="0.005" numOctaves="1" result="warp"></feTurbulence><feDisplacementMap xChannelSelector="R" yChannelSelector="G" scale="75" in="text" in2="warp"></feDisplacementMap></filter><filter id="MIRROR2"><feMorphology radius="0" operator="dilate"></feMorphology><feComponentTransfer><feFuncR type="table" tableValues="1 0.5"></feFuncR></feComponentTransfer><feMerge result="text"><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge><feTurbulence type="fractalNoise" baseFrequency="0.005" numOctaves="1" result="warp"></feTurbulence><feDisplacementMap xChannelSelector="R" yChannelSelector="G" scale="50" in="text" in2="warp"></feDisplacementMap></filter><filter id="MIRROR1"><feMorphology radius="0" operator="dilate"></feMorphology><feComponentTransfer><feFuncR type="table" tableValues="1 0.5"></feFuncR></feComponentTransfer><feMerge result="text"><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge><feTurbulence type="fractalNoise" baseFrequency="0.005" numOctaves="1" result="warp"></feTurbulence><feDisplacementMap xChannelSelector="R" yChannelSelector="G" scale="35" in="text" in2="warp"></feDisplacementMap></filter></svg>

    <div id="wrapper">

      <nav id="sidebar-wrapper">
        <ul class="sidebar-nav">
          <li class="sidebar-brand"><a href=".">
              <img src="img/ffmpeg3d_white_20.png" alt="FFmpeg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              FFmpeg</font></font></a>
          </li>
          <li><a href="about.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">О</font></font></a></li>
          <li><a href="index.html#news"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Новости</font></font></a></li>
          <li><a href="download.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скачать</font></font></a></li>
          <li><a href="documentation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Документация</font></font></a></li>
          <li><a href="contact.html#MailingLists"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сообщество</font></font></a>
            <ul>
              <li><a href="contact.html#MailingLists"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Списки рассылки</font></font></a></li>
              <li><a href="contact.html#IRCChannels"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IRC</font></font></a></li>
              <li><a href="contact.html#Forums"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Форумы</font></font></a></li>
              <li><a href="bugreports.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отчеты об ошибках</font></font></a></li>
              <li><a href="https://trac.ffmpeg.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вики</font></font></a></li>
            </ul>
          </li>
          <li><a href="developer.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разработчики</font></font></a>
            <ul>
              <li><a href="download.html#get-sources"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходный код</font></font></a>
              </li><li><a href="developer.html#Contributing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Делать вклад</font></font></a></li>
              <li><a href="http://fate.ffmpeg.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СУДЬБА</font></font></a></li>
              <li><a href="http://coverage.ffmpeg.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Покрытие кода</font></font></a></li>
            </ul>
          </li>
          <li><a href="#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более</font></font></a>
            <ul>
              <li><a href="donations.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  Пожертвовать</font></font><span style="color: #e55; font-size: 0.8em; margin-left: -10px"><i class="fa fa-heart"></i></span></a></li>
              <li><a href="consulting.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нанять разработчиков</font></font></a></li>
              <li><a href="contact.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контакт</font></font></a></li>
              <li><a href="security.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Безопасность</font></font></a></li>
              <li><a href="legal.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Юридический</font></font></a></li>
            </ul>
          </li>
        </ul>
      </nav>

      <div id="page-content-wrapper">
        <header class="content-header">
          <h1>
            <a id="menu-toggle" href="#" class="btn btn-success"><i class="fa fa-reorder"></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">      Документация по фильтрам FFmpeg
          </font></font></h1>
        </header>
      <div class="page-content inset"><div align="center">
</div>


<span id="SEC_Top"></span>
<span id="SEC_Contents"></span>
<h2 class="contents-heading"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оглавление</font></font></h2>

<div class="contents">
<code>
<ul class="no-bullet">
  <li><a id="toc-Description" href="#Description">1 Description</a></li>
  <li><a id="toc-Filtering-Introduction" href="#Filtering-Introduction">2 Filtering Introduction</a></li>
  <li><a id="toc-graph2dot" href="#graph2dot">3 graph2dot</a></li>
  <li><a id="toc-Filtergraph-description" href="#Filtergraph-description">4 Filtergraph description</a>
  <ul class="no-bullet">
    <li><a id="toc-Filtergraph-syntax-1" href="#Filtergraph-syntax-1">4.1 Filtergraph syntax</a></li>
    <li><a id="toc-Notes-on-filtergraph-escaping" href="#Notes-on-filtergraph-escaping">4.2 Notes on filtergraph escaping</a></li>
  </ul></li>
  <li><a id="toc-Timeline-editing" href="#Timeline-editing">5 Timeline editing</a></li>
  <li><a id="toc-Changing-options-at-runtime-with-a-command" href="#Changing-options-at-runtime-with-a-command">6 Changing options at runtime with a command</a></li>
  <li><a id="toc-Options-for-filters-with-several-inputs-_0028framesync_0029" href="#Options-for-filters-with-several-inputs-_0028framesync_0029">7 Options for filters with several inputs (framesync)</a></li>
  <li><a id="toc-Audio-Filters" href="#Audio-Filters">8 Audio Filters</a>
  <ul class="no-bullet">
    <li><a id="toc-acompressor" href="#acompressor">8.1 acompressor</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands" href="#Commands">8.1.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-acontrast" href="#acontrast">8.2 acontrast</a></li>
    <li><a id="toc-acopy" href="#acopy">8.3 acopy</a></li>
    <li><a id="toc-acrossfade" href="#acrossfade">8.4 acrossfade</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples" href="#Examples">8.4.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-acrossover" href="#acrossover">8.5 acrossover</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-1" href="#Examples-1">8.5.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-acrusher" href="#acrusher">8.6 acrusher</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-1" href="#Commands-1">8.6.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-acue" href="#acue">8.7 acue</a></li>
    <li><a id="toc-adeclick" href="#adeclick">8.8 adeclick</a></li>
    <li><a id="toc-adeclip" href="#adeclip">8.9 adeclip</a></li>
    <li><a id="toc-adecorrelate" href="#adecorrelate">8.10 adecorrelate</a></li>
    <li><a id="toc-adelay" href="#adelay">8.11 adelay</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-2" href="#Examples-2">8.11.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-adenorm" href="#adenorm">8.12 adenorm</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-2" href="#Commands-2">8.12.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-aderivative_002c-aintegral" href="#aderivative_002c-aintegral">8.13 aderivative, aintegral</a></li>
    <li><a id="toc-adynamicequalizer" href="#adynamicequalizer">8.14 adynamicequalizer</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-3" href="#Commands-3">8.14.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-adynamicsmooth" href="#adynamicsmooth">8.15 adynamicsmooth</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-4" href="#Commands-4">8.15.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-aecho" href="#aecho">8.16 aecho</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-3" href="#Examples-3">8.16.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-aemphasis" href="#aemphasis">8.17 aemphasis</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-5" href="#Commands-5">8.17.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-aeval" href="#aeval">8.18 aeval</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-4" href="#Examples-4">8.18.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-aexciter" href="#aexciter">8.19 aexciter</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-6" href="#Commands-6">8.19.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-afade-1" href="#afade-1">8.20 afade</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-7" href="#Commands-7">8.20.1 Commands</a></li>
      <li><a id="toc-Examples-5" href="#Examples-5">8.20.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-afftdn" href="#afftdn">8.21 afftdn</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-8" href="#Commands-8">8.21.1 Commands</a></li>
      <li><a id="toc-Examples-6" href="#Examples-6">8.21.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-afftfilt" href="#afftfilt">8.22 afftfilt</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-7" href="#Examples-7">8.22.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-afir-1" href="#afir-1">8.23 afir</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-8" href="#Examples-8">8.23.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-aformat-1" href="#aformat-1">8.24 aformat</a></li>
    <li><a id="toc-afreqshift" href="#afreqshift">8.25 afreqshift</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-9" href="#Commands-9">8.25.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-afwtdn" href="#afwtdn">8.26 afwtdn</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-10" href="#Commands-10">8.26.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-agate" href="#agate">8.27 agate</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-11" href="#Commands-11">8.27.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-aiir" href="#aiir">8.28 aiir</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-9" href="#Examples-9">8.28.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-alimiter" href="#alimiter">8.29 alimiter</a></li>
    <li><a id="toc-allpass" href="#allpass">8.30 allpass</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-12" href="#Commands-12">8.30.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-aloop" href="#aloop">8.31 aloop</a></li>
    <li><a id="toc-amerge-1" href="#amerge-1">8.32 amerge</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-10" href="#Examples-10">8.32.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-amix" href="#amix">8.33 amix</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-13" href="#Commands-13">8.33.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-amultiply" href="#amultiply">8.34 amultiply</a></li>
    <li><a id="toc-anequalizer" href="#anequalizer">8.35 anequalizer</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-11" href="#Examples-11">8.35.1 Examples</a></li>
      <li><a id="toc-Commands-14" href="#Commands-14">8.35.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-anlmdn" href="#anlmdn">8.36 anlmdn</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-15" href="#Commands-15">8.36.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-anlmf_002c-anlms" href="#anlmf_002c-anlms">8.37 anlmf, anlms</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-12" href="#Examples-12">8.37.1 Examples</a></li>
      <li><a id="toc-Commands-16" href="#Commands-16">8.37.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-anull" href="#anull">8.38 anull</a></li>
    <li><a id="toc-apad" href="#apad">8.39 apad</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-13" href="#Examples-13">8.39.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-aphaser" href="#aphaser">8.40 aphaser</a></li>
    <li><a id="toc-aphaseshift" href="#aphaseshift">8.41 aphaseshift</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-17" href="#Commands-17">8.41.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-apsyclip" href="#apsyclip">8.42 apsyclip</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-18" href="#Commands-18">8.42.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-apulsator" href="#apulsator">8.43 apulsator</a></li>
    <li><a id="toc-aresample-1" href="#aresample-1">8.44 aresample</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-14" href="#Examples-14">8.44.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-areverse" href="#areverse">8.45 areverse</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-15" href="#Examples-15">8.45.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-arnndn" href="#arnndn">8.46 arnndn</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-19" href="#Commands-19">8.46.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-asdr" href="#asdr">8.47 asdr</a></li>
    <li><a id="toc-asetnsamples" href="#asetnsamples">8.48 asetnsamples</a></li>
    <li><a id="toc-asetrate" href="#asetrate">8.49 asetrate</a></li>
    <li><a id="toc-ashowinfo" href="#ashowinfo">8.50 ashowinfo</a></li>
    <li><a id="toc-asoftclip" href="#asoftclip">8.51 asoftclip</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-20" href="#Commands-20">8.51.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-aspectralstats" href="#aspectralstats">8.52 aspectralstats</a></li>
    <li><a id="toc-asr" href="#asr">8.53 asr</a></li>
    <li><a id="toc-astats-1" href="#astats-1">8.54 astats</a></li>
    <li><a id="toc-asubboost" href="#asubboost">8.55 asubboost</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-21" href="#Commands-21">8.55.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-asubcut" href="#asubcut">8.56 asubcut</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-22" href="#Commands-22">8.56.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-asupercut" href="#asupercut">8.57 asupercut</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-23" href="#Commands-23">8.57.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-asuperpass" href="#asuperpass">8.58 asuperpass</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-24" href="#Commands-24">8.58.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-asuperstop" href="#asuperstop">8.59 asuperstop</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-25" href="#Commands-25">8.59.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-atempo" href="#atempo">8.60 atempo</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-16" href="#Examples-16">8.60.1 Examples</a></li>
      <li><a id="toc-Commands-26" href="#Commands-26">8.60.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-atilt" href="#atilt">8.61 atilt</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-27" href="#Commands-27">8.61.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-atrim" href="#atrim">8.62 atrim</a></li>
    <li><a id="toc-axcorrelate" href="#axcorrelate">8.63 axcorrelate</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-17" href="#Examples-17">8.63.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-bandpass" href="#bandpass">8.64 bandpass</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-28" href="#Commands-28">8.64.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-bandreject" href="#bandreject">8.65 bandreject</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-29" href="#Commands-29">8.65.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-bass_002c-lowshelf" href="#bass_002c-lowshelf">8.66 bass, lowshelf</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-30" href="#Commands-30">8.66.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-biquad" href="#biquad">8.67 biquad</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-31" href="#Commands-31">8.67.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-bs2b" href="#bs2b">8.68 bs2b</a></li>
    <li><a id="toc-channelmap" href="#channelmap">8.69 channelmap</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-18" href="#Examples-18">8.69.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-channelsplit" href="#channelsplit">8.70 channelsplit</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-19" href="#Examples-19">8.70.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-chorus" href="#chorus">8.71 chorus</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-20" href="#Examples-20">8.71.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-compand" href="#compand">8.72 compand</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-21" href="#Examples-21">8.72.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-compensationdelay" href="#compensationdelay">8.73 compensationdelay</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-32" href="#Commands-32">8.73.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-crossfeed" href="#crossfeed">8.74 crossfeed</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-33" href="#Commands-33">8.74.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-crystalizer" href="#crystalizer">8.75 crystalizer</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-34" href="#Commands-34">8.75.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-dcshift" href="#dcshift">8.76 dcshift</a></li>
    <li><a id="toc-deesser" href="#deesser">8.77 deesser</a></li>
    <li><a id="toc-dialoguenhance" href="#dialoguenhance">8.78 dialoguenhance</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-35" href="#Commands-35">8.78.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-drmeter" href="#drmeter">8.79 drmeter</a></li>
    <li><a id="toc-dynaudnorm" href="#dynaudnorm">8.80 dynaudnorm</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-36" href="#Commands-36">8.80.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-earwax" href="#earwax">8.81 earwax</a></li>
    <li><a id="toc-equalizer" href="#equalizer">8.82 equalizer</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-22" href="#Examples-22">8.82.1 Examples</a></li>
      <li><a id="toc-Commands-37" href="#Commands-37">8.82.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-extrastereo" href="#extrastereo">8.83 extrastereo</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-38" href="#Commands-38">8.83.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-firequalizer" href="#firequalizer">8.84 firequalizer</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-23" href="#Examples-23">8.84.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-flanger" href="#flanger">8.85 flanger</a></li>
    <li><a id="toc-haas" href="#haas">8.86 haas</a></li>
    <li><a id="toc-hdcd" href="#hdcd">8.87 hdcd</a></li>
    <li><a id="toc-headphone" href="#headphone">8.88 headphone</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-24" href="#Examples-24">8.88.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-highpass" href="#highpass">8.89 highpass</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-39" href="#Commands-39">8.89.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-join" href="#join">8.90 join</a></li>
    <li><a id="toc-ladspa" href="#ladspa">8.91 ladspa</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-25" href="#Examples-25">8.91.1 Examples</a></li>
      <li><a id="toc-Commands-40" href="#Commands-40">8.91.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-loudnorm" href="#loudnorm">8.92 loudnorm</a></li>
    <li><a id="toc-lowpass" href="#lowpass">8.93 lowpass</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-26" href="#Examples-26">8.93.1 Examples</a></li>
      <li><a id="toc-Commands-41" href="#Commands-41">8.93.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-lv2" href="#lv2">8.94 lv2</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-27" href="#Examples-27">8.94.1 Examples</a></li>
      <li><a id="toc-Commands-42" href="#Commands-42">8.94.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-mcompand" href="#mcompand">8.95 mcompand</a></li>
    <li><a id="toc-pan-1" href="#pan-1">8.96 pan</a>
    <ul class="no-bullet">
      <li><a id="toc-Mixing-examples" href="#Mixing-examples">8.96.1 Mixing examples</a></li>
      <li><a id="toc-Remapping-examples" href="#Remapping-examples">8.96.2 Remapping examples</a></li>
    </ul></li>
    <li><a id="toc-replaygain" href="#replaygain">8.97 replaygain</a></li>
    <li><a id="toc-resample" href="#resample">8.98 resample</a></li>
    <li><a id="toc-rubberband" href="#rubberband">8.99 rubberband</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-43" href="#Commands-43">8.99.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-sidechaincompress" href="#sidechaincompress">8.100 sidechaincompress</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-44" href="#Commands-44">8.100.1 Commands</a></li>
      <li><a id="toc-Examples-28" href="#Examples-28">8.100.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-sidechaingate" href="#sidechaingate">8.101 sidechaingate</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-45" href="#Commands-45">8.101.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-silencedetect" href="#silencedetect">8.102 silencedetect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-29" href="#Examples-29">8.102.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-silenceremove" href="#silenceremove">8.103 silenceremove</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-30" href="#Examples-30">8.103.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-sofalizer" href="#sofalizer">8.104 sofalizer</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-31" href="#Examples-31">8.104.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-speechnorm" href="#speechnorm">8.105 speechnorm</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-46" href="#Commands-46">8.105.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-stereotools" href="#stereotools">8.106 stereotools</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-47" href="#Commands-47">8.106.1 Commands</a></li>
      <li><a id="toc-Examples-32" href="#Examples-32">8.106.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-stereowiden" href="#stereowiden">8.107 stereowiden</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-48" href="#Commands-48">8.107.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-superequalizer" href="#superequalizer">8.108 superequalizer</a></li>
    <li><a id="toc-surround" href="#surround">8.109 surround</a></li>
    <li><a id="toc-tiltshelf" href="#tiltshelf">8.110 tiltshelf</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-49" href="#Commands-49">8.110.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-treble_002c-highshelf" href="#treble_002c-highshelf">8.111 treble, highshelf</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-50" href="#Commands-50">8.111.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-tremolo" href="#tremolo">8.112 tremolo</a></li>
    <li><a id="toc-vibrato" href="#vibrato">8.113 vibrato</a></li>
    <li><a id="toc-virtualbass" href="#virtualbass">8.114 virtualbass</a></li>
    <li><a id="toc-volume" href="#volume">8.115 volume</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-51" href="#Commands-51">8.115.1 Commands</a></li>
      <li><a id="toc-Examples-33" href="#Examples-33">8.115.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-volumedetect" href="#volumedetect">8.116 volumedetect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-34" href="#Examples-34">8.116.1 Examples</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Audio-Sources" href="#Audio-Sources">9 Audio Sources</a>
  <ul class="no-bullet">
    <li><a id="toc-abuffer" href="#abuffer">9.1 abuffer</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-35" href="#Examples-35">9.1.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-aevalsrc" href="#aevalsrc">9.2 aevalsrc</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-36" href="#Examples-36">9.2.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-afirsrc" href="#afirsrc">9.3 afirsrc</a></li>
    <li><a id="toc-anullsrc" href="#anullsrc">9.4 anullsrc</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-37" href="#Examples-37">9.4.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-flite" href="#flite">9.5 flite</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-38" href="#Examples-38">9.5.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-anoisesrc" href="#anoisesrc">9.6 anoisesrc</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-39" href="#Examples-39">9.6.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-hilbert" href="#hilbert">9.7 hilbert</a></li>
    <li><a id="toc-sinc" href="#sinc">9.8 sinc</a></li>
    <li><a id="toc-sine" href="#sine">9.9 sine</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-40" href="#Examples-40">9.9.1 Examples</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Audio-Sinks" href="#Audio-Sinks">10 Audio Sinks</a>
  <ul class="no-bullet">
    <li><a id="toc-abuffersink" href="#abuffersink">10.1 abuffersink</a></li>
    <li><a id="toc-anullsink" href="#anullsink">10.2 anullsink</a></li>
  </ul></li>
  <li><a id="toc-Video-Filters" href="#Video-Filters">11 Video Filters</a>
  <ul class="no-bullet">
    <li><a id="toc-addroi" href="#addroi">11.1 addroi</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-41" href="#Examples-41">11.1.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-alphaextract" href="#alphaextract">11.2 alphaextract</a></li>
    <li><a id="toc-alphamerge" href="#alphamerge">11.3 alphamerge</a></li>
    <li><a id="toc-amplify" href="#amplify">11.4 amplify</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-52" href="#Commands-52">11.4.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-ass" href="#ass">11.5 ass</a></li>
    <li><a id="toc-atadenoise" href="#atadenoise">11.6 atadenoise</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-53" href="#Commands-53">11.6.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-avgblur" href="#avgblur">11.7 avgblur</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-54" href="#Commands-54">11.7.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-bbox" href="#bbox">11.8 bbox</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-55" href="#Commands-55">11.8.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-bilateral" href="#bilateral">11.9 bilateral</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-56" href="#Commands-56">11.9.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-bitplanenoise" href="#bitplanenoise">11.10 bitplanenoise</a></li>
    <li><a id="toc-blackdetect" href="#blackdetect">11.11 blackdetect</a></li>
    <li><a id="toc-blackframe" href="#blackframe">11.12 blackframe</a></li>
    <li><a id="toc-blend-1" href="#blend-1">11.13 blend</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-42" href="#Examples-42">11.13.1 Examples</a></li>
      <li><a id="toc-Commands-57" href="#Commands-57">11.13.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-blockdetect-1" href="#blockdetect-1">11.14 blockdetect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-43" href="#Examples-43">11.14.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-blurdetect-1" href="#blurdetect-1">11.15 blurdetect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-44" href="#Examples-44">11.15.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-bm3d" href="#bm3d">11.16 bm3d</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-45" href="#Examples-45">11.16.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-boxblur" href="#boxblur">11.17 boxblur</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-46" href="#Examples-46">11.17.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-bwdif" href="#bwdif">11.18 bwdif</a></li>
    <li><a id="toc-cas" href="#cas">11.19 cas</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-58" href="#Commands-58">11.19.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-chromahold" href="#chromahold">11.20 chromahold</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-59" href="#Commands-59">11.20.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-chromakey-1" href="#chromakey-1">11.21 chromakey</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-60" href="#Commands-60">11.21.1 Commands</a></li>
      <li><a id="toc-Examples-47" href="#Examples-47">11.21.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-chromakey_005fcuda" href="#chromakey_005fcuda">11.22 chromakey_cuda</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-48" href="#Examples-48">11.22.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-chromanr" href="#chromanr">11.23 chromanr</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-61" href="#Commands-61">11.23.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-chromashift" href="#chromashift">11.24 chromashift</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-62" href="#Commands-62">11.24.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-ciescope" href="#ciescope">11.25 ciescope</a></li>
    <li><a id="toc-codecview" href="#codecview">11.26 codecview</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-49" href="#Examples-49">11.26.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-colorbalance" href="#colorbalance">11.27 colorbalance</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-50" href="#Examples-50">11.27.1 Examples</a></li>
      <li><a id="toc-Commands-63" href="#Commands-63">11.27.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-colorcontrast" href="#colorcontrast">11.28 colorcontrast</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-64" href="#Commands-64">11.28.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-colorcorrect" href="#colorcorrect">11.29 colorcorrect</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-65" href="#Commands-65">11.29.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-colorchannelmixer" href="#colorchannelmixer">11.30 colorchannelmixer</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-51" href="#Examples-51">11.30.1 Examples</a></li>
      <li><a id="toc-Commands-66" href="#Commands-66">11.30.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-colorize" href="#colorize">11.31 colorize</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-67" href="#Commands-67">11.31.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-colorkey" href="#colorkey">11.32 colorkey</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-52" href="#Examples-52">11.32.1 Examples</a></li>
      <li><a id="toc-Commands-68" href="#Commands-68">11.32.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-colorhold" href="#colorhold">11.33 colorhold</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-69" href="#Commands-69">11.33.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-colorlevels" href="#colorlevels">11.34 colorlevels</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-53" href="#Examples-53">11.34.1 Examples</a></li>
      <li><a id="toc-Commands-70" href="#Commands-70">11.34.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-colormap" href="#colormap">11.35 colormap</a></li>
    <li><a id="toc-colormatrix" href="#colormatrix">11.36 colormatrix</a></li>
    <li><a id="toc-colorspace" href="#colorspace">11.37 colorspace</a></li>
    <li><a id="toc-colortemperature" href="#colortemperature">11.38 colortemperature</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-71" href="#Commands-71">11.38.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-convolution" href="#convolution">11.39 convolution</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-72" href="#Commands-72">11.39.1 Commands</a></li>
      <li><a id="toc-Examples-54" href="#Examples-54">11.39.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-convolve" href="#convolve">11.40 convolve</a></li>
    <li><a id="toc-copy" href="#copy">11.41 copy</a></li>
    <li><a id="toc-coreimage-1" href="#coreimage-1">11.42 coreimage</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-55" href="#Examples-55">11.42.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-cover_005frect" href="#cover_005frect">11.43 cover_rect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-56" href="#Examples-56">11.43.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-crop" href="#crop">11.44 crop</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-57" href="#Examples-57">11.44.1 Examples</a></li>
      <li><a id="toc-Commands-73" href="#Commands-73">11.44.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-cropdetect" href="#cropdetect">11.45 cropdetect</a></li>
    <li><a id="toc-cue-1" href="#cue-1">11.46 cue</a></li>
    <li><a id="toc-curves-1" href="#curves-1">11.47 curves</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-74" href="#Commands-74">11.47.1 Commands</a></li>
      <li><a id="toc-Examples-58" href="#Examples-58">11.47.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-datascope" href="#datascope">11.48 datascope</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-75" href="#Commands-75">11.48.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-dblur" href="#dblur">11.49 dblur</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-76" href="#Commands-76">11.49.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-dctdnoiz" href="#dctdnoiz">11.50 dctdnoiz</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-59" href="#Examples-59">11.50.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-deband" href="#deband">11.51 deband</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-77" href="#Commands-77">11.51.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-deblock" href="#deblock">11.52 deblock</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-60" href="#Examples-60">11.52.1 Examples</a></li>
      <li><a id="toc-Commands-78" href="#Commands-78">11.52.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-decimate-1" href="#decimate-1">11.53 decimate</a></li>
    <li><a id="toc-deconvolve" href="#deconvolve">11.54 deconvolve</a></li>
    <li><a id="toc-dedot" href="#dedot">11.55 dedot</a></li>
    <li><a id="toc-deflate" href="#deflate">11.56 deflate</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-79" href="#Commands-79">11.56.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-deflicker" href="#deflicker">11.57 deflicker</a></li>
    <li><a id="toc-dejudder" href="#dejudder">11.58 dejudder</a></li>
    <li><a id="toc-delogo" href="#delogo">11.59 delogo</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-61" href="#Examples-61">11.59.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-derain-1" href="#derain-1">11.60 derain</a></li>
    <li><a id="toc-deshake" href="#deshake">11.61 deshake</a></li>
    <li><a id="toc-despill" href="#despill">11.62 despill</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-80" href="#Commands-80">11.62.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-detelecine" href="#detelecine">11.63 detelecine</a></li>
    <li><a id="toc-dilation-1" href="#dilation-1">11.64 dilation</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-81" href="#Commands-81">11.64.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-displace" href="#displace">11.65 displace</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-62" href="#Examples-62">11.65.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-dnn_005fclassify" href="#dnn_005fclassify">11.66 dnn_classify</a></li>
    <li><a id="toc-dnn_005fdetect" href="#dnn_005fdetect">11.67 dnn_detect</a></li>
    <li><a id="toc-dnn_005fprocessing-1" href="#dnn_005fprocessing-1">11.68 dnn_processing</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-63" href="#Examples-63">11.68.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-drawbox" href="#drawbox">11.69 drawbox</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-64" href="#Examples-64">11.69.1 Examples</a></li>
      <li><a id="toc-Commands-82" href="#Commands-82">11.69.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-drawgraph-1" href="#drawgraph-1">11.70 drawgraph</a></li>
    <li><a id="toc-drawgrid" href="#drawgrid">11.71 drawgrid</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-65" href="#Examples-65">11.71.1 Examples</a></li>
      <li><a id="toc-Commands-83" href="#Commands-83">11.71.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-drawtext-1" href="#drawtext-1">11.72 drawtext</a>
    <ul class="no-bullet">
      <li><a id="toc-Syntax" href="#Syntax">11.72.1 Syntax</a></li>
      <li><a id="toc-Text-expansion" href="#Text-expansion">11.72.2 Text expansion</a></li>
      <li><a id="toc-Commands-84" href="#Commands-84">11.72.3 Commands</a></li>
      <li><a id="toc-Examples-66" href="#Examples-66">11.72.4 Examples</a></li>
    </ul></li>
    <li><a id="toc-edgedetect" href="#edgedetect">11.73 edgedetect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-67" href="#Examples-67">11.73.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-elbg" href="#elbg">11.74 elbg</a></li>
    <li><a id="toc-entropy" href="#entropy">11.75 entropy</a></li>
    <li><a id="toc-epx" href="#epx">11.76 epx</a></li>
    <li><a id="toc-eq" href="#eq">11.77 eq</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-85" href="#Commands-85">11.77.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-erosion-1" href="#erosion-1">11.78 erosion</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-86" href="#Commands-86">11.78.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-estdif" href="#estdif">11.79 estdif</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-87" href="#Commands-87">11.79.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-exposure" href="#exposure">11.80 exposure</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-88" href="#Commands-88">11.80.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-extractplanes" href="#extractplanes">11.81 extractplanes</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-68" href="#Examples-68">11.81.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-fade" href="#fade">11.82 fade</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-69" href="#Examples-69">11.82.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-feedback" href="#feedback">11.83 feedback</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-70" href="#Examples-70">11.83.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-fftdnoiz" href="#fftdnoiz">11.84 fftdnoiz</a></li>
    <li><a id="toc-fftfilt" href="#fftfilt">11.85 fftfilt</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-71" href="#Examples-71">11.85.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-field" href="#field">11.86 field</a></li>
    <li><a id="toc-fieldhint" href="#fieldhint">11.87 fieldhint</a></li>
    <li><a id="toc-fieldmatch" href="#fieldmatch">11.88 fieldmatch</a>
    <ul class="no-bullet">
      <li><a id="toc-p_002fc_002fn_002fu_002fb-meaning-1" href="#p_002fc_002fn_002fu_002fb-meaning-1">11.88.1 p/c/n/u/b meaning</a>
      <ul class="no-bullet">
        <li><a id="toc-p_002fc_002fn" href="#p_002fc_002fn">11.88.1.1 p/c/n</a></li>
        <li><a id="toc-u_002fb" href="#u_002fb">11.88.1.2 u/b</a></li>
      </ul></li>
      <li><a id="toc-Examples-72" href="#Examples-72">11.88.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-fieldorder" href="#fieldorder">11.89 fieldorder</a></li>
    <li><a id="toc-fifo_002c-afifo" href="#fifo_002c-afifo">11.90 fifo, afifo</a></li>
    <li><a id="toc-fillborders" href="#fillborders">11.91 fillborders</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-89" href="#Commands-89">11.91.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-find_005frect" href="#find_005frect">11.92 find_rect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-73" href="#Examples-73">11.92.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-floodfill" href="#floodfill">11.93 floodfill</a></li>
    <li><a id="toc-format-1" href="#format-1">11.94 format</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-74" href="#Examples-74">11.94.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-fps-1" href="#fps-1">11.95 fps</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-75" href="#Examples-75">11.95.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-framepack" href="#framepack">11.96 framepack</a></li>
    <li><a id="toc-framerate" href="#framerate">11.97 framerate</a></li>
    <li><a id="toc-framestep" href="#framestep">11.98 framestep</a></li>
    <li><a id="toc-freezedetect" href="#freezedetect">11.99 freezedetect</a></li>
    <li><a id="toc-freezeframes" href="#freezeframes">11.100 freezeframes</a></li>
    <li><a id="toc-frei0r-1" href="#frei0r-1">11.101 frei0r</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-76" href="#Examples-76">11.101.1 Examples</a></li>
      <li><a id="toc-Commands-90" href="#Commands-90">11.101.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-fspp" href="#fspp">11.102 fspp</a></li>
    <li><a id="toc-gblur" href="#gblur">11.103 gblur</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-91" href="#Commands-91">11.103.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-geq" href="#geq">11.104 geq</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-77" href="#Examples-77">11.104.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-gradfun" href="#gradfun">11.105 gradfun</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-78" href="#Examples-78">11.105.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-graphmonitor-1" href="#graphmonitor-1">11.106 graphmonitor</a></li>
    <li><a id="toc-grayworld" href="#grayworld">11.107 grayworld</a></li>
    <li><a id="toc-greyedge" href="#greyedge">11.108 greyedge</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-79" href="#Examples-79">11.108.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-guided" href="#guided">11.109 guided</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-92" href="#Commands-92">11.109.1 Commands</a></li>
      <li><a id="toc-Examples-80" href="#Examples-80">11.109.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-haldclut-1" href="#haldclut-1">11.110 haldclut</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-93" href="#Commands-93">11.110.1 Commands</a></li>
      <li><a id="toc-Workflow-examples" href="#Workflow-examples">11.110.2 Workflow examples</a>
      <ul class="no-bullet">
        <li><a id="toc-Hald-CLUT-video-stream" href="#Hald-CLUT-video-stream">11.110.2.1 Hald CLUT video stream</a></li>
        <li><a id="toc-Hald-CLUT-with-preview" href="#Hald-CLUT-with-preview">11.110.2.2 Hald CLUT with preview</a></li>
      </ul></li>
    </ul></li>
    <li><a id="toc-hflip" href="#hflip">11.111 hflip</a></li>
    <li><a id="toc-histeq" href="#histeq">11.112 histeq</a></li>
    <li><a id="toc-histogram-1" href="#histogram-1">11.113 histogram</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-81" href="#Examples-81">11.113.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-hqdn3d-1" href="#hqdn3d-1">11.114 hqdn3d</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-94" href="#Commands-94">11.114.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-hwdownload-1" href="#hwdownload-1">11.115 hwdownload</a></li>
    <li><a id="toc-hwmap" href="#hwmap">11.116 hwmap</a></li>
    <li><a id="toc-hwupload-1" href="#hwupload-1">11.117 hwupload</a></li>
    <li><a id="toc-hwupload_005fcuda-1" href="#hwupload_005fcuda-1">11.118 hwupload_cuda</a></li>
    <li><a id="toc-hqx" href="#hqx">11.119 hqx</a></li>
    <li><a id="toc-hstack" href="#hstack">11.120 hstack</a></li>
    <li><a id="toc-hsvhold" href="#hsvhold">11.121 hsvhold</a></li>
    <li><a id="toc-hsvkey" href="#hsvkey">11.122 hsvkey</a></li>
    <li><a id="toc-hue" href="#hue">11.123 hue</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-82" href="#Examples-82">11.123.1 Examples</a></li>
      <li><a id="toc-Commands-95" href="#Commands-95">11.123.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-huesaturation" href="#huesaturation">11.124 huesaturation</a></li>
    <li><a id="toc-hysteresis" href="#hysteresis">11.125 hysteresis</a></li>
    <li><a id="toc-iccdetect" href="#iccdetect">11.126 iccdetect</a></li>
    <li><a id="toc-iccgen" href="#iccgen">11.127 iccgen</a></li>
    <li><a id="toc-identity" href="#identity">11.128 identity</a></li>
    <li><a id="toc-idet" href="#idet">11.129 idet</a></li>
    <li><a id="toc-il" href="#il">11.130 il</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-96" href="#Commands-96">11.130.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-inflate" href="#inflate">11.131 inflate</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-97" href="#Commands-97">11.131.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-interlace" href="#interlace">11.132 interlace</a></li>
    <li><a id="toc-kerndeint" href="#kerndeint">11.133 kerndeint</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-83" href="#Examples-83">11.133.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-kirsch" href="#kirsch">11.134 kirsch</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-98" href="#Commands-98">11.134.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-lagfun" href="#lagfun">11.135 lagfun</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-99" href="#Commands-99">11.135.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-lenscorrection" href="#lenscorrection">11.136 lenscorrection</a>
    <ul class="no-bullet">
      <li><a id="toc-Options" href="#Options">11.136.1 Options</a></li>
      <li><a id="toc-Commands-100" href="#Commands-100">11.136.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-lensfun" href="#lensfun">11.137 lensfun</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-84" href="#Examples-84">11.137.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-libplacebo" href="#libplacebo">11.138 libplacebo</a>
    <ul class="no-bullet">
      <li><a id="toc-Options-1" href="#Options-1">11.138.1 Options</a>
      <ul class="no-bullet">
        <li><a id="toc-Output-mode" href="#Output-mode">11.138.1.1 Output mode</a></li>
        <li><a id="toc-Scaling" href="#Scaling">11.138.1.2 Scaling</a></li>
        <li><a id="toc-Debanding" href="#Debanding">11.138.1.3 Debanding</a></li>
        <li><a id="toc-Color-adjustment" href="#Color-adjustment">11.138.1.4 Color adjustment</a></li>
        <li><a id="toc-Peak-detection" href="#Peak-detection">11.138.1.5 Peak detection</a></li>
        <li><a id="toc-Tone-mapping" href="#Tone-mapping">11.138.1.6 Tone mapping</a></li>
        <li><a id="toc-Dithering" href="#Dithering">11.138.1.7 Dithering</a></li>
        <li><a id="toc-Custom-shaders" href="#Custom-shaders">11.138.1.8 Custom shaders</a></li>
        <li><a id="toc-Debugging-_002f-performance" href="#Debugging-_002f-performance">11.138.1.9 Debugging / performance</a></li>
      </ul></li>
      <li><a id="toc-Commands-101" href="#Commands-101">11.138.2 Commands</a></li>
      <li><a id="toc-Examples-85" href="#Examples-85">11.138.3 Examples</a></li>
    </ul></li>
    <li><a id="toc-libvmaf" href="#libvmaf">11.139 libvmaf</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-86" href="#Examples-86">11.139.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-limitdiff" href="#limitdiff">11.140 limitdiff</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-102" href="#Commands-102">11.140.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-limiter" href="#limiter">11.141 limiter</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-103" href="#Commands-103">11.141.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-loop" href="#loop">11.142 loop</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-87" href="#Examples-87">11.142.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-lut1d" href="#lut1d">11.143 lut1d</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-104" href="#Commands-104">11.143.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-lut3d-1" href="#lut3d-1">11.144 lut3d</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-105" href="#Commands-105">11.144.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-lumakey" href="#lumakey">11.145 lumakey</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-106" href="#Commands-106">11.145.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-lut_002c-lutrgb_002c-lutyuv" href="#lut_002c-lutrgb_002c-lutyuv">11.146 lut, lutrgb, lutyuv</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-107" href="#Commands-107">11.146.1 Commands</a></li>
      <li><a id="toc-Examples-88" href="#Examples-88">11.146.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-lut2_002c-tlut2" href="#lut2_002c-tlut2">11.147 lut2, tlut2</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-108" href="#Commands-108">11.147.1 Commands</a></li>
      <li><a id="toc-Examples-89" href="#Examples-89">11.147.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-maskedclamp" href="#maskedclamp">11.148 maskedclamp</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-109" href="#Commands-109">11.148.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-maskedmax" href="#maskedmax">11.149 maskedmax</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-110" href="#Commands-110">11.149.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-maskedmerge" href="#maskedmerge">11.150 maskedmerge</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-111" href="#Commands-111">11.150.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-maskedmin" href="#maskedmin">11.151 maskedmin</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-112" href="#Commands-112">11.151.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-maskedthreshold" href="#maskedthreshold">11.152 maskedthreshold</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-113" href="#Commands-113">11.152.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-maskfun" href="#maskfun">11.153 maskfun</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-114" href="#Commands-114">11.153.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-mcdeint" href="#mcdeint">11.154 mcdeint</a></li>
    <li><a id="toc-median" href="#median">11.155 median</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-115" href="#Commands-115">11.155.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-mergeplanes" href="#mergeplanes">11.156 mergeplanes</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-90" href="#Examples-90">11.156.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-mestimate" href="#mestimate">11.157 mestimate</a></li>
    <li><a id="toc-midequalizer" href="#midequalizer">11.158 midequalizer</a></li>
    <li><a id="toc-minterpolate" href="#minterpolate">11.159 minterpolate</a></li>
    <li><a id="toc-mix" href="#mix">11.160 mix</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-116" href="#Commands-116">11.160.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-monochrome" href="#monochrome">11.161 monochrome</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-117" href="#Commands-117">11.161.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-morpho" href="#morpho">11.162 morpho</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-118" href="#Commands-118">11.162.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-mpdecimate" href="#mpdecimate">11.163 mpdecimate</a></li>
    <li><a id="toc-msad" href="#msad">11.164 msad</a></li>
    <li><a id="toc-multiply" href="#multiply">11.165 multiply</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-119" href="#Commands-119">11.165.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-negate" href="#negate">11.166 negate</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-120" href="#Commands-120">11.166.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-nlmeans-1" href="#nlmeans-1">11.167 nlmeans</a></li>
    <li><a id="toc-nnedi" href="#nnedi">11.168 nnedi</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-121" href="#Commands-121">11.168.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-noformat" href="#noformat">11.169 noformat</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-91" href="#Examples-91">11.169.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-noise" href="#noise">11.170 noise</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-92" href="#Examples-92">11.170.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-normalize" href="#normalize">11.171 normalize</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-122" href="#Commands-122">11.171.1 Commands</a></li>
      <li><a id="toc-Examples-93" href="#Examples-93">11.171.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-null" href="#null">11.172 null</a></li>
    <li><a id="toc-ocr" href="#ocr">11.173 ocr</a></li>
    <li><a id="toc-ocv" href="#ocv">11.174 ocv</a>
    <ul class="no-bullet">
      <li><a id="toc-dilate-1" href="#dilate-1">11.174.1 dilate</a></li>
      <li><a id="toc-erode" href="#erode">11.174.2 erode</a></li>
      <li><a id="toc-smooth" href="#smooth">11.174.3 smooth</a></li>
    </ul></li>
    <li><a id="toc-oscilloscope" href="#oscilloscope">11.175 oscilloscope</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-123" href="#Commands-123">11.175.1 Commands</a></li>
      <li><a id="toc-Examples-94" href="#Examples-94">11.175.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-overlay-1" href="#overlay-1">11.176 overlay</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-124" href="#Commands-124">11.176.1 Commands</a></li>
      <li><a id="toc-Examples-95" href="#Examples-95">11.176.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-overlay_005fcuda-1" href="#overlay_005fcuda-1">11.177 overlay_cuda</a></li>
    <li><a id="toc-owdenoise" href="#owdenoise">11.178 owdenoise</a></li>
    <li><a id="toc-pad-1" href="#pad-1">11.179 pad</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-96" href="#Examples-96">11.179.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-palettegen-1" href="#palettegen-1">11.180 palettegen</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-97" href="#Examples-97">11.180.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-paletteuse" href="#paletteuse">11.181 paletteuse</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-98" href="#Examples-98">11.181.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-perspective" href="#perspective">11.182 perspective</a></li>
    <li><a id="toc-phase" href="#phase">11.183 phase</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-125" href="#Commands-125">11.183.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-photosensitivity" href="#photosensitivity">11.184 photosensitivity</a></li>
    <li><a id="toc-pixdesctest" href="#pixdesctest">11.185 pixdesctest</a></li>
    <li><a id="toc-pixelize" href="#pixelize">11.186 pixelize</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-126" href="#Commands-126">11.186.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-pixscope" href="#pixscope">11.187 pixscope</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-127" href="#Commands-127">11.187.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-pp" href="#pp">11.188 pp</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-99" href="#Examples-99">11.188.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-pp7" href="#pp7">11.189 pp7</a></li>
    <li><a id="toc-premultiply" href="#premultiply">11.190 premultiply</a></li>
    <li><a id="toc-prewitt" href="#prewitt">11.191 prewitt</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-128" href="#Commands-128">11.191.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-pseudocolor" href="#pseudocolor">11.192 pseudocolor</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-129" href="#Commands-129">11.192.1 Commands</a></li>
      <li><a id="toc-Examples-100" href="#Examples-100">11.192.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-psnr" href="#psnr">11.193 psnr</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-101" href="#Examples-101">11.193.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-pullup-1" href="#pullup-1">11.194 pullup</a></li>
    <li><a id="toc-qp" href="#qp">11.195 qp</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-102" href="#Examples-102">11.195.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-random" href="#random">11.196 random</a></li>
    <li><a id="toc-readeia608" href="#readeia608">11.197 readeia608</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-130" href="#Commands-130">11.197.1 Commands</a></li>
      <li><a id="toc-Examples-103" href="#Examples-103">11.197.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-readvitc" href="#readvitc">11.198 readvitc</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-104" href="#Examples-104">11.198.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-remap" href="#remap">11.199 remap</a></li>
    <li><a id="toc-removegrain" href="#removegrain">11.200 removegrain</a></li>
    <li><a id="toc-removelogo" href="#removelogo">11.201 removelogo</a></li>
    <li><a id="toc-repeatfields" href="#repeatfields">11.202 repeatfields</a></li>
    <li><a id="toc-reverse" href="#reverse">11.203 reverse</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-105" href="#Examples-105">11.203.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-rgbashift" href="#rgbashift">11.204 rgbashift</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-131" href="#Commands-131">11.204.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-roberts" href="#roberts">11.205 roberts</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-132" href="#Commands-132">11.205.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-rotate" href="#rotate">11.206 rotate</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-106" href="#Examples-106">11.206.1 Examples</a></li>
      <li><a id="toc-Commands-133" href="#Commands-133">11.206.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-sab" href="#sab">11.207 sab</a></li>
    <li><a id="toc-scale-1" href="#scale-1">11.208 scale</a>
    <ul class="no-bullet">
      <li><a id="toc-Options-2" href="#Options-2">11.208.1 Options</a></li>
      <li><a id="toc-Examples-107" href="#Examples-107">11.208.2 Examples</a></li>
      <li><a id="toc-Commands-134" href="#Commands-134">11.208.3 Commands</a></li>
    </ul></li>
    <li><a id="toc-scale_005fcuda" href="#scale_005fcuda">11.209 scale_cuda</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-108" href="#Examples-108">11.209.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-scale_005fnpp-1" href="#scale_005fnpp-1">11.210 scale_npp</a></li>
    <li><a id="toc-scale2ref" href="#scale2ref">11.211 scale2ref</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-109" href="#Examples-109">11.211.1 Examples</a></li>
      <li><a id="toc-Commands-135" href="#Commands-135">11.211.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-scale2ref_005fnpp" href="#scale2ref_005fnpp">11.212 scale2ref_npp</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-110" href="#Examples-110">11.212.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-scharr" href="#scharr">11.213 scharr</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-136" href="#Commands-136">11.213.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-scroll" href="#scroll">11.214 scroll</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-137" href="#Commands-137">11.214.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-scdet-1" href="#scdet-1">11.215 scdet</a></li>
    <li><a id="toc-selectivecolor-1" href="#selectivecolor-1">11.216 selectivecolor</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-111" href="#Examples-111">11.216.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-separatefields-1" href="#separatefields-1">11.217 separatefields</a></li>
    <li><a id="toc-setdar_002c-setsar" href="#setdar_002c-setsar">11.218 setdar, setsar</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-112" href="#Examples-112">11.218.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-setfield-1" href="#setfield-1">11.219 setfield</a></li>
    <li><a id="toc-setparams-1" href="#setparams-1">11.220 setparams</a></li>
    <li><a id="toc-sharpen_005fnpp" href="#sharpen_005fnpp">11.221 sharpen_npp</a></li>
    <li><a id="toc-shear" href="#shear">11.222 shear</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-138" href="#Commands-138">11.222.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-showinfo" href="#showinfo">11.223 showinfo</a></li>
    <li><a id="toc-showpalette" href="#showpalette">11.224 showpalette</a></li>
    <li><a id="toc-shuffleframes" href="#shuffleframes">11.225 shuffleframes</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-113" href="#Examples-113">11.225.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-shufflepixels" href="#shufflepixels">11.226 shufflepixels</a></li>
    <li><a id="toc-shuffleplanes" href="#shuffleplanes">11.227 shuffleplanes</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-114" href="#Examples-114">11.227.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-signalstats-1" href="#signalstats-1">11.228 signalstats</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-115" href="#Examples-115">11.228.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-signature-1" href="#signature-1">11.229 signature</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-116" href="#Examples-116">11.229.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-siti-1" href="#siti-1">11.230 siti</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-117" href="#Examples-117">11.230.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-smartblur-1" href="#smartblur-1">11.231 smartblur</a></li>
    <li><a id="toc-sobel" href="#sobel">11.232 sobel</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-139" href="#Commands-139">11.232.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-spp-1" href="#spp-1">11.233 spp</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-140" href="#Commands-140">11.233.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-sr-1" href="#sr-1">11.234 sr</a></li>
    <li><a id="toc-ssim" href="#ssim">11.235 ssim</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-118" href="#Examples-118">11.235.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-stereo3d" href="#stereo3d">11.236 stereo3d</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-119" href="#Examples-119">11.236.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-streamselect_002c-astreamselect" href="#streamselect_002c-astreamselect">11.237 streamselect, astreamselect</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-141" href="#Commands-141">11.237.1 Commands</a></li>
      <li><a id="toc-Examples-120" href="#Examples-120">11.237.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-subtitles-1" href="#subtitles-1">11.238 subtitles</a></li>
    <li><a id="toc-super2xsai" href="#super2xsai">11.239 super2xsai</a></li>
    <li><a id="toc-swaprect" href="#swaprect">11.240 swaprect</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-142" href="#Commands-142">11.240.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-swapuv" href="#swapuv">11.241 swapuv</a></li>
    <li><a id="toc-tblend" href="#tblend">11.242 tblend</a></li>
    <li><a id="toc-telecine" href="#telecine">11.243 telecine</a></li>
    <li><a id="toc-thistogram" href="#thistogram">11.244 thistogram</a></li>
    <li><a id="toc-threshold" href="#threshold">11.245 threshold</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-143" href="#Commands-143">11.245.1 Commands</a></li>
      <li><a id="toc-Examples-121" href="#Examples-121">11.245.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-thumbnail" href="#thumbnail">11.246 thumbnail</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-122" href="#Examples-122">11.246.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-tile-1" href="#tile-1">11.247 tile</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-123" href="#Examples-123">11.247.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-tinterlace" href="#tinterlace">11.248 tinterlace</a></li>
    <li><a id="toc-tmedian" href="#tmedian">11.249 tmedian</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-144" href="#Commands-144">11.249.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-tmidequalizer" href="#tmidequalizer">11.250 tmidequalizer</a></li>
    <li><a id="toc-tmix" href="#tmix">11.251 tmix</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-124" href="#Examples-124">11.251.1 Examples</a></li>
      <li><a id="toc-Commands-145" href="#Commands-145">11.251.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-tonemap-1" href="#tonemap-1">11.252 tonemap</a>
    <ul class="no-bullet">
      <li><a id="toc-Options-3" href="#Options-3">11.252.1 Options</a></li>
    </ul></li>
    <li><a id="toc-tpad" href="#tpad">11.253 tpad</a></li>
    <li><a id="toc-transpose-1" href="#transpose-1">11.254 transpose</a></li>
    <li><a id="toc-transpose_005fnpp" href="#transpose_005fnpp">11.255 transpose_npp</a></li>
    <li><a id="toc-trim" href="#trim">11.256 trim</a></li>
    <li><a id="toc-unpremultiply" href="#unpremultiply">11.257 unpremultiply</a></li>
    <li><a id="toc-unsharp-1" href="#unsharp-1">11.258 unsharp</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-125" href="#Examples-125">11.258.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-untile-1" href="#untile-1">11.259 untile</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-126" href="#Examples-126">11.259.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-uspp" href="#uspp">11.260 uspp</a></li>
    <li><a id="toc-v360" href="#v360">11.261 v360</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-127" href="#Examples-127">11.261.1 Examples</a></li>
      <li><a id="toc-Commands-146" href="#Commands-146">11.261.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-vaguedenoiser" href="#vaguedenoiser">11.262 vaguedenoiser</a></li>
    <li><a id="toc-varblur" href="#varblur">11.263 varblur</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-147" href="#Commands-147">11.263.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-vectorscope" href="#vectorscope">11.264 vectorscope</a></li>
    <li><a id="toc-vidstabdetect-1" href="#vidstabdetect-1">11.265 vidstabdetect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-128" href="#Examples-128">11.265.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-vidstabtransform-1" href="#vidstabtransform-1">11.266 vidstabtransform</a>
    <ul class="no-bullet">
      <li><a id="toc-Options-4" href="#Options-4">11.266.1 Options</a></li>
      <li><a id="toc-Examples-129" href="#Examples-129">11.266.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-vflip" href="#vflip">11.267 vflip</a></li>
    <li><a id="toc-vfrdet" href="#vfrdet">11.268 vfrdet</a></li>
    <li><a id="toc-vibrance" href="#vibrance">11.269 vibrance</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-148" href="#Commands-148">11.269.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-vif" href="#vif">11.270 vif</a></li>
    <li><a id="toc-vignette-1" href="#vignette-1">11.271 vignette</a>
    <ul class="no-bullet">
      <li><a id="toc-Expressions" href="#Expressions">11.271.1 Expressions</a></li>
      <li><a id="toc-Examples-130" href="#Examples-130">11.271.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-vmafmotion" href="#vmafmotion">11.272 vmafmotion</a></li>
    <li><a id="toc-vstack" href="#vstack">11.273 vstack</a></li>
    <li><a id="toc-w3fdif" href="#w3fdif">11.274 w3fdif</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-149" href="#Commands-149">11.274.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-waveform" href="#waveform">11.275 waveform</a></li>
    <li><a id="toc-weave_002c-doubleweave" href="#weave_002c-doubleweave">11.276 weave, doubleweave</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-131" href="#Examples-131">11.276.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-xbr" href="#xbr">11.277 xbr</a></li>
    <li><a id="toc-xcorrelate" href="#xcorrelate">11.278 xcorrelate</a></li>
    <li><a id="toc-xfade" href="#xfade">11.279 xfade</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-132" href="#Examples-132">11.279.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-xmedian" href="#xmedian">11.280 xmedian</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-150" href="#Commands-150">11.280.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-xstack" href="#xstack">11.281 xstack</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-133" href="#Examples-133">11.281.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-yadif-1" href="#yadif-1">11.282 yadif</a></li>
    <li><a id="toc-yadif_005fcuda" href="#yadif_005fcuda">11.283 yadif_cuda</a></li>
    <li><a id="toc-yaepblur" href="#yaepblur">11.284 yaepblur</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-151" href="#Commands-151">11.284.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-zoompan" href="#zoompan">11.285 zoompan</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-134" href="#Examples-134">11.285.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-zscale-1" href="#zscale-1">11.286 zscale</a>
    <ul class="no-bullet">
      <li><a id="toc-Options-5" href="#Options-5">11.286.1 Options</a></li>
      <li><a id="toc-Commands-152" href="#Commands-152">11.286.2 Commands</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-OpenCL-Video-Filters" href="#OpenCL-Video-Filters">12 OpenCL Video Filters</a>
  <ul class="no-bullet">
    <li><a id="toc-avgblur_005fopencl" href="#avgblur_005fopencl">12.1 avgblur_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Example" href="#Example">12.1.1 Example</a></li>
    </ul></li>
    <li><a id="toc-boxblur_005fopencl" href="#boxblur_005fopencl">12.2 boxblur_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-135" href="#Examples-135">12.2.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-colorkey_005fopencl" href="#colorkey_005fopencl">12.3 colorkey_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-136" href="#Examples-136">12.3.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-convolution_005fopencl" href="#convolution_005fopencl">12.4 convolution_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-137" href="#Examples-137">12.4.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-erosion_005fopencl" href="#erosion_005fopencl">12.5 erosion_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Example-1" href="#Example-1">12.5.1 Example</a></li>
    </ul></li>
    <li><a id="toc-deshake_005fopencl" href="#deshake_005fopencl">12.6 deshake_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-138" href="#Examples-138">12.6.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-dilation_005fopencl" href="#dilation_005fopencl">12.7 dilation_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Example-2" href="#Example-2">12.7.1 Example</a></li>
    </ul></li>
    <li><a id="toc-nlmeans_005fopencl" href="#nlmeans_005fopencl">12.8 nlmeans_opencl</a></li>
    <li><a id="toc-overlay_005fopencl" href="#overlay_005fopencl">12.9 overlay_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-139" href="#Examples-139">12.9.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-pad_005fopencl" href="#pad_005fopencl">12.10 pad_opencl</a></li>
    <li><a id="toc-prewitt_005fopencl" href="#prewitt_005fopencl">12.11 prewitt_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Example-3" href="#Example-3">12.11.1 Example</a></li>
    </ul></li>
    <li><a id="toc-program_005fopencl-1" href="#program_005fopencl-1">12.12 program_opencl</a></li>
    <li><a id="toc-remap_005fopencl" href="#remap_005fopencl">12.13 remap_opencl</a></li>
    <li><a id="toc-roberts_005fopencl" href="#roberts_005fopencl">12.14 roberts_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Example-4" href="#Example-4">12.14.1 Example</a></li>
    </ul></li>
    <li><a id="toc-sobel_005fopencl" href="#sobel_005fopencl">12.15 sobel_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Example-5" href="#Example-5">12.15.1 Example</a></li>
    </ul></li>
    <li><a id="toc-tonemap_005fopencl" href="#tonemap_005fopencl">12.16 tonemap_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Example-6" href="#Example-6">12.16.1 Example</a></li>
    </ul></li>
    <li><a id="toc-unsharp_005fopencl" href="#unsharp_005fopencl">12.17 unsharp_opencl</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-140" href="#Examples-140">12.17.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-xfade_005fopencl" href="#xfade_005fopencl">12.18 xfade_opencl</a></li>
  </ul></li>
  <li><a id="toc-VAAPI-Video-Filters" href="#VAAPI-Video-Filters">13 VAAPI Video Filters</a>
  <ul class="no-bullet">
    <li><a id="toc-overlay_005fvaapi" href="#overlay_005fvaapi">13.1 overlay_vaapi</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-141" href="#Examples-141">13.1.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-tonemap_005fvaapi" href="#tonemap_005fvaapi">13.2 tonemap_vaapi</a>
    <ul class="no-bullet">
      <li><a id="toc-Example-7" href="#Example-7">13.2.1 Example</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Video-Sources" href="#Video-Sources">14 Video Sources</a>
  <ul class="no-bullet">
    <li><a id="toc-buffer" href="#buffer">14.1 buffer</a></li>
    <li><a id="toc-cellauto" href="#cellauto">14.2 cellauto</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-142" href="#Examples-142">14.2.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-coreimagesrc-1" href="#coreimagesrc-1">14.3 coreimagesrc</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-143" href="#Examples-143">14.3.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-gradients" href="#gradients">14.4 gradients</a></li>
    <li><a id="toc-mandelbrot" href="#mandelbrot">14.5 mandelbrot</a></li>
    <li><a id="toc-mptestsrc" href="#mptestsrc">14.6 mptestsrc</a></li>
    <li><a id="toc-frei0r_005fsrc" href="#frei0r_005fsrc">14.7 frei0r_src</a></li>
    <li><a id="toc-life" href="#life">14.8 life</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-144" href="#Examples-144">14.8.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-allrgb_002c-allyuv_002c-color_002c-colorchart_002c-colorspectrum_002c-haldclutsrc_002c-nullsrc_002c-pal75bars_002c-pal100bars_002c-rgbtestsrc_002c-smptebars_002c-smptehdbars_002c-testsrc_002c-testsrc2_002c-yuvtestsrc" href="#allrgb_002c-allyuv_002c-color_002c-colorchart_002c-colorspectrum_002c-haldclutsrc_002c-nullsrc_002c-pal75bars_002c-pal100bars_002c-rgbtestsrc_002c-smptebars_002c-smptehdbars_002c-testsrc_002c-testsrc2_002c-yuvtestsrc">14.9 allrgb, allyuv, color, colorchart, colorspectrum, haldclutsrc, nullsrc, pal75bars, pal100bars, rgbtestsrc, smptebars, smptehdbars, testsrc, testsrc2, yuvtestsrc</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-145" href="#Examples-145">14.9.1 Examples</a></li>
      <li><a id="toc-Commands-153" href="#Commands-153">14.9.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-openclsrc" href="#openclsrc">14.10 openclsrc</a></li>
    <li><a id="toc-sierpinski" href="#sierpinski">14.11 sierpinski</a></li>
  </ul></li>
  <li><a id="toc-Video-Sinks" href="#Video-Sinks">15 Video Sinks</a>
  <ul class="no-bullet">
    <li><a id="toc-buffersink" href="#buffersink">15.1 buffersink</a></li>
    <li><a id="toc-nullsink" href="#nullsink">15.2 nullsink</a></li>
  </ul></li>
  <li><a id="toc-Multimedia-Filters" href="#Multimedia-Filters">16 Multimedia Filters</a>
  <ul class="no-bullet">
    <li><a id="toc-abitscope" href="#abitscope">16.1 abitscope</a></li>
    <li><a id="toc-adrawgraph" href="#adrawgraph">16.2 adrawgraph</a></li>
    <li><a id="toc-agraphmonitor" href="#agraphmonitor">16.3 agraphmonitor</a></li>
    <li><a id="toc-ahistogram" href="#ahistogram">16.4 ahistogram</a></li>
    <li><a id="toc-aphasemeter" href="#aphasemeter">16.5 aphasemeter</a>
    <ul class="no-bullet">
      <li><a id="toc-phasing-detection" href="#phasing-detection">16.5.1 phasing detection</a></li>
      <li><a id="toc-Examples-146" href="#Examples-146">16.5.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-avectorscope" href="#avectorscope">16.6 avectorscope</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-147" href="#Examples-147">16.6.1 Examples</a></li>
      <li><a id="toc-Commands-154" href="#Commands-154">16.6.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-bench_002c-abench" href="#bench_002c-abench">16.7 bench, abench</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-148" href="#Examples-148">16.7.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-concat" href="#concat">16.8 concat</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-149" href="#Examples-149">16.8.1 Examples</a></li>
      <li><a id="toc-Commands-155" href="#Commands-155">16.8.2 Commands</a></li>
    </ul></li>
    <li><a id="toc-ebur128-1" href="#ebur128-1">16.9 ebur128</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-150" href="#Examples-150">16.9.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-interleave_002c-ainterleave" href="#interleave_002c-ainterleave">16.10 interleave, ainterleave</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-151" href="#Examples-151">16.10.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-latency_002c-alatency" href="#latency_002c-alatency">16.11 latency, alatency</a></li>
    <li><a id="toc-metadata_002c-ametadata" href="#metadata_002c-ametadata">16.12 metadata, ametadata</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-152" href="#Examples-152">16.12.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-perms_002c-aperms" href="#perms_002c-aperms">16.13 perms, aperms</a></li>
    <li><a id="toc-realtime_002c-arealtime" href="#realtime_002c-arealtime">16.14 realtime, arealtime</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-156" href="#Commands-156">16.14.1 Commands</a></li>
    </ul></li>
    <li><a id="toc-segment_002c-asegment" href="#segment_002c-asegment">16.15 segment, asegment</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-153" href="#Examples-153">16.15.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-select_002c-aselect" href="#select_002c-aselect">16.16 select, aselect</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-154" href="#Examples-154">16.16.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-sendcmd_002c-asendcmd" href="#sendcmd_002c-asendcmd">16.17 sendcmd, asendcmd</a>
    <ul class="no-bullet">
      <li><a id="toc-Commands-syntax" href="#Commands-syntax">16.17.1 Commands syntax</a></li>
      <li><a id="toc-Examples-155" href="#Examples-155">16.17.2 Examples</a></li>
    </ul></li>
    <li><a id="toc-setpts_002c-asetpts" href="#setpts_002c-asetpts">16.18 setpts, asetpts</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-156" href="#Examples-156">16.18.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-setrange" href="#setrange">16.19 setrange</a></li>
    <li><a id="toc-settb_002c-asettb" href="#settb_002c-asettb">16.20 settb, asettb</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-157" href="#Examples-157">16.20.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-showcqt" href="#showcqt">16.21 showcqt</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-158" href="#Examples-158">16.21.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-showfreqs" href="#showfreqs">16.22 showfreqs</a></li>
    <li><a id="toc-showspatial" href="#showspatial">16.23 showspatial</a></li>
    <li><a id="toc-showspectrum-1" href="#showspectrum-1">16.24 showspectrum</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-159" href="#Examples-159">16.24.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-showspectrumpic" href="#showspectrumpic">16.25 showspectrumpic</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-160" href="#Examples-160">16.25.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-showvolume" href="#showvolume">16.26 showvolume</a></li>
    <li><a id="toc-showwaves" href="#showwaves">16.27 showwaves</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-161" href="#Examples-161">16.27.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-showwavespic" href="#showwavespic">16.28 showwavespic</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-162" href="#Examples-162">16.28.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-sidedata_002c-asidedata" href="#sidedata_002c-asidedata">16.29 sidedata, asidedata</a></li>
    <li><a id="toc-spectrumsynth" href="#spectrumsynth">16.30 spectrumsynth</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-163" href="#Examples-163">16.30.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-split_002c-asplit" href="#split_002c-asplit">16.31 split, asplit</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-164" href="#Examples-164">16.31.1 Examples</a></li>
    </ul></li>
    <li><a id="toc-zmq_002c-azmq" href="#zmq_002c-azmq">16.32 zmq, azmq</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-165" href="#Examples-165">16.32.1 Examples</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Multimedia-Sources" href="#Multimedia-Sources">17 Multimedia Sources</a>
  <ul class="no-bullet">
    <li><a id="toc-amovie" href="#amovie">17.1 amovie</a></li>
    <li><a id="toc-avsynctest" href="#avsynctest">17.2 avsynctest</a></li>
    <li><a id="toc-movie-1" href="#movie-1">17.3 movie</a>
    <ul class="no-bullet">
      <li><a id="toc-Examples-166" href="#Examples-166">17.3.1 Examples</a></li>
      <li><a id="toc-Commands-157" href="#Commands-157">17.3.2 Commands</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-See-Also" href="#See-Also">18 See Also</a></li>
  <li><a id="toc-Authors" href="#Authors">19 Authors</a></li>
</ul>
</code></div>


<span id="Description"></span><h2 class="chapter"><a href="#toc-Description"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 Описание</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В этом документе описываются фильтры, источники и приемники, предоставляемые библиотекой libavfilter.
</font></font></p>

<span id="Filtering-Introduction"></span><h2 class="chapter"><a href="#toc-Filtering-Introduction"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 Введение в фильтрацию</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтрация в FFmpeg включается через библиотеку libavfilter.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В libavfilter фильтр может иметь несколько входов и несколько выходов. </font><font style="vertical-align: inherit;">Чтобы проиллюстрировать возможные вещи, мы рассмотрим следующий фильтр-граф.
</font></font></p>
<pre class="verbatim"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">                [главный]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ввод --&gt; разделить ---------------------&gt; наложение --&gt; вывод</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            | </font><font style="vertical-align: inherit;">^</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            |[тмп] [флип]|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            +-----&gt; обрезка --&gt; vflip -------+</font></font><font></font>
</pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот filtergraph разбивает входной поток на два потока, затем отправляет один поток через фильтр урожая и фильтр vflip, прежде чем объединить его обратно с другим потоком, наложив его сверху. </font><font style="vertical-align: inherit;">Для этого вы можете использовать следующую команду:
</font></font></p>
<div class="example">
<pre class="example"><code>ffmpeg -i INPUT -vf "split [main][tmp]; [tmp] crop=iw:ih/2:0:0, vflip [flip]; [main][flip] overlay=0:H/2" OUTPUT
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В результате верхняя половина видео зеркально отразится на нижней половине выходного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтры в одной линейной цепочке разделяются запятыми, а отдельные линейные цепочки фильтров разделяются точкой с запятой. </font><font style="vertical-align: inherit;">В нашем примере
 </font></font><var><code>crop,vflip</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">находятся в одной линейной цепи, </font></font><var><code>split</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а
 </font></font><var><code>overlay</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отдельно в другой. </font><font style="vertical-align: inherit;">Точки соединения линейных цепей помечены именами, заключенными в квадратные скобки. </font><font style="vertical-align: inherit;">В этом примере разделительный фильтр создает два выхода, которые связаны с метками </font></font><var><code>[main]</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>[tmp]</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поток, отправленный на второй выход </font></font><var><code>split</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, обозначенный как
 </font></font><var><code>[tmp]</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, обрабатывается </font></font><var><code>crop</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром, который отсекает нижнюю половину видео, а затем переворачивается по вертикали. </font><font style="vertical-align: inherit;">Фильтр
 </font></font><var><code>overlay</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">принимает на вход первый неизмененный вывод разделенного фильтра (который был помечен как </font></font><var><code>[main]</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) и накладывает на его нижнюю половину вывод, сгенерированный </font></font><var><code>crop,vflip</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">цепочкой фильтров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые фильтры принимают на вход список параметров: они указываются после имени фильтра и знака равенства и отделяются друг от друга двоеточием.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Существуют так называемые </font></font><var><code>source filters</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, у которых нет аудио/видео входа, и </font></font><var><code>sink filters</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">у которых не будет аудио/видео выхода.
</font></font></p>

<span id="graph2dot"></span><h2 class="chapter"><a href="#toc-graph2dot"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 график2точка</font></font></a></h2>

<p>The <samp><code>graph2dot</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">программа включена в FFmpeg</font></font><samp><code>tools</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
можно использовать для разбора описания графа фильтров и выдачи соответствующего текстового представления на точечном языке.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вызовите команду:
</font></font></p><div class="example">
<pre class="example"><code>graph2dot -h
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чтобы увидеть, как использовать</font></font><samp><code>graph2dot</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затем вы можете передать точечное описание в</font></font><samp><code>dot</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">программу (из набора программ graphviz) и получить графическое представление filtergraph.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например последовательность команд:
</font></font></p><div class="example">
<pre class="example"><code>echo <var><code>GRAPH_DESCRIPTION</code></var> | \<font></font>
tools/graph2dot -o graph.tmp &amp;&amp; \<font></font>
dot -Tpng graph.tmp -o graph.png &amp;&amp; \<font></font>
display graph.png<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может использоваться для создания и отображения изображения, представляющего граф, описываемый </font></font><var><code>GRAPH_DESCRIPTION</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">строкой. </font><font style="vertical-align: inherit;">Обратите внимание, что эта строка должна быть полным автономным графом с явно определенными входными и выходными данными. </font><font style="vertical-align: inherit;">Например, если ваша командная строка имеет вид:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i infile -vf scale=640:360 outfile
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ваша </font></font><var><code>GRAPH_DESCRIPTION</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">строка должна быть в форме:
</font></font></p><div class="example">
<pre class="example"><code>nullsrc,scale=640:360,nullsink
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вам также может понадобиться установить </font></font><var><code>nullsrc</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметры и добавить </font></font><var><code>format</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
фильтр, чтобы имитировать определенный входной файл.
</font></font></p>

<span id="Filtergraph-description"></span><h2 class="chapter"><a href="#toc-Filtergraph-description"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 Описание графа фильтра</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Граф фильтров — это ориентированный граф подключенных фильтров. </font><font style="vertical-align: inherit;">Он может содержать циклы, и между парой фильтров может быть несколько ссылок. </font><font style="vertical-align: inherit;">Каждая ссылка имеет одну входную площадку с одной стороны, соединяющую ее с одним фильтром, от которого она получает входные данные, и одну выходную площадку с другой стороны, соединяющую ее с одним фильтром, принимающим ее выходные данные.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждый фильтр в графе фильтров является экземпляром класса фильтра, зарегистрированного в приложении, который определяет функции и количество входных и выходных контактных площадок фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр без входных площадок называется «источником», а фильтр без выходных площадок называется «приемником».
</font></font></p>
<span id="Filtergraph-syntax"></span><span id="Filtergraph-syntax-1"></span><h3 class="section"><code><a href="#toc-Filtergraph-syntax-1">4.1 Filtergraph syntax</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Граф фильтра имеет текстовое представление, которое распознается
</font></font><samp><code>-filter</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><samp><code>-vf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><samp><code>-af</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также
</font></font><samp><code>-filter_complex</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">варианты в </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
</font></font><samp><code>-vf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><samp><code>-af</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и
 </font></font><code>avfilter_graph_parse_ptr()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">функцией, определенной в
</font></font><samp><code>libavfilter/avfilter.h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цепочка фильтров состоит из последовательности подключенных фильтров, каждый из которых связан с предыдущим в последовательности. </font><font style="vertical-align: inherit;">Цепочка фильтров представлена &ZeroWidthSpace;&ZeroWidthSpace;списком описаний фильтров, разделенных ",".
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Граф фильтров состоит из последовательности цепочек фильтров. </font><font style="vertical-align: inherit;">Последовательность цепочек фильтров представлена &ZeroWidthSpace;&ZeroWidthSpace;списком описаний цепочек фильтров, разделенных знаком «;».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр представлен строкой вида: [ </font></font><var><code>in_link_1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]...[ </font></font><var><code>in_link_N</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font><var><code>filter_name</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ </font></font><var><code>id</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>arguments</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font><var><code>out_link_1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]...[ </font></font><var><code>out_link_M</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]
</font></font></p>
<p><var><code>filter_name</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">имя класса фильтра, экземпляром которого является описываемый фильтр, и должно быть именем одного из классов фильтров, зарегистрированных в программе, за которым может следовать "@ </font></font><var><code>id</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". </font><font style="vertical-align: inherit;">За именем класса фильтра может следовать строка «= </font></font><var><code>arguments</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">».
</font></font></p>
<p><var><code>arguments</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это строка, содержащая параметры, используемые для инициализации экземпляра фильтра. </font><font style="vertical-align: inherit;">Он может иметь одну из двух форм:
</font></font></p><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список </font></font><var><code>key=value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пар, разделенных ':'.

</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный ':' список файлов </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В этом случае предполагается, что ключи являются именами опций в том порядке, в котором они объявлены. </font><font style="vertical-align: inherit;">Например, </font></font><code>fade</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр объявляет три параметра в следующем порядке:</font></font><samp><code>type</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>start_frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также
</font></font><samp><code>nb_frames</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Тогда список параметров </font></font><var><code>in:0:30</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">означает, что значение
 </font></font><var><code>in</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">присвоено опции</font></font><samp><code>type</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чтобы
</font></font><samp><code>start_frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>30</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">к</font></font><samp><code>nb_frames</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.

</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный ':' список смешанных прямых </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и длинных </font></font><var><code>key=value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
пар. </font><font style="vertical-align: inherit;">Прямое </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">должно предшествовать </font></font><var><code>key=value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">парам и следовать тому же порядку ограничений, что и в предыдущей точке. </font><font style="vertical-align: inherit;">Следующие
 </font></font><var><code>key=value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пары могут быть установлены в любом предпочтительном порядке.

</font></font></li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если само значение параметра представляет собой список элементов (например, </font></font><code>format</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр принимает список форматов пикселей), элементы в списке обычно разделяются символом '</font></font><samp><code>|</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список аргументов можно заключить в кавычки с помощью символа '</font></font><samp><code>'</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' в качестве начального и конечного знака, а также символ '</font></font><samp><code>\</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' для экранирования символов в цитируемом тексте; </font><font style="vertical-align: inherit;">в противном случае строка аргумента считается завершенной, когда следующий специальный символ (принадлежащий набору '</font></font><samp><code>[]=;,</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">') встречается.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Необязательно перед именем и аргументами фильтра следует список меток ссылок. </font><font style="vertical-align: inherit;">Метка ссылки позволяет назвать ссылку и связать ее с выходом фильтра или входной площадкой. </font><font style="vertical-align: inherit;">Предыдущие метки </font></font><var><code>in_link_1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><var><code>in_link_N</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">связаны с входными контактными площадками фильтра, следующие метки </font></font><var><code>out_link_1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... </font></font><var><code>out_link_M</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">связаны с выходными контактными площадками.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Когда в графе фильтра найдены две метки ссылок с одинаковыми именами, создается связь между соответствующими контактными площадками ввода и вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если выходная площадка не помечена, она по умолчанию связана с первой немаркированной входной площадкой следующего фильтра в цепочке фильтров. </font><font style="vertical-align: inherit;">Например, в цепочке фильтров
</font></font></p><div class="example">
<pre class="example"><code>nullsrc, split[L1], [L2]overlay, nullsink
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">экземпляр разделенного фильтра имеет две выходные площадки, а экземпляр наложенного фильтра — две входные площадки. </font><font style="vertical-align: inherit;">Первая выходная площадка разделения помечена «L1», первая входная площадка наложения помечена «L2», а вторая выходная площадка разделения связана со второй входной площадкой наложения, обе из которых не имеют маркировки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В описании фильтра, если входная метка первого фильтра не указана, предполагается "in"; </font><font style="vertical-align: inherit;">если выходная метка последнего фильтра не указана, предполагается "out".
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В полной цепочке фильтров должны быть соединены все немаркированные входные и выходные площадки фильтра. </font><font style="vertical-align: inherit;">График фильтра считается действительным, если все входные и выходные площадки фильтра всех цепочек фильтров соединены.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Libavfilter автоматически вставит </font></font><a href="#scale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабные</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтры там, где требуется преобразование формата. </font><font style="vertical-align: inherit;">Можно указать флаги swscale для автоматически вставленных
 </font><font style="vertical-align: inherit;">
масштабаторов, добавив их перед описанием filtergraph.
</font></font><code>sws_flags=<var><code>flags</code></var>;</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вот описание синтаксиса filtergraph в BNF:
</font></font></p><div class="example">
<pre class="example"><code><var><code>NAME</code></var>             ::= sequence of alphanumeric characters and '_'
<var><code>FILTER_NAME</code></var>      ::= <var><code>NAME</code></var>["@"<var><code>NAME</code></var>]
<var><code>LINKLABEL</code></var>        ::= "[" <var><code>NAME</code></var> "]"
<var><code>LINKLABELS</code></var>       ::= <var><code>LINKLABEL</code></var> [<var><code>LINKLABELS</code></var>]
<var><code>FILTER_ARGUMENTS</code></var> ::= sequence of chars (possibly quoted)
<var><code>FILTER</code></var>           ::= [<var><code>LINKLABELS</code></var>] <var><code>FILTER_NAME</code></var> ["=" <var><code>FILTER_ARGUMENTS</code></var>] [<var><code>LINKLABELS</code></var>]
<var><code>FILTERCHAIN</code></var>      ::= <var><code>FILTER</code></var> [,<var><code>FILTERCHAIN</code></var>]
<var><code>FILTERGRAPH</code></var>      ::= [sws_flags=<var><code>flags</code></var>;] <var><code>FILTERCHAIN</code></var> [;<var><code>FILTERGRAPH</code></var>]
</code></pre></div>

<span id="filtergraph-escaping"></span><span id="Notes-on-filtergraph-escaping"></span><h3 class="section"><code><a href="#toc-Notes-on-filtergraph-escaping">4.2 Notes on filtergraph escaping</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Составление описания filtergraph влечет за собой несколько уровней экранирования. </font><font style="vertical-align: inherit;">См. </font></font><a href="ffmpeg-utils.html#quoting_005fand_005fescaping"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел «Цитаты и экранирование» в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для получения дополнительной информации об используемой процедуре экранирования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Экранирование первого уровня влияет на содержимое каждого значения параметра фильтра, которое может содержать специальный символ </font></font><code>:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, используемый для разделения значений, или один из символов экранирования </font></font><code>\'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Экранирование второго уровня влияет на все описание фильтра, которое может содержать символы экранирования </font></font><code>\'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или специальные символы </font></font><code>[],;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, используемые в описании графа фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наконец, когда вы указываете filtergraph в командной строке оболочки, вам необходимо выполнить экранирование третьего уровня для содержащихся в нем специальных символов оболочки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, рассмотрим следующую строку, встроенную в описание </font><font style="vertical-align: inherit;">фильтра </font></font><a href="#drawtext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">drawtext.</font></font></a><font style="vertical-align: inherit;"></font><samp><code>text</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ценность:
</font></font></p><div class="example">
<pre class="example"><code>this is a 'string': may contain one, or more, special characters
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эта строка содержит </font></font><code>'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">специальный экранирующий символ и
 </font></font><code>:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">специальный символ, поэтому ее необходимо экранировать следующим образом:
</font></font></p><div class="example">
<pre class="example"><code>text=this is a \'string\'\: may contain one, or more, special characters
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Второй уровень экранирования требуется при встраивании описания фильтра в описание графа фильтров, чтобы экранировать все специальные символы графа фильтров. </font><font style="vertical-align: inherit;">Таким образом, приведенный выше пример становится:
</font></font></p><div class="example">
<pre class="example"><code>drawtext=text=this is a \\\'string\\\'\\: may contain one\, or more\, special characters
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(обратите внимание, что в дополнение к </font></font><code>\'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">экранированию специальных символов также </font></font><code>,</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">необходимо экранировать).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наконец, при написании описания filtergraph в команде оболочки требуется дополнительный уровень экранирования, который зависит от правил экранирования принятой оболочки. </font><font style="vertical-align: inherit;">Например, если предположить, что
 </font></font><code>\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это специальное и его нужно экранировать с помощью другого </font></font><code>\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, предыдущая строка в конечном итоге приведет к следующему результату:
</font></font></p><div class="example">
<pre class="example"><code>-vf "drawtext=text=this is a \\\\\\'string\\\\\\'\\\\: may contain one\\, or more\\, special characters"
</code></pre></div>

<span id="Timeline-editing"></span><h2 class="chapter"><a href="#toc-Timeline-editing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 Редактирование временной шкалы</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые фильтры поддерживают общий</font></font><samp><code>enable</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант. </font><font style="vertical-align: inherit;">Для фильтров, поддерживающих редактирование временной шкалы, этот параметр может быть установлен на выражение, которое вычисляется перед отправкой кадра в фильтр. </font><font style="vertical-align: inherit;">Если оценка отлична от нуля, фильтр будет включен, в противном случае кадр будет отправлен без изменений на следующий фильтр в графе фильтров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метка времени, выраженная в секундах, NAN, если метка времени ввода неизвестна
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>n</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">порядковый номер входного кадра, начиная с 0
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">позиция в файле входного кадра, NAN, если неизвестно
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ширина и высота входного кадра, если видео
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кроме того, эти фильтры поддерживают</font></font><samp><code>enable</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команда, которую можно использовать для переопределения выражения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Как и любой другой фильтр,</font></font><samp><code>enable</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option следует тем же правилам.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы включить фильтр размытия ( </font></font><a href="#smartblur"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smartblur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) с 10 секунд до 3 минут и фильтр </font></font><a href="#curves"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кривых</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , начинающийся с 3 секунд:
</font></font></p><div class="example">
<pre class="example"><code>smartblur = enable='between(t,10,3*60)',<font></font>
curves    = enable='gte(t,3)' : preset=cross_process<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Посмотрите </font></font><code>ffmpeg -filters</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, какие фильтры поддерживают временную шкалу.
</font></font></p>

<span id="commands"></span><span id="Changing-options-at-runtime-with-a-command"></span><h2 class="chapter"><a href="#toc-Changing-options-at-runtime-with-a-command"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 Изменение параметров во время выполнения с помощью команды</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые параметры можно изменить во время работы фильтра с помощью команды. </font><font style="vertical-align: inherit;">Эти параметры помечены буквой «Т» на выходе
</font></font><code>ffmpeg</code> <samp><code>-h filter=&lt;name of filter&gt;</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Имя команды — это имя параметра, а аргумент — новое значение.
</font></font></p>
<span id="framesync"></span><span id="Options-for-filters-with-several-inputs-_0028framesync_0029"></span><h2 class="chapter"><a href="#toc-Options-for-filters-with-several-inputs-_0028framesync_0029"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 вариантов фильтров с несколькими входами (framesync)</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые фильтры с несколькими входами поддерживают общий набор опций. </font><font style="vertical-align: inherit;">Эти параметры могут быть установлены только по имени, а не по сокращенному обозначению.
</font></font></p>
<dl compact="compact">
<dt><samp><code>eof_action</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Действие, предпринимаемое при обнаружении EOF на вторичном входе; </font><font style="vertical-align: inherit;">он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>repeat</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повторить последний кадр (по умолчанию).
</font></font></p></dd>
<dt><samp><code>endall</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Завершите оба потока.
</font></font></p></dd>
<dt><samp><code>pass</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пропустите основной ввод.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, принудительное завершение вывода при завершении кратчайшего ввода. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>repeatlast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, фильтр принудительно продлевает последний кадр вторичных потоков до конца основного потока. </font><font style="vertical-align: inherit;">Значение 0 отключает это поведение. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p></dd>
</dl>


<span id="Audio-Filters"></span><h2 class="chapter"><a href="#toc-Audio-Filters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 аудиофильтров</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Когда вы настраиваете сборку FFmpeg, вы можете отключить любой из существующих фильтров, используя файлы </font></font><code>--disable-filters</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Выходные данные configure отобразят аудиофильтры, включенные в вашу сборку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных в настоящее время аудиофильтров.
</font></font></p>
<span id="acompressor"></span><h3 class="section"><code><a href="#toc-acompressor">8.1 acompressor</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компрессор в основном используется для уменьшения динамического диапазона сигнала. </font><font style="vertical-align: inherit;">Особенно современная музыка в основном сжимается с высоким коэффициентом для улучшения общей громкости. </font><font style="vertical-align: inherit;">Это сделано для того, чтобы привлечь максимальное внимание слушателя, «ожирить» звук и придать треку больше «мощности». </font><font style="vertical-align: inherit;">Если сигнал сжат слишком сильно, впоследствии он может звучать тускло или «мертво», или он может начать «накачивать» (что может быть мощным эффектом, но также может полностью разрушить дорожку). </font><font style="vertical-align: inherit;">Правильная компрессия — ключ к профессиональному звуку и высокое искусство сведения и мастеринга. </font><font style="vertical-align: inherit;">Из-за его сложных настроек может потребоваться много времени, чтобы получить правильное представление о таком эффекте.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сжатие выполняется путем определения объема выше выбранного уровня
 </font></font><code>threshold</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и деления его на коэффициент, установленный с помощью </font></font><code>ratio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Таким образом, если вы установите порог на -12 дБ и ваш сигнал достигает -6 дБ, соотношение 2:1 приведет к сигналу на уровне -9 дБ. </font><font style="vertical-align: inherit;">Поскольку точное манипулирование сигналом может привести к искажению формы сигнала, снижение может быть выравнивается с течением времени. </font><font style="vertical-align: inherit;">Это делается настройками «Атака» и «Отпуск».
</font></font><code>attack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определяет, как долго сигнал должен подниматься выше порога, прежде чем произойдет какое-либо снижение, и </font></font><code>release</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливает время, в течение которого сигнал должен упасть ниже порога, чтобы снова уменьшить снижение. </font><font style="vertical-align: inherit;">Более короткие сигналы, чем выбранное время атаки, останутся нетронутыми. </font><font style="vertical-align: inherit;">Общее уменьшение сигнала может быть компенсировано впоследствии с помощью
</font></font><code>makeup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметр. </font><font style="vertical-align: inherit;">Таким образом, сжатие пиков сигнала примерно на 6 дБ и повышение уровня грима до этого уровня приводит к тому, что сигнал становится в два раза громче, чем источник. </font><font style="vertical-align: inherit;">Чтобы получить более мягкий вход в сжатие, </font></font><code>knee</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">жесткий край сглаживается на пороге в диапазоне выбранных децибел.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим работы компрессора. </font><font style="vertical-align: inherit;">Можно </font></font><code>upward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если сигнал потока превысит этот уровень, это повлияет на уменьшение усиления. </font><font style="vertical-align: inherit;">По умолчанию это 0,125. </font><font style="vertical-align: inherit;">Диапазон составляет от 0,00097563 до 1.
</font></font></p>
</dd>
<dt><samp><code>ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент, на который уменьшается сигнал. </font><font style="vertical-align: inherit;">1:2 означает, что если уровень поднялся на 4 дБ выше порога, то после снижения он будет только на 2 дБ выше. </font><font style="vertical-align: inherit;">По умолчанию 2. Диапазон значений от 1 до 20.
</font></font></p>
</dd>
<dt><samp><code>attack</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество миллисекунд, в течение которых сигнал должен подняться выше порогового значения, прежде чем начнется снижение усиления. </font><font style="vertical-align: inherit;">По умолчанию 20. Диапазон значений от 0,01 до 2000.
</font></font></p>
</dd>
<dt><samp><code>release</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество миллисекунд, в течение которых сигнал должен упасть ниже порогового значения, прежде чем уменьшение снова уменьшится. </font><font style="vertical-align: inherit;">По умолчанию 250. Диапазон значений от 0,01 до 9000.
</font></font></p>
</dd>
<dt><samp><code>makeup</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину, на которую будет усиливаться сигнал после обработки. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 1 до 64.
</font></font></p>
</dd>
<dt><samp><code>knee</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изогните острое колено вокруг порога, чтобы более мягко ввести снижение усиления. </font><font style="vertical-align: inherit;">По умолчанию 2,82843. </font><font style="vertical-align: inherit;">Диапазон от 1 до 8.
</font></font></p>
</dd>
<dt><samp><code>link</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите, влияет ли </font></font><code>average</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">уровень между всеми каналами входного потока или более громким ( </font></font><code>maximum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) каналом входного потока на уменьшение. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>average</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>detection</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Следует ли брать точный сигнал в случае </font></font><code>peak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или RMS в случае </font></font><code>rms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию, </font></font><code>rms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">которое в основном более плавное.
</font></font></p>
</dd>
<dt><samp><code>mix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Насколько использовать сжатый сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p></dd>
</dl>

<span id="Commands"></span><h4 class="subsection"><a href="#toc-Commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="acontrast"></span><h3 class="section"><code><a href="#toc-acontrast">8.2 acontrast</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Простой фильтр сжатия/расширения динамического диапазона звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>contrast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить контраст. </font><font style="vertical-align: inherit;">По умолчанию 33. Допустимый диапазон от 0 до 100.
</font></font></p></dd>
</dl>

<span id="acopy"></span><h3 class="section"><code><a href="#toc-acopy">8.3 acopy</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скопируйте входной источник звука без изменений на выход. </font><font style="vertical-align: inherit;">В основном это полезно для целей тестирования.
</font></font></p>
<span id="acrossfade"></span><h3 class="section"><code><a href="#toc-acrossfade">8.4 acrossfade</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените перекрестное затухание от одного входного аудиопотока к другому входному аудиопотоку. </font><font style="vertical-align: inherit;">Кроссфейд применяется в течение заданного времени в конце первого потока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>nb_samples, ns</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите количество сэмплов, для которых должен длиться эффект перекрестного затухания. </font><font style="vertical-align: inherit;">В конце эффекта перекрестного затухания первый входной звук будет полностью тихим. </font><font style="vertical-align: inherit;">По умолчанию 44100.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите продолжительность эффекта перекрестного затухания. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">По умолчанию продолжительность определяется </font></font><var><code>nb_samples</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если установлено, эта опция используется вместо </font></font><var><code>nb_samples</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overlap, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должен ли конец первого потока пересекаться с началом второго потока. </font><font style="vertical-align: inherit;">По умолчанию включено.
</font></font></p>
</dd>
<dt><samp><code>curve1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите кривую для перехода плавного перехода для первого потока.
</font></font></p>
</dd>
<dt><samp><code>curve2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите кривую для перехода плавного перехода для второго потока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Описание доступных типов кривых см. в описании </font><font style="vertical-align: inherit;">фильтра
 </font></font><a href="#afade"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fade .</font></font></a><font style="vertical-align: inherit;"></font></p></dd>
</dl>

<span id="Examples"></span><h4 class="subsection"><a href="#toc-Examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.4.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переход от одного входа к другому:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i first.flac -i second.flac -filter_complex acrossfade=d=10:c1=exp:c2=exp output.flac
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переход от одного входа к другому, но без перекрытия:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i first.flac -i second.flac -filter_complex acrossfade=d=10:o=0:c1=exp:c2=exp output.flac
</code></pre></div>
</li></ul>

<span id="acrossover"></span><h3 class="section"><code><a href="#toc-acrossover">8.5 acrossover</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделить аудиопоток на несколько полос.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр разделяет аудиопоток на два или более частотных диапазона. </font><font style="vertical-align: inherit;">Суммирование всех потоков обратно даст плоский результат.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>split</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите разделенные частоты. </font><font style="vertical-align: inherit;">Они должны быть положительными и увеличиваться.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтра для каждого разделения полосы. </font><font style="vertical-align: inherit;">Это управляет спадом фильтра или крутизной передаточной функции фильтра. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2nd</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>4th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>6th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>8th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>10th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">60 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>12th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>14th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">84 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>16th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">96 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>18th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">108 дБ на октаву.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>20th</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">120 дБ на октаву.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>4th</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входного усиления. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>gains</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление для каждой полосы. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1 для всех диапазонов.
</font></font></p>
</dd>
<dt><samp><code>precision</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какую точность использовать при обработке образцов.
</font></font></p>
<dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Автоматический выбор внутреннего формата сэмпла в зависимости от других фильтров.
</font></font></p>
</dd>
<dt><samp><code>float</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте формат выборки с точностью до одинарной плавающей запятой.
</font></font></p>
</dd>
<dt><samp><code>double</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте формат выборки с двойной точностью с плавающей запятой.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-1"></span><h4 class="subsection"><a href="#toc-Examples-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.5.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделить входной аудиопоток на две полосы (низкая и высокая) с частотой разделения 1500 Гц, каждая полоса будет в отдельном потоке:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.flac -filter_complex 'acrossover=split=1500[LOW][HIGH]' -map '[LOW]' low.wav -map '[HIGH]' high.wav
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с более высоким порядком фильтрации:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.flac -filter_complex 'acrossover=split=1500:order=8th[LOW][HIGH]' -map '[LOW]' low.wav -map '[HIGH]' high.wav
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но также с дополнительной средней полосой (частоты между 1500 и 8000):
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.flac -filter_complex 'acrossover=split=1500 8000:order=8th[LOW][MID][HIGH]' -map '[LOW]' low.wav -map '[MID]' mid.wav -map '[HIGH]' high.wav
</code></pre></div>
</li></ul>

<span id="acrusher"></span><h3 class="section"><code><a href="#toc-acrusher">8.6 acrusher</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите битовое разрешение звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр биткрашер с расширенной функциональностью. </font><font style="vertical-align: inherit;">Bit Crusher используется для звукового уменьшения количества битов, с которыми сэмплируется звуковой сигнал. </font><font style="vertical-align: inherit;">Это вообще не меняет битовую глубину, просто производит эффект. </font><font style="vertical-align: inherit;">Материал с уменьшенной разрядностью звучит более жестко и «цифрово». </font><font style="vertical-align: inherit;">Этот фильтр может даже округлять до непрерывных значений вместо дискретных разрядностей. </font><font style="vertical-align: inherit;">Кроме того, он имеет смещение D/C, что приводит к различному подавлению нижней и верхней половины сигнала. </font><font style="vertical-align: inherit;">Параметр Anti-Aliasing может производить «более мягкие» звуки дробления.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Еще одной особенностью этого фильтра является логарифмический режим. </font><font style="vertical-align: inherit;">Эта настройка переключает линейные расстояния между битами на логарифмические. </font><font style="vertical-align: inherit;">В результате получается гораздо более «естественный» звучащий дробилка, который, например, не гейтирует низкие сигналы. </font><font style="vertical-align: inherit;">Человеческое ухо имеет логарифмическое восприятие, поэтому такое дробление гораздо приятнее. </font><font style="vertical-align: inherit;">Логарифмическое дробление также может быть сглажено.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить уровень в.
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выставить уровень.
</font></font></p>
</dd>
<dt><samp><code>bits</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите битовое уменьшение.
</font></font></p>
</dd>
<dt><samp><code>mix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите объем смешивания.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть линейным: </font></font><code>lin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или логарифмическим: </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>dc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите постоянный ток.
</font></font></p>
</dd>
<dt><samp><code>aa</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сглаживание.
</font></font></p>
</dd>
<dt><samp><code>samples</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сокращение выборки.
</font></font></p>
</dd>
<dt><samp><code>lfo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите LFO. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p>
</dd>
<dt><samp><code>lforange</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите диапазон LFO.
</font></font></p>
</dd>
<dt><samp><code>lforate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите скорость LFO.
</font></font></p></dd>
</dl>

<span id="Commands-1"></span><h4 class="subsection"><a href="#toc-Commands-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.6.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="acue"></span><h3 class="section"><code><a href="#toc-acue">8.7 acue</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отложить фильтрацию звука до заданной временной метки настенных часов. </font><font style="vertical-align: inherit;">См. </font></font><a href="#cue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cue</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
фильтр.
</font></font></p>
<span id="adeclick"></span><h3 class="section"><code><a href="#toc-adeclick">8.8 adeclick</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите импульсный шум из входного аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образцы, обнаруженные как импульсный шум, заменяются интерполированными образцами с использованием авторегрессионного моделирования.
</font></font></p>
<dl compact="compact">
<dt><samp><code>window, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер окна в миллисекундах. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до
 </font></font><code>100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>55</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">миллисекунды. </font><font style="vertical-align: inherit;">Это устанавливает размер окна, которое будет обработано сразу.
</font></font></p>
</dd>
<dt><samp><code>overlap, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить перекрытие окна в процентах от размера окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от
 </font></font><code>50</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>95</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">проценты. </font><font style="vertical-align: inherit;">Установка очень высокого значения увеличивает удаление импульсного шума, но делает весь процесс намного медленнее.
</font></font></p>
</dd>
<dt><samp><code>arorder, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок авторегрессии в процентах от размера окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от
 </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>25</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">проценты. </font><font style="vertical-align: inherit;">Эта опция также контролирует качество интерполированных выборок с использованием соседних хороших выборок.
</font></font></p>
</dd>
<dt><samp><code>threshold, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговое значение. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это контролирует силу импульсного шума, который будет удален. </font><font style="vertical-align: inherit;">Чем ниже значение, тем больше сэмплов будет детектировано как импульсный шум.
</font></font></p>
</dd>
<dt><samp><code>burst, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить пакетное слияние в процентах от размера окна. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до
 </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если любые две выборки, обнаруженные как шум, разнесены меньше, чем это значение, то любая выборка между этими двумя выборками также будет обнаружена как шум.
</font></font></p>
</dd>
<dt><samp><code>method, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод перекрытия.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>add, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите метод добавления с перекрытием. </font><font style="vertical-align: inherit;">Даже неинтерполированные выборки немного изменяются с помощью этого метода.
</font></font></p>
</dd>
<dt><samp><code>save, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите метод сохранения с перекрытием. </font><font style="vertical-align: inherit;">Неинтерполированные выборки остаются без изменений.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="adeclip"></span><h3 class="section"><code><a href="#toc-adeclip">8.9 adeclip</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите обрезанные сэмплы из входного аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образцы, обнаруженные как усеченные, заменяются интерполированными образцами с использованием авторегрессионного моделирования.
</font></font></p>
<dl compact="compact">
<dt><samp><code>window, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер окна в миллисекундах. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>55</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">миллисекунды. </font><font style="vertical-align: inherit;">Это устанавливает размер окна, которое будет обработано сразу.
</font></font></p>
</dd>
<dt><samp><code>overlap, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить перекрытие окна в процентах от размера окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>50</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
до </font></font><code>95</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">проценты.
</font></font></p>
</dd>
<dt><samp><code>arorder, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок авторегрессии в процентах от размера окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от
 </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>25</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">проценты. </font><font style="vertical-align: inherit;">Эта опция также контролирует качество интерполированных выборок с использованием соседних хороших выборок.
</font></font></p>
</dd>
<dt><samp><code>threshold, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговое значение. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Более высокие значения делают обнаружение клипа менее агрессивным.
</font></font></p>
</dd>
<dt><samp><code>hsize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер гистограммы, используемой для обнаружения клипов. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>9999</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Более высокие значения делают обнаружение клипа менее агрессивным.
</font></font></p>
</dd>
<dt><samp><code>method, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод перекрытия.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>add, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите метод добавления с перекрытием. </font><font style="vertical-align: inherit;">Даже неинтерполированные выборки немного изменяются с помощью этого метода.
</font></font></p>
</dd>
<dt><samp><code>save, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите метод сохранения с перекрытием. </font><font style="vertical-align: inherit;">Неинтерполированные выборки остаются без изменений.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="adecorrelate"></span><h3 class="section"><code><a href="#toc-adecorrelate">8.10 adecorrelate</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените декорреляцию к входному аудиопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>stages</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить этапы декорреляции фильтрации. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 16. Значение по умолчанию — 6.
</font></font></p>
</dd>
<dt><samp><code>seed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите случайное начальное значение, используемое для установки задержки в выборках по каналам.
</font></font></p></dd>
</dl>

<span id="adelay"></span><h3 class="section"><code><a href="#toc-adelay">8.11 adelay</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задержка одного или нескольких аудиоканалов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сэмплы в задержанном канале заполнены тишиной.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>delays</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите список задержек в миллисекундах для каждого канала, разделенных знаком «|». </font><font style="vertical-align: inherit;">Неиспользованные задержки будут молча игнорироваться. </font><font style="vertical-align: inherit;">Если количество заданных задержек меньше количества каналов, все оставшиеся каналы не будут задержаны. </font><font style="vertical-align: inherit;">Если вы хотите отложить точное количество выборок, добавьте «S» к числу. </font><font style="vertical-align: inherit;">Если вы хотите вместо задержки в секундах, добавьте 's' к номеру.
</font></font></p>
</dd>
<dt><samp><code>all</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте последнюю установленную задержку для всех оставшихся каналов. </font><font style="vertical-align: inherit;">По умолчанию отключен. </font><font style="vertical-align: inherit;">Эта опция, если она включена, изменяет </font></font><code>delays</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">интерпретацию опции.
</font></font></p></dd>
</dl>

<span id="Examples-2"></span><h4 class="subsection"><a href="#toc-Examples-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.11.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задержите первый канал на 1,5 секунды, третий канал на 0,5 секунды и оставьте второй канал (и любые другие каналы, которые могут присутствовать) без изменений.
</font></font><div class="example">
<pre class="example"><code>adelay=1500|0|500
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задержите второй канал на 500 отсчетов, третий канал на 700 отсчетов и оставьте первый канал (и любые другие каналы, которые могут присутствовать) без изменений.
</font></font><div class="example">
<pre class="example"><code>adelay=0|500S|700S
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задержите все каналы на одинаковое количество отсчетов:
</font></font><div class="example">
<pre class="example"><code>adelay=delays=64S:all=1
</code></pre></div>
</li></ul>

<span id="adenorm"></span><h3 class="section"><code><a href="#toc-adenorm">8.12 adenorm</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remedy денормирует звук, добавляя очень низкий уровень шума.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр должен быть помещен перед любым фильтром, который может производить денормализацию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень добавленного шума в дБ. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>-351</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от -451 до -90.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип добавленного шума.
</font></font></p>
<dl compact="compact">
<dt><samp><code>dc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте сигнал постоянного тока.
</font></font></p></dd>
<dt><samp><code>ac</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте сигнал переменного тока.
</font></font></p></dd>
<dt><samp><code>square</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте квадратный сигнал.
</font></font></p></dd>
<dt><samp><code>pulse</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте импульсный сигнал.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>dc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-2"></span><h4 class="subsection"><a href="#toc-Commands-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.12.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="aderivative_002c-aintegral"></span><h3 class="section"><code><a href="#toc-aderivative_002c-aintegral">8.13 aderivative, aintegral</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите производную/интеграл аудиопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применение обоих фильтров один за другим дает оригинальный звук.
</font></font></p>
<span id="adynamicequalizer"></span><h3 class="section"><code><a href="#toc-adynamicequalizer">8.14 adynamicequalizer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените динамическую коррекцию к входному аудиопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог обнаружения, используемый для запуска выравнивания. </font><font style="vertical-align: inherit;">Обнаружение порога осуществляется с помощью полосового фильтра. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0. Допустимый диапазон — от 0 до 100.
</font></font></p>
</dd>
<dt><samp><code>dfrequency</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту обнаружения в Гц, используемую для полосового фильтра, используемого для запуска выравнивания. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1000 Гц. </font><font style="vertical-align: inherit;">Допустимый диапазон составляет от 2 до 1000000 Гц.
</font></font></p>
</dd>
<dt><samp><code>dqfactor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент резонанса обнаружения для полосового фильтра, используемого для запуска выравнивания. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Допустимый диапазон — от 0,001 до 1000.
</font></font></p>
</dd>
<dt><samp><code>tfrequency</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите целевую частоту выравнивающего фильтра. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1000 Гц. </font><font style="vertical-align: inherit;">Допустимый диапазон составляет от 2 до 1000000 Гц.
</font></font></p>
</dd>
<dt><samp><code>tqfactor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите целевой коэффициент резонанса для целевого выравнивающего фильтра. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Допустимый диапазон — от 0,001 до 1000.
</font></font></p>
</dd>
<dt><samp><code>attack</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество миллисекунд, в течение которых сигнал от обнаружения должен подняться выше порога обнаружения, прежде чем начнется выравнивание. </font><font style="vertical-align: inherit;">По умолчанию 20. Допустимый диапазон от 1 до 2000.
</font></font></p>
</dd>
<dt><samp><code>release</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество миллисекунд, в течение которых сигнал от обнаружения должен упасть ниже порога обнаружения, прежде чем выравнивание закончится. </font><font style="vertical-align: inherit;">По умолчанию 200. Допустимый диапазон от 1 до 2000.
</font></font></p>
</dd>
<dt><samp><code>knee</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изгиб острого колена вокруг порога обнаружения для более мягкого расчета коэффициента усиления выравнивания. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 0 до 8.
</font></font></p>
</dd>
<dt><samp><code>ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент, на который повышается усиление выравнивания. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 1 до 20.
</font></font></p>
</dd>
<dt><samp><code>makeup</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите компенсационное смещение в дБ, на которое повышается усиление выравнивания. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от 0 до 30.
</font></font></p>
</dd>
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимально допустимую величину снижения/усиления в дБ. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от 0 до 200.
</font></font></p>
</dd>
<dt><samp><code>slew</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент нарастания. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 1 до 200.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим работы фильтра, может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>listen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вывод только изолированного полосового сигнала.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cut</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вырезать частоты выше порога обнаружения.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>boost</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повышение частоты ниже порога обнаружения.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим по умолчанию '</font></font><samp><code>cut</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>tftype</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип целевого фильтра, может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bell</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lowshelf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>highshelf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип по умолчанию: '</font></font><samp><code>bell</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

<span id="Commands-3"></span><h4 class="subsection"><a href="#toc-Commands-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.14.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="adynamicsmooth"></span><h3 class="section"><code><a href="#toc-adynamicsmooth">8.15 adynamicsmooth</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените динамическое сглаживание к входному аудиопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>sensitivity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень чувствительности к колебаниям частоты. </font><font style="vertical-align: inherit;">По умолчанию 2. Допустимый диапазон от 0 до 1e+06.
</font></font></p>
</dd>
<dt><samp><code>basefreq</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите базовую частоту для сглаживания. </font><font style="vertical-align: inherit;">Значение по умолчанию 22050. Допустимый диапазон от 2 до 1e+06.
</font></font></p></dd>
</dl>

<span id="Commands-4"></span><h4 class="subsection"><a href="#toc-Commands-4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.15.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="aecho"></span><h3 class="section"><code><a href="#toc-aecho">8.16 aecho</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эхо к входному звуку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эхо представляет собой отраженный звук и может естественно возникать среди гор (а иногда и больших зданий) при разговоре или крике; </font><font style="vertical-align: inherit;">эффекты цифрового эха имитируют это поведение и часто используются, чтобы помочь заполнить звук одного инструмента или вокала. </font><font style="vertical-align: inherit;">Разница во времени между исходным сигналом и отражением равна </font></font><code>delay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а громкость отраженного сигнала равна </font></font><code>decay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Несколько эхо-сигналов могут иметь разные задержки и затухания.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>in_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление отраженного сигнала. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>out_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить выходное усиление отраженного сигнала. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>delays</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите список временных интервалов в миллисекундах между исходным сигналом и отражениями, разделенными '|'. </font></font><code>delay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Допустимый </font><font style="vertical-align: inherit;">диапазон для каждого </font></font><code>(0 - 90000.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>decays</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить список громкости отраженных сигналов, разделенных символом '|'. </font></font><code>decay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Допустимый </font><font style="vertical-align: inherit;">диапазон для каждого </font></font><code>(0 - 1.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-3"></span><h4 class="subsection"><a href="#toc-Examples-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.16.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заставьте это звучать так, как будто инструментов в два раза больше, чем на самом деле:
</font></font><div class="example">
<pre class="example"><code>aecho=0.8:0.88:60:0.4
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если задержка очень короткая, то это звучит как (металлический) робот, играющий музыку:
</font></font><div class="example">
<pre class="example"><code>aecho=0.8:0.88:6:0.4
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более длительная задержка будет звучать как концерт под открытым небом в горах:
</font></font><div class="example">
<pre class="example"><code>aecho=0.8:0.9:1000:0.3
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с еще одной горой:
</font></font><div class="example">
<pre class="example"><code>aecho=0.8:0.9:1000|1800:0.3|0.25
</code></pre></div>
</li></ul>

<span id="aemphasis"></span><h3 class="section"><code><a href="#toc-aemphasis">8.17 aemphasis</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр звуковых акцентов создает или восстанавливает материал, непосредственно взятый с пластинок или компакт-дисков с акцентами, с различными кривыми фильтра. </font><font style="vertical-align: inherit;">Например, для записи музыки на винил сигнал сначала должен быть обработан фильтром, чтобы нивелировать недостатки этого носителя записи. </font><font style="vertical-align: inherit;">После воспроизведения материала необходимо применить обратный фильтр, чтобы восстановить искажение частотной характеристики.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление.
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим фильтра. </font><font style="vertical-align: inherit;">Для восстановления материала используйте </font></font><code>reproduction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим, в противном случае используйте </font></font><code>production</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>reproduction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип фильтра. </font><font style="vertical-align: inherit;">Выбирает средний. </font><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><samp><code>col</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите Колумбию.
</font></font></p></dd>
<dt><samp><code>emi</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите ЭМИ.
</font></font></p></dd>
<dt><samp><code>bsi</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите BSI (78 об/мин).
</font></font></p></dd>
<dt><samp><code>riaa</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите РИАА.
</font></font></p></dd>
<dt><samp><code>cd</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите компакт-диск (CD).
</font></font></p></dd>
<dt><samp><code>50fm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите 50 мкс (FM).
</font></font></p></dd>
<dt><samp><code>75fm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите 75 мкс (FM).
</font></font></p></dd>
<dt><samp><code>50kf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите 50 мкс (FM-KF).
</font></font></p></dd>
<dt><samp><code>75kf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите 75 мкс (FM-KF).
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-5"></span><h4 class="subsection"><a href="#toc-Commands-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.17.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="aeval"></span><h3 class="section"><code><a href="#toc-aeval">8.18 aeval</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените звуковой сигнал в соответствии с указанными выражениями.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает одно или несколько выражений (по одному для каждого канала), которые оцениваются и используются для изменения соответствующего аудиосигнала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>exprs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите список выражений, разделенных знаком «|», для каждого отдельного канала. </font><font style="vertical-align: inherit;">Если количество входных каналов превышает количество выражений, для оставшихся выходных каналов используется последнее указанное выражение.
</font></font></p>
</dd>
<dt><samp><code>channel_layout, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите схему выходного канала. </font><font style="vertical-align: inherit;">Если не указано, расположение каналов определяется количеством выражений. </font><font style="vertical-align: inherit;">Если установлено '</font></font><samp><code>same</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', по умолчанию будет использоваться тот же макет входного канала.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждое выражение </font></font><var><code>exprs</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может содержать следующие константы и функции:
</font></font></p>
<dl compact="compact">
<dt><samp><code>ch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер канала текущего выражения
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер оцениваемой выборки, начиная с 0
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота дискретизации
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">время оцениваемого образца, выраженное в секундах
</font></font></p>
</dd>
<dt><samp><code>nb_in_channels</code></samp></dt>
<dt><samp><code>nb_out_channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вход и выход количество каналов
</font></font></p>
</dd>
<dt><samp><code>val(CH)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значение входного канала с номером</font></font><var><code>CH</code></var>
</p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примечание: этот фильтр работает медленно. </font><font style="vertical-align: inherit;">Для более быстрой обработки следует использовать специальный фильтр.
</font></font></p>
<span id="Examples-4"></span><h4 class="subsection"><a href="#toc-Examples-4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.18.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Половина объема:
</font></font><div class="example">
<pre class="example"><code>aeval=val(ch)/2:c=same
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Инверсия фазы второго канала:
</font></font><div class="example">
<pre class="example"><code>aeval=val(0)|-val(1)
</code></pre></div>
</li></ul>

<span id="aexciter"></span><h3 class="section"><code><a href="#toc-aexciter">8.19 aexciter</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возбудитель используется для получения высокого звука, которого нет в исходном сигнале. </font><font style="vertical-align: inherit;">Это делается путем создания гармонических искажений сигнала, которые ограничены по диапазону и добавляются к исходному сигналу. </font><font style="vertical-align: inherit;">Exciter поднимает верхний предел звукового сигнала, не просто повышая более высокие частоты, как это сделал бы эквалайзер, чтобы создать более «четкий» или «блестящий» звук.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входной уровень до обработки сигнала. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 64. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходной уровень после обработки сигнала. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 64. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>amount</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество гармоник, добавляемых к исходному сигналу. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 64. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>drive</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество вновь созданных гармоник. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,1 до 10. Значение по умолчанию 8,5.
</font></font></p>
</dd>
<dt><samp><code>blend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите октаву вновь созданных гармоник. </font><font style="vertical-align: inherit;">Допустимый диапазон от -10 до 10. Значение по умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>freq</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите нижний предел частоты генерации гармоник в Гц. </font><font style="vertical-align: inherit;">Допустимый диапазон от 2000 до 12000 Гц. </font><font style="vertical-align: inherit;">По умолчанию 7500 Гц.
</font></font></p>
</dd>
<dt><samp><code>ceil</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите верхний предел частоты генерации гармоник. </font><font style="vertical-align: inherit;">Допустимый диапазон от 9999 до 20000 Гц. </font><font style="vertical-align: inherit;">Если значение ниже 10000 Гц, ограничение не применяется.
</font></font></p>
</dd>
<dt><samp><code>listen</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Приглушите исходный сигнал и выведите только добавленные гармоники. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p></dd>
</dl>

<span id="Commands-6"></span><h4 class="subsection"><a href="#toc-Commands-6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.19.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="afade"></span><span id="afade-1"></span><h3 class="section"><code><a href="#toc-afade-1">8.20 afade</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применение эффекта плавного появления/затухания к входному звуку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите тип эффекта, может быть либо эффект нарастания, либо </font></font><code>in</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">эффект
 </font></font><code>out</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">затухания. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>in</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start_sample, ss</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите номер начального образца для начала применения эффекта затухания. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, ns</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите количество сэмплов, для которых должен длиться эффект затухания. </font><font style="vertical-align: inherit;">В конце эффекта затухания выходной звук будет иметь ту же громкость, что и входной звук, в конце перехода затухания выходной звук будет тихим. </font><font style="vertical-align: inherit;">По умолчанию 44100.
</font></font></p>
</dd>
<dt><samp><code>start_time, st</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите время начала эффекта затухания. </font><font style="vertical-align: inherit;">По умолчанию 0. Значение должно быть указано как продолжительность времени; </font><font style="vertical-align: inherit;">см.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел «Продолжительность времени» в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">Если установлено, эта опция используется вместо </font></font><var><code>start_sample</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите продолжительность эффекта затухания. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">В конце эффекта затухания выходной звук будет иметь ту же громкость, что и входной звук, в конце перехода затухания выходной звук будет тихим. </font><font style="vertical-align: inherit;">По умолчанию продолжительность определяется </font></font><var><code>nb_samples</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если установлено, эта опция используется вместо </font></font><var><code>nb_samples</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>curve</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите кривую для перехода затухания.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>tri</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите треугольный, линейный наклон (по умолчанию)
</font></font></p></dd>
<dt><samp><code>qsin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите четверть синусоиды
</font></font></p></dd>
<dt><samp><code>hsin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите половину синусоиды
</font></font></p></dd>
<dt><samp><code>esin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите экспоненциальную синусоиду
</font></font></p></dd>
<dt><samp><code>log</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите логарифмический
</font></font></p></dd>
<dt><samp><code>ipar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите перевернутую параболу
</font></font></p></dd>
<dt><samp><code>qua</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите квадратичный
</font></font></p></dd>
<dt><samp><code>cub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите кубический
</font></font></p></dd>
<dt><samp><code>squ</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите квадратный корень
</font></font></p></dd>
<dt><samp><code>cbr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите кубический корень
</font></font></p></dd>
<dt><samp><code>par</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите параболу
</font></font></p></dd>
<dt><samp><code>exp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выбрать экспоненциальный
</font></font></p></dd>
<dt><samp><code>iqsin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите перевернутую четверть синусоиды
</font></font></p></dd>
<dt><samp><code>ihsin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите перевернутую половину синусоиды
</font></font></p></dd>
<dt><samp><code>dese</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выбрать место с двойной экспонентой
</font></font></p></dd>
<dt><samp><code>desi</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите двойную экспоненциальную сигмоиду
</font></font></p></dd>
<dt><samp><code>losi</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите логистическую сигмоиду
</font></font></p></dd>
<dt><samp><code>sinc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите кардинальную функцию синуса
</font></font></p></dd>
<dt><samp><code>isinc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите инвертированную кардинальную функцию синуса
</font></font></p></dd>
<dt><samp><code>nofade</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фейд не применяется
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-7"></span><h4 class="subsection"><a href="#toc-Commands-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.20.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-5"></span><h4 class="subsection"><a href="#toc-Examples-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.20.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затухание в первые 15 секунд звука:
</font></font><div class="example">
<pre class="example"><code>afade=t=in:ss=0:d=15
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затухание последних 25 секунд из 900-секундного аудио:
</font></font><div class="example">
<pre class="example"><code>afade=t=out:st=875:d=25
</code></pre></div>
</li></ul>

<span id="afftdn"></span><h3 class="section"><code><a href="#toc-afftdn">8.21 afftdn</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите шум аудиосэмплов с помощью FFT.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>noise_reduction, nr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите шумоподавление в дБ, допустимый диапазон от 0,01 до 97. Значение по умолчанию — 12 дБ.
</font></font></p>
</dd>
<dt><samp><code>noise_floor, nf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень шума в дБ, допустимый диапазон от -80 до -20. </font><font style="vertical-align: inherit;">Значение по умолчанию: -50 дБ.
</font></font></p>
</dd>
<dt><samp><code>noise_type, nt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип шума.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>white, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите белый шум.
</font></font></p>
</dd>
<dt><samp><code>vinyl, v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите виниловый шум.
</font></font></p>
</dd>
<dt><samp><code>shellac, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите шум шеллака.
</font></font></p>
</dd>
<dt><samp><code>custom, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите пользовательский шум, определенный в </font></font><code>bn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — белый шум.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>band_noise, bn</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пользовательский профиль шума полосы для каждой из 15 полос. </font><font style="vertical-align: inherit;">Полосы разделяются знаком ' ' или '|'.
</font></font></p>
</dd>
<dt><samp><code>residual_floor, rf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите остаточный уровень в дБ, допустимый диапазон от -80 до -20. </font><font style="vertical-align: inherit;">Значение по умолчанию: -38 дБ.
</font></font></p>
</dd>
<dt><samp><code>track_noise, tn</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите отслеживание минимального уровня шума. </font><font style="vertical-align: inherit;">По умолчанию отключен. </font><font style="vertical-align: inherit;">Если эта функция включена, минимальный уровень шума регулируется автоматически.
</font></font></p>
</dd>
<dt><samp><code>track_residual, tr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите остаточное отслеживание. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p>
</dd>
<dt><samp><code>output_mode, om</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>input, i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передайте ввод без изменений.
</font></font></p>
</dd>
<dt><samp><code>output, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проходной шум отфильтрован.
</font></font></p>
</dd>
<dt><samp><code>noise, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проходят только шумы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>output</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>adaptivity, ad</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент адаптивности, используемый для того, чтобы быстро адаптировать регулировки усиления для каждого частотного бина. </font><font style="vertical-align: inherit;">Значение </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обеспечивает мгновенную адаптацию, в то время как более высокие значения реагируют намного медленнее. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>0.5</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>floor_offset, fo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент смещения минимального уровня шума. </font><font style="vertical-align: inherit;">Эта опция используется для настройки смещения, применяемого к измеренному уровню шума. </font><font style="vertical-align: inherit;">Это эффективно, только если включено отслеживание минимального уровня шума. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>-2.0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>2.0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>1.0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>noise_link, nl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите связь шума, используемую для многоканального звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>none</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте неизменный минимальный уровень шума канала.
</font></font></p>
</dd>
<dt><samp><code>min</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте измеренный минимальный уровень шума всех каналов.
</font></font></p>
</dd>
<dt><samp><code>max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте измеренный максимальный уровень шума всех каналов.
</font></font></p>
</dd>
<dt><samp><code>average</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте измеренный средний уровень шума всех каналов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>min</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>band_multiplier, bm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент множителя полосы, используемый для распределения полос по частотным элементам. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>0.2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>5</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>1.25</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sample_noise, sn</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переключите захват и измерение профиля шума из входного аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>start, begin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Запустите захват шума образца.
</font></font></p>
</dd>
<dt><samp><code>stop, end</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Остановите захват шума образца и измерьте новый профиль полосы шума.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>gain_smooth, gs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте сглаженный пространственный радиус усиления, используемый для сглаживания усилений, применяемых к каждому частотному бину. </font><font style="vertical-align: inherit;">Полезно для уменьшения артефактов случайного музыкального шума. </font><font style="vertical-align: inherit;">Более высокие значения увеличивают сглаживание усиления. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>50</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-8"></span><h4 class="subsection"><a href="#toc-Commands-8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.21.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает некоторые вышеупомянутые параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-6"></span><h4 class="subsection"><a href="#toc-Examples-6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.21.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите белый шум на 10 дБ и используйте ранее измеренный уровень шума -40 дБ:
</font></font><div class="example">
<pre class="example"><code>afftdn=nr=10:nf=-40
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите белый шум на 10 дБ, также установите начальный уровень шума на -80 дБ и включите автоматическое отслеживание уровня шума, чтобы уровень шума постепенно менялся во время обработки:
</font></font><div class="example">
<pre class="example"><code>afftdn=nr=10:nf=-80:tn=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите шум на 20 дБ, используя минимальный уровень шума -40 дБ и используя команды для получения профиля шума первых 0,4 секунды входного звука:
</font></font><div class="example">
<pre class="example"><code>asendcmd=0.0 afftdn sn start,asendcmd=0.4 afftdn sn stop,afftdn=nr=20:nf=-40
</code></pre></div>
</li></ul>

<span id="afftfilt"></span><h3 class="section"><code><a href="#toc-afftfilt">8.22 afftfilt</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените произвольные выражения к образцам в частотной области.
</font></font></p>
<dl compact="compact">
<dt><samp><code>real</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте реальное выражение частотной области для каждого отдельного канала, разделенного символом '|'. </font><font style="vertical-align: inherit;">По умолчанию "повторно". </font><font style="vertical-align: inherit;">Если количество входных каналов превышает количество выражений, для оставшихся выходных каналов используется последнее указанное выражение.
</font></font></p>
</dd>
<dt><samp><code>imag</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите мнимое выражение в частотной области для каждого отдельного канала, разделенного символом '|'. </font><font style="vertical-align: inherit;">По умолчанию "им".
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждое выражение в </font></font><var><code>real</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>imag</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может содержать следующие константы и функции:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота дискретизации
</font></font></p>
</dd>
<dt><samp><code>b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер ячейки текущей частоты
</font></font></p>
</dd>
<dt><samp><code>nb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество доступных бинов
</font></font></p>
</dd>
<dt><samp><code>ch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер канала текущего выражения
</font></font></p>
</dd>
<dt><samp><code>chs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество каналов
</font></font></p>
</dd>
<dt><samp><code>pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">текущий кадр pts
</font></font></p>
</dd>
<dt><samp><code>re</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">текущая действительная часть частотного бина текущего канала
</font></font></p>
</dd>
<dt><samp><code>im</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">текущая мнимая часть частотного бина текущего канала
</font></font></p>
</dd>
<dt><samp><code>real(b, ch)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение реальной части частотного бина в местоположении ( </font></font><var><code>bin</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>channel</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)
</font></font></p>
</dd>
<dt><samp><code>imag(b, ch)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение мнимой части частотного бина в местоположении ( </font></font><var><code>bin</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>channel</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>win_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от 16 до 131072. По умолчанию</font></font><code>4096</code>
</p>
</dd>
<dt><samp><code>win_func</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить оконную функцию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bartlett</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hann, hanning</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hamming</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>welch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flattop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bharris</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bnuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bhann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sine</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tukey</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dolph</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cauchy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parzen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>poisson</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bohman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hann</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите перекрытие окна. </font><font style="vertical-align: inherit;">Если установлено значение 1, будет выбрано рекомендуемое перекрытие для выбранной оконной функции. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-7"></span><h4 class="subsection"><a href="#toc-Examples-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.22.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В аудио оставляем почти только низкие частоты:
</font></font><div class="example">
<pre class="example"><code>afftfilt="'real=re * (1-clip((b/nb)*b,0,1))':imag='im * (1-clip((b/nb)*b,0,1))'"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект роботизации:
</font></font><div class="example">
<pre class="example"><code>afftfilt="real='hypot(re,im)*sin(0)':imag='hypot(re,im)*cos(0)':win_size=512:overlap=0.75"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить эффект шепота:
</font></font><div class="example">
<pre class="example"><code>afftfilt="real='hypot(re,im)*cos((random(0)*2-1)*2*3.14)':imag='hypot(re,im)*sin((random(1)*2-1)*2*3.14)':win_size=128:overlap=0.8"
</code></pre></div>
</li></ul>

<span id="afir"></span><span id="afir-1"></span><h3 class="section"><code><a href="#toc-afir-1">8.23 afir</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените произвольный фильтр конечной импульсной характеристики.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр предназначен для применения длинных КИХ-фильтров длительностью до 60 секунд.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Его можно использовать в качестве компонента для цифровых кроссоверных фильтров, выравнивания помещения, подавления перекрестных помех, синтеза волнового поля, аурализации, амбиофоники, амбисоники и пространственной обработки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр использует потоки выше первого в качестве КИХ-коэффициентов. </font><font style="vertical-align: inherit;">Если не первый поток содержит один канал, он будет использоваться для всех входных каналов в первом потоке, в противном случае количество каналов в не первом потоке должно быть таким же, как количество каналов в первом потоке.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dry</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сухое усиление. </font><font style="vertical-align: inherit;">Это устанавливает входное усиление.
</font></font></p>
</dd>
<dt><samp><code>wet</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите влажное усиление. </font><font style="vertical-align: inherit;">Это устанавливает окончательное усиление выхода.
</font></font></p>
</dd>
<dt><samp><code>length</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите длину фильтра импульсной характеристики. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1, что означает, что обрабатывается весь IR.
</font></font></p>
</dd>
<dt><samp><code>gtype</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите применение усиления, измеренного по мощности ИК.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какой подход использовать для автоматического измерения усиления.
</font></font></p>
<dl compact="compact">
<dt><samp><code>none</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не применяйте усиление.
</font></font></p>
</dd>
<dt><samp><code>peak</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите пиковое усиление, очень консервативный подход. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>dc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите усиление постоянного тока, ограниченное применение.
</font></font></p>
</dd>
<dt><samp><code>gn</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выберите подход усиления к шуму, он наиболее популярен.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>irgain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление, которое будет применяться к ИК-коэффициентам перед фильтрацией. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до 1. Это усиление применяется после любого усиления, примененного с </font></font><var><code>gtype</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцией.
</font></font></p>
</dd>
<dt><samp><code>irfmt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат ИК-потока. </font><font style="vertical-align: inherit;">Можно </font></font><code>mono</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>maxir</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимально допустимую продолжительность фильтра импульсной характеристики в секундах. </font><font style="vertical-align: inherit;">По умолчанию 30 секунд. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0,1 до 60 секунд.
</font></font></p>
</dd>
<dt><samp><code>response</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать частотную характеристику ИК, амплитуду (пурпурный), фазу (зеленый) и групповую задержку (желтый) в дополнительном видеопотоке. </font><font style="vertical-align: inherit;">По умолчанию он отключен.
</font></font></p>
</dd>
<dt><samp><code>channel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, для какого ИК-канала отображать частотную характеристику. </font><font style="vertical-align: inherit;">По умолчанию отображается первый канал. </font><font style="vertical-align: inherit;">Эта опция используется только тогда, когда </font></font><var><code>response</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">она включена.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видеопотока. </font><font style="vertical-align: inherit;">Эта опция используется только тогда, когда </font></font><var><code>response</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">она включена.
</font></font></p>
</dd>
<dt><samp><code>rate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту кадров видеопотока. </font><font style="vertical-align: inherit;">Эта опция используется только тогда, когда </font></font><var><code>response</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">она включена.
</font></font></p>
</dd>
<dt><samp><code>minp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальный размер раздела, используемый для свертки. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>8192</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>32768</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Более низкие значения уменьшают задержку за счет более высокой загрузки ЦП.
</font></font></p>
</dd>
<dt><samp><code>maxp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный размер раздела, используемый для свертки. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>8192</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>8</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>32768</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Более низкие значения могут увеличить загрузку ЦП.
</font></font></p>
</dd>
<dt><samp><code>nbirs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество входных потоков импульсных откликов, которые будут переключаться во время выполнения. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>32</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>ir</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить ИК-поток, который будет использоваться для свертки, начиная с </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, всегда должен быть меньше значения, </font></font><code>nbirs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заданного опцией. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Этот параметр можно изменить во время выполнения с помощью </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>precision</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какую точность использовать при обработке образцов.
</font></font></p>
<dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Автоматический выбор внутреннего формата сэмпла в зависимости от других фильтров.
</font></font></p>
</dd>
<dt><samp><code>float</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте формат выборки с точностью до одинарной плавающей запятой.
</font></font></p>
</dd>
<dt><samp><code>double</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте формат выборки с двойной точностью с плавающей запятой.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — авто.
</font></font></p></dd>
</dl>

<span id="Examples-8"></span><h4 class="subsection"><a href="#toc-Examples-8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.23.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените реверберацию к потоку, используя монофонический ИК-файл в качестве второго входа, выполните команду, используя ffmpeg:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.wav -i middle_tunnel_1way_mono.wav -lavfi afir output.wav
</code></pre></div>
</li></ul>

<span id="aformat"></span><span id="aformat-1"></span><h3 class="section"><code><a href="#toc-aformat-1">8.24 aformat</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ограничения выходного формата для входного аудио. </font><font style="vertical-align: inherit;">Фреймворк согласует наиболее подходящий формат для минимизации конверсий.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>sample_fmts, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный символом «|» список запрошенных образцов форматов.
</font></font></p>
</dd>
<dt><samp><code>sample_rates, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный символом '|' список запрошенных частот дискретизации.
</font></font></p>
</dd>
<dt><samp><code>channel_layouts, cl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный '|' список запрошенных макетов каналов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. </font></font><a href="ffmpeg-utils.html#channel-layout-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Channel Layout в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о необходимом синтаксисе.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если параметр опущен, разрешены все значения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительный вывод либо к беззнаковому 8-битному, либо к 16-битному стерео со знаком
</font></font></p><div class="example">
<pre class="example"><code>aformat=sample_fmts=u8|s16:channel_layouts=stereo
</code></pre></div>

<span id="afreqshift"></span><h3 class="section"><code><a href="#toc-afreqshift">8.25 afreqshift</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените частотный сдвиг к входным звуковым образцам.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>shift</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте сдвиг частоты. </font><font style="vertical-align: inherit;">Допустимый диапазон: от -INT_MAX до INT_MAX. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,0.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление, применяемое к конечному выходу. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтрации, используемый для фильтрации. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 16. Значение по умолчанию — 8.
</font></font></p></dd>
</dl>

<span id="Commands-9"></span><h4 class="subsection"><a href="#toc-Commands-9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.25.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="afwtdn"></span><h3 class="section"><code><a href="#toc-afwtdn">8.26 afwtdn</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите широкополосный шум от входных сэмплов с помощью вейвлетов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>sigma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сигму шума, допустимый диапазон от 0 до 1. Значение по умолчанию — 0. Эта опция управляет силой шумоподавления, применяемого к входным семплам. </font><font style="vertical-align: inherit;">Самый удобный способ установить эту опцию — через децибелы, например. </font><font style="vertical-align: inherit;">-45 дБ.
</font></font></p>
</dd>
<dt><samp><code>levels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество уровней вейвлета разложения. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 1 до 12. Значение по умолчанию — 10. Установка слишком низкого значения делает шумоподавление очень плохим.
</font></font></p>
</dd>
<dt><samp><code>wavet</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить тип вейвлета для декомпозиции входного кадра. </font><font style="vertical-align: inherit;">Они отсортированы по количеству коэффициентов, от самого низкого до самого высокого. </font><font style="vertical-align: inherit;">Чем больше коэффициентов, тем хуже скорость фильтрации, но в целом лучше качество. </font><font style="vertical-align: inherit;">Доступные вейвлеты:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sym2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sym4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rbior68</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>deb10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sym10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>coif5</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bl3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>percent</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить процент полного шумоподавления. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 100 процентов. </font><font style="vertical-align: inherit;">Значение по умолчанию — 85 процентов или частичное шумоподавление.
</font></font></p>
</dd>
<dt><samp><code>profile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если включено, первый входной кадр будет использоваться как профиль шума. </font><font style="vertical-align: inherit;">Если образцы первого кадра содержат нешумовые характеристики, качество будет очень плохим.
</font></font></p>
</dd>
<dt><samp><code>adaptive</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если включено, входные кадры анализируются на наличие шума. </font><font style="vertical-align: inherit;">Если шум обнаружен с высокой вероятностью, то входной профиль кадра будет использоваться для обработки следующих кадров, пока не будет обнаружен новый шумовой кадр.
</font></font></p>
</dd>
<dt><samp><code>samples</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер одного кадра в количестве сэмплов. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 512 до 65536. Размер кадра по умолчанию — 8192 выборки.
</font></font></p>
</dd>
<dt><samp><code>softness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите мягкость, применяемую внутри функции порогового значения. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 10. По умолчанию мягкость равна 1.
</font></font></p></dd>
</dl>

<span id="Commands-10"></span><h4 class="subsection"><a href="#toc-Commands-10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.26.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="agate"></span><h3 class="section"><code><a href="#toc-agate">8.27 agate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гейт в основном используется для уменьшения нижних частей сигнала. </font><font style="vertical-align: inherit;">Этот вид обработки сигнала уменьшает мешающий шум между полезными сигналами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гейтирование выполняется путем определения объема ниже выбранного уровня </font></font><var><code>threshold</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
и деления его на коэффициент, установленный с помощью </font></font><var><code>ratio</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Нижний уровень шума устанавливается через </font></font><var><code>range</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Поскольку точное манипулирование сигналом может привести к искажению формы сигнала, уменьшение может быть скорректировано с течением времени. </font><font style="vertical-align: inherit;">Это делается установкой </font></font><var><code>attack</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>release</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><var><code>attack</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определяет, как долго сигнал должен опускаться ниже порога, прежде чем произойдет какое-либо снижение, и </font></font><var><code>release</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливает время, в течение которого сигнал должен подняться выше порога, чтобы снова уменьшить снижение. </font><font style="vertical-align: inherit;">Более короткие сигналы, чем выбранное время атаки, останутся нетронутыми.
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входной уровень перед фильтрацией. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим работы. </font><font style="vertical-align: inherit;">Можно </font></font><code>upward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если установлено в </font></font><code>upward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим, более высокие части сигнала будут усиливаться, расширяя динамический диапазон в направлении вверх. </font><font style="vertical-align: inherit;">В противном случае в случае </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">нижних частей сигнал будет уменьшен.
</font></font></p>
</dd>
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень снижения усиления, когда сигнал ниже порогового значения. </font><font style="vertical-align: inherit;">По умолчанию 0,06125. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. Установка этого параметра на 0 отключает сокращение, и тогда фильтр ведет себя как расширитель.
</font></font></p>
</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если сигнал поднимается выше этого уровня, снижение усиления отключается. </font><font style="vertical-align: inherit;">По умолчанию 0,125. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент, на который уменьшается сигнал. </font><font style="vertical-align: inherit;">По умолчанию 2. Допустимый диапазон от 1 до 9000.
</font></font></p>
</dd>
<dt><samp><code>attack</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество миллисекунд, в течение которых сигнал должен подняться выше порогового значения, прежде чем снижение усиления прекратится. </font><font style="vertical-align: inherit;">По умолчанию 20 миллисекунд. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,01 до 9000.
</font></font></p>
</dd>
<dt><samp><code>release</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество миллисекунд, в течение которых сигнал должен упасть ниже порога, прежде чем снижение снова увеличится. </font><font style="vertical-align: inherit;">По умолчанию 250 миллисекунд. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,01 до 9000.
</font></font></p>
</dd>
<dt><samp><code>makeup</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить величину усиления сигнала после обработки. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 1 до 64.
</font></font></p>
</dd>
<dt><samp><code>knee</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изогните острое колено вокруг порога, чтобы более мягко ввести снижение усиления. </font><font style="vertical-align: inherit;">По умолчанию 2,828427125. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 8.
</font></font></p>
</dd>
<dt><samp><code>detection</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите, следует ли брать точный сигнал для обнаружения или среднеквадратичное значение, подобное сигналу. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>rms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Можно </font></font><code>peak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>rms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>link</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите, влияет ли на уменьшение средний уровень между всеми каналами или более громкий канал. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>average</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Можно </font></font><code>average</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>maximum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-11"></span><h4 class="subsection"><a href="#toc-Commands-11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.27.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="aiir"></span><h3 class="section"><code><a href="#toc-aiir">8.28 aiir</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените произвольный фильтр Infinite Impulse Response.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>zeros, z</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите B/числитель/нули/коэффициенты отражения.
</font></font></p>
</dd>
<dt><samp><code>poles, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите A/знаменатель/полюсы/лестничные коэффициенты.
</font></font></p>
</dd>
<dt><samp><code>gains, k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление каналов.
</font></font></p>
</dd>
<dt><samp><code>dry_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление.
</font></font></p>
</dd>
<dt><samp><code>wet_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление.
</font></font></p>
</dd>
<dt><samp><code>format, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить формат коэффициентов.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">функция решетчатой &ZeroWidthSpace;&ZeroWidthSpace;лестницы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">аналоговая передаточная функция
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">цифровая передаточная функция
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>zp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нули/полюсы Z-плоскости, декартово (по умолчанию)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нули/полюса Z-плоскости, полярные радианы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pd</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нули/полюса Z-плоскости, полярные градусы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нули/полюсы S-плоскости
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>process, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить тип обработки.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>d</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">прямая обработка
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">серийная обработка
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параллельная обработка
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>precision, e</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dbl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с плавающей запятой двойной точности (по умолчанию)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с плавающей запятой одинарной точности
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>i32</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32-битные целые числа
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>i16</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16-битные целые числа
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация коэффициентов фильтра, по умолчанию включена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>mix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>response</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать частотную характеристику ИК, амплитуду (пурпурный), фазу (зеленый) и групповую задержку (желтый) в дополнительном видеопотоке. </font><font style="vertical-align: inherit;">По умолчанию он отключен.
</font></font></p>
</dd>
<dt><samp><code>channel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, для какого ИК-канала отображать частотную характеристику. </font><font style="vertical-align: inherit;">По умолчанию отображается первый канал. </font><font style="vertical-align: inherit;">Эта опция используется только тогда, когда </font></font><var><code>response</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">она включена.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видеопотока. </font><font style="vertical-align: inherit;">Эта опция используется только тогда, когда </font></font><var><code>response</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">она включена.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициенты в </font><font style="vertical-align: inherit;">формате и разделены пробелами и расположены в порядке возрастания
 </font></font><code>tf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><code>sf</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициенты в </font></font><code>zp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">формате разделены пробелами и порядок коэффициентов не имеет значения. </font><font style="vertical-align: inherit;">Коэффициенты по </font></font><code>zp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">формату представляют собой комплексные числа с </font></font><var><code>i</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
мнимой единицей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для каждого канала могут быть предусмотрены разные коэффициенты и усиления, в этом случае используйте '|' </font><font style="vertical-align: inherit;">для разделения коэффициентов или выигрышей. </font><font style="vertical-align: inherit;">Для всех оставшихся каналов будут использоваться последние предоставленные коэффициенты.
</font></font></p>
<span id="Examples-9"></span><h4 class="subsection"><a href="#toc-Examples-9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.28.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените 2-полюсную эллиптическую метку на частоте около 5000 Гц для частоты дискретизации 48000 Гц:
</font></font><div class="example">
<pre class="example"><code>aiir=k=1:z=7.957584807809675810E-1 -2.575128568908332300 3.674839853930788710 -2.57512875289799137 7.957586296317130880E-1:p=1 -2.86950072432325953 3.63022088054647218 -2.28075678147272232 6.361362326477423500E-1:f=tf:r=d
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но в </font></font><code>zp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">формате:
</font></font><div class="example">
<pre class="example"><code>aiir=k=0.79575848078096756:z=0.80918701+0.58773007i 0.80918701-0.58773007i 0.80884700+0.58784055i 0.80884700-0.58784055i:p=0.63892345+0.59951235i 0.63892345-0.59951235i 0.79582691+0.44198673i 0.79582691-0.44198673i:f=zp:r=s
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените аналоговый нормализованный фильтр нижних частот Баттерворта 3-го порядка, используя формат аналоговой передаточной функции:
</font></font><div class="example">
<pre class="example"><code>aiir=z=1.3057 0 0 0:p=1.3057 2.3892 2.1860 1:f=sf:r=d
</code></pre></div>
</li></ul>

<span id="alimiter"></span><h3 class="section"><code><a href="#toc-alimiter">8.29 alimiter</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничитель предотвращает превышение входным сигналом желаемого порога. </font><font style="vertical-align: inherit;">Этот ограничитель использует технологию просмотра вперед, чтобы предотвратить искажение вашего сигнала. </font><font style="vertical-align: inherit;">Это означает, что есть небольшая задержка после обработки сигнала. </font><font style="vertical-align: inherit;">Имейте в виду, что задержка, которую он производит, является временем атаки, которое вы установили.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>limit</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не пропускайте сигналы выше этого уровня через ограничитель. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>attack</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничитель достигнет своего уровня затухания за это время в миллисекундах. </font><font style="vertical-align: inherit;">По умолчанию 5 миллисекунд.
</font></font></p>
</dd>
<dt><samp><code>release</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вернитесь от ограничения к затуханию 1,0 за это количество миллисекунд. </font><font style="vertical-align: inherit;">По умолчанию 50 миллисекунд.
</font></font></p>
</dd>
<dt><samp><code>asc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Когда уменьшение усиления всегда необходимо, ASC заботится о восстановлении до среднего уровня уменьшения, а не о достижении уменьшения 0 во время восстановления.
</font></font></p>
</dd>
<dt><samp><code>asc_level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите, насколько ASC влияет на время выпуска, 0 означает, что время выпуска почти не изменяется, а 1 обеспечивает более длительное время выпуска.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходной сигнал автоматического уровня. </font><font style="vertical-align: inherit;">По умолчанию включено. </font><font style="vertical-align: inherit;">Это нормализует звук до 0 дБ, если включено.
</font></font></p>
</dd>
<dt><samp><code>latency</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компенсируйте задержку, вызванную использованием буфера просмотра вперед, установленного с параметром атаки. </font><font style="vertical-align: inherit;">Также сбрасывайте действительные аудиоданные в упреждающий буфер, когда поток достигает EOF.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В зависимости от выбранной настройки </font><font style="vertical-align: inherit;">перед применением этого фильтра
 рекомендуется повысить входную дискретизацию в 2 или 4 раза с помощью </font></font><a href="#aresample"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aresample .</font></font></a><font style="vertical-align: inherit;"></font></p>
<span id="allpass"></span><h3 class="section"><code><a href="#toc-allpass">8.30 allpass</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените двухполюсный всепроходной фильтр с центральной частотой (в Гц)
 </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и filter-width </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Всепроходной фильтр изменяет отношение частоты звука к фазе, не изменяя отношения частоты к амплитуде.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту в Гц.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте ширину полосы пропускания фильтра в единицах width_type.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>order, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтра, может быть 1 или 2. По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-12"></span><h4 class="subsection"><a href="#toc-Commands-12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.30.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить всепроходную частоту. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените тип ширины allpass. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить ширину прохода. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените микс allpass. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>mix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="aloop"></span><h3 class="section"><code><a href="#toc-aloop">8.31 aloop</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Зацикливание аудиосэмплов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>loop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество петель. </font><font style="vertical-align: inherit;">Установка этого значения на -1 приведет к бесконечным циклам. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество образцов. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>start</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите первый образец цикла. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p></dd>
</dl>

<span id="amerge"></span><span id="amerge-1"></span><h3 class="section"><code><a href="#toc-amerge-1">8.32 amerge</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объединение двух или более аудиопотоков в один многоканальный поток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество входов. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если схемы каналов входов не пересекаются и, следовательно, совместимы, схема каналов выхода будет установлена &ZeroWidthSpace;&ZeroWidthSpace;соответствующим образом, а порядок каналов будет изменен по мере необходимости. </font><font style="vertical-align: inherit;">Если схемы каналов входов не пересекаются, на выходе будут все каналы первого входа, затем все каналы второго входа в указанном порядке, а схема каналов выхода будет значением по умолчанию, соответствующим общее количество каналов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, если первый вход — 2.1 (FL+FR+LF), а второй вход — FC+BL+BR, то выход будет 5.1 с каналами в следующем порядке: a1, a2, b1, a3, b2, b3 (a1 — первый канал первого входа, b1 — первый канал второго входа).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">С другой стороны, если оба входа находятся в режиме стерео, выходные каналы будут в порядке по умолчанию: a1, a2, b1, b2, а расположение каналов будет произвольно установлено на 4.0, что может быть или не быть ожидаемым значением. .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все входы должны иметь одинаковую частоту дискретизации и формат.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если входы не имеют одинаковой длительности, вывод остановится на самом коротком.
</font></font></p>
<span id="Examples-10"></span><h4 class="subsection"><a href="#toc-Examples-10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.32.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объедините два монофайла в стереопоток:
</font></font><div class="example">
<pre class="example"><code>amovie=left.wav [l] ; amovie=right.mp3 [r] ; [l] [r] amerge
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Множественные слияния, предполагающие 1 видеопоток и 6 аудиопотоков в</font></font><samp><code>input.mkv</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mkv -filter_complex "[0:1][0:2][0:3][0:4][0:5][0:6] amerge=inputs=6" -c:a pcm_s16le output.mkv
</code></pre></div>
</li></ul>

<span id="amix"></span><h3 class="section"><code><a href="#toc-amix">8.33 amix</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешивает несколько аудиовходов в один выход.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что этот фильтр поддерживает только сэмплы с плавающей запятой ( </font><font style="vertical-align: inherit;">аудиофильтры </font></font><var><code>amerge</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
и поддерживают многие форматы). </font></font><var><code>pan</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если на </font></font><var><code>amix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
входе есть целочисленные выборки, то </font></font><a href="#aresample"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">автоматически</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> будет вставлена &ZeroWidthSpace;&ZeroWidthSpace;выборка для выполнения преобразования в выборки с плавающей запятой.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i INPUT1 -i INPUT2 -i INPUT3 -filter_complex amix=inputs=3:duration=first:dropout_transition=3 OUTPUT
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">микширует 3 входных аудиопотока в один выход с той же продолжительностью, что и первый вход, и временем перехода отсева 3 секунды.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество входов. </font><font style="vertical-align: inherit;">Если не указано, по умолчанию используется 2.
</font></font></p>
</dd>
<dt><samp><code>duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Как определить конец потока.
</font></font></p><dl compact="compact">
<dt><samp><code>longest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность самого длинного ввода. </font><font style="vertical-align: inherit;">(дефолт)
</font></font></p>
</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность самого короткого ввода.
</font></font></p>
</dd>
<dt><samp><code>first</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность первого ввода.
</font></font></p>
</dd>
</dl>

</dd>
<dt><samp><code>dropout_transition</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время перехода в секундах для перенормировки громкости при завершении входного потока. </font><font style="vertical-align: inherit;">Значение по умолчанию — 2 секунды.
</font></font></p>
</dd>
<dt><samp><code>weights</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите вес каждого входного аудиопотока как последовательность. </font><font style="vertical-align: inherit;">Каждый вес отделен пробелом. </font><font style="vertical-align: inherit;">По умолчанию все входы имеют одинаковый вес.
</font></font></p>
</dd>
<dt><samp><code>normalize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда масштабируйте входные данные, а не просто суммируйте выборки. </font><font style="vertical-align: inherit;">Остерегайтесь сильного отсечения, если входные данные не нормализованы до или после фильтрации этим фильтром, если эта опция отключена. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p></dd>
</dl>

<span id="Commands-13"></span><h4 class="subsection"><a href="#toc-Commands-13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.33.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>weights</code></samp></dt>
<dt><samp><code>normalize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синтаксис такой же, как у опции с тем же именем.
</font></font></p></dd>
</dl>

<span id="amultiply"></span><h3 class="section"><code><a href="#toc-amultiply">8.34 amultiply</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Умножьте первый аудиопоток на второй аудиопоток и сохраните результат в выходном аудиопотоке. </font><font style="vertical-align: inherit;">Умножение выполняется путем умножения каждой выборки из первого потока на выборку в той же позиции из второго потока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">С помощью этого поэлементного умножения можно создавать амплитудные затухания и амплитудные модуляции.
</font></font></p>
<span id="anequalizer"></span><h3 class="section"><code><a href="#toc-anequalizer">8.35 anequalizer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметрический многополосный эквалайзер высокого порядка для каждого канала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>params</code></samp></dt>
<dd>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эта строка опций имеет формат: "c </font></font><var><code>chn</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f= </font></font><var><code>cf</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w= </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g= </font></font><var><code>g</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t= </font></font><var><code>f</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| ..." Каждая полоса эквалайзера разделяется символом '|'.
</font></font></p>
<dl compact="compact">
<dt><samp><code>chn</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите номер канала, к которому будет применяться выравнивание. </font><font style="vertical-align: inherit;">Если вход не имеет этого канала, запись игнорируется.
</font></font></p>
</dd>
<dt><samp><code>f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту для диапазона. </font><font style="vertical-align: inherit;">Если вход не имеет этой частоты, запись игнорируется.
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину полосы в герцах.
</font></font></p>
</dd>
<dt><samp><code>g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы в дБ.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить тип фильтра для полосы, опционально, может быть:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Баттерворт, это по умолчанию.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чебышев тип 1.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чебышев тип 2.
</font></font></p></dd>
</dl>
</dd>
</dl>

</dd>
<dt><samp><code>curves</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При включенной опции АЧХ эквалайзера отображается в видеопотоке.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видеопотока. </font><font style="vertical-align: inherit;">Полезно, только если опция кривых активирована.
</font></font></p>
</dd>
<dt><samp><code>mgain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное усиление, которое будет отображаться. </font><font style="vertical-align: inherit;">Полезно, только если опция кривых активирована. </font><font style="vertical-align: inherit;">Установка разумного значения позволяет отображать усиление, полученное от соседних полос, которые расположены слишком близко друг к другу, и, таким образом, дает более высокое усиление, когда оба активированы.
</font></font></p>
</dd>
<dt><samp><code>fscale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частотную шкалу, используемую для отображения частотной характеристики в видеовыходе. </font><font style="vertical-align: inherit;">Может быть линейным или логарифмическим. </font><font style="vertical-align: inherit;">По умолчанию логарифмический.
</font></font></p>
</dd>
<dt><samp><code>colors</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет для каждой кривой канала, которая будет отображаться в видеопотоке. </font><font style="vertical-align: inherit;">Это список названий цветов, разделенных пробелом или '|'. </font><font style="vertical-align: inherit;">Нераспознанные или отсутствующие цвета будут заменены белым цветом.
</font></font></p></dd>
</dl>

<span id="Examples-11"></span><h4 class="subsection"><a href="#toc-Examples-11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.35.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшить усиление на 10 для центральной частоты 200 Гц и ширины 100 Гц для первых 2 каналов с использованием фильтра Чебышева типа 1:
</font></font><div class="example">
<pre class="example"><code>anequalizer=c0 f=200 w=100 g=-10 t=1|c1 f=200 w=100 g=-10 t=1
</code></pre></div>
</li></ul>

<span id="Commands-14"></span><h4 class="subsection"><a href="#toc-Commands-14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.35.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>change</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить существующие параметры фильтра. </font><font style="vertical-align: inherit;">Синтаксис команд: " </font></font><var><code>fN</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|f= </font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|w= </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|g= </font></font><var><code>gain</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
<p><var><code>fN</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер существующего фильтра, начиная с 0, если такой фильтр недоступен, возвращается ошибка.
</font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить новый параметр частоты.
</font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить новый параметр ширины в герцах.
</font></font><var><code>gain</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить новый параметр усиления в дБ.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный вызов фильтра с помощью asendcmd может выглядеть так: asendcmd=c='4.0 anequalizer change 0|f=200|w=50|g=1',anequalizer=...
</font></font></p></dd>
</dl>

<span id="anlmdn"></span><h3 class="section"><code><a href="#toc-anlmdn">8.36 anlmdn</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите широкополосный шум в аудиосэмплах с помощью алгоритма Non-Local Means.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждый образец корректируется путем поиска других образцов с похожим контекстом. </font><font style="vertical-align: inherit;">Это сходство контекста определяется путем сравнения окружающих их участков размером
</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Патчи ищутся в области</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вокруг образца.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>strength, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить мощность шумоподавления. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0,00001 до 10000. Значение по умолчанию — 0,00001.
</font></font></p>
</dd>
<dt><samp><code>patch, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность радиуса исправления. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 100 миллисекунд. </font><font style="vertical-align: inherit;">Значение по умолчанию — 2 миллисекунды.
</font></font></p>
</dd>
<dt><samp><code>research, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность радиуса исследования. </font><font style="vertical-align: inherit;">Допустимый диапазон от 2 до 300 миллисекунд. </font><font style="vertical-align: inherit;">Значение по умолчанию — 6 миллисекунд.
</font></font></p>
</dd>
<dt><samp><code>output, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передайте ввод без изменений.
</font></font></p>
</dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проходной шум отфильтрован.
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проходят только шумы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>o</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>smooth, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить коэффициент сглаживания. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>11</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>1000</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-15"></span><h4 class="subsection"><a href="#toc-Commands-15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.36.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="anlmf_002c-anlms"></span><h3 class="section"><code><a href="#toc-anlmf_002c-anlms">8.37 anlmf, anlms</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените нормализованный алгоритм наименьшего среднего (квадраты | четвертый) к первому аудиопотоку, используя второй аудиопоток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот адаптивный фильтр используется для имитации желаемого фильтра путем нахождения коэффициентов фильтра, которые относятся к получению наименьшего среднего квадрата сигнала ошибки (разница между желаемым вторым входным аудиопотоком и фактическим сигналом, 1-м входным аудиопотоком).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтров.
</font></font></p>
</dd>
<dt><samp><code>mu</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить фильтр мю.
</font></font></p>
</dd>
<dt><samp><code>eps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите фильтр eps.
</font></font></p>
</dd>
<dt><samp><code>leakage</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите утечку фильтра.
</font></font></p>
</dd>
<dt><samp><code>out_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пройдите 1-й вход.
</font></font></p>
</dd>
<dt><samp><code>d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пройдите 2-й вход.
</font></font></p>
</dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передайте отфильтрованные образцы.
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передайте разницу между нужными и отфильтрованными образцами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>o</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Examples-12"></span><h4 class="subsection"><a href="#toc-Examples-12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.37.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Одним из многих применений этого фильтра является шумоподавление, входной звук фильтруется с теми же семплами, которые задерживаются на фиксированную величину, один из таких примеров для стереозвука:
</font></font><div class="example">
<pre class="example"><code>asplit[a][b],[a]adelay=32S|32S[a],[b][a]anlms=order=128:leakage=0.0005:mu=.5:out_mode=o
</code></pre></div>
</li></ul>

<span id="Commands-16"></span><h4 class="subsection"><a href="#toc-Commands-16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.37.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же команды, что и опции, за исключением option </font></font><code>order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="anull"></span><h3 class="section"><code><a href="#toc-anull">8.38 anull</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передайте источник звука без изменений на выход.
</font></font></p>
<span id="apad"></span><h3 class="section"><code><a href="#toc-apad">8.39 apad</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заполните конец аудиопотока тишиной.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это можно использовать вместе с</font></font><code>ffmpeg</code> <samp><code>-shortest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для расширения аудиопотоков до той же длины, что и видеопоток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>packet_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер пакета тишины. </font><font style="vertical-align: inherit;">Значение по умолчанию — 4096.
</font></font></p>
</dd>
<dt><samp><code>pad_len</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество сэмплов тишины, которые нужно добавить в конец. </font><font style="vertical-align: inherit;">После достижения значения поток прекращается. </font><font style="vertical-align: inherit;">Этот вариант взаимоисключающий с</font></font><samp><code>whole_len</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>whole_len</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальное общее количество сэмплов в выходном аудиопотоке. </font><font style="vertical-align: inherit;">Если значение больше длины входного аудио, в конец добавляется тишина, пока не будет достигнуто значение. </font><font style="vertical-align: inherit;">Этот вариант взаимоисключающий с</font></font><samp><code>pad_len</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>pad_dur</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите продолжительность добавляемых образцов тишины. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">Используется, только если установлено неотрицательное значение.
</font></font></p>
</dd>
<dt><samp><code>whole_dur</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите минимальную общую продолжительность выходного аудиопотока. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">Используется, только если установлено неотрицательное значение. </font><font style="vertical-align: inherit;">Если значение больше длины входного аудио, в конец добавляется тишина, пока не будет достигнуто значение. </font><font style="vertical-align: inherit;">Этот вариант взаимоисключающий с</font></font><samp><code>pad_dur</code></samp>
</p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если ни</font></font><samp><code>pad_len</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ни</font></font><samp><code>whole_len</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ни</font></font><samp><code>pad_dur</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ни</font></font><samp><code>whole_dur</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлен, фильтр будет добавлять тишину в конец входного потока на неопределенный срок.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что для ffmpeg 4.4 и более ранних версий ноль</font></font><samp><code>pad_dur</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или же
</font></font><samp><code>whole_dur</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также заставлял фильтр добавлять тишину на неопределенный срок.
</font></font></p>
<span id="Examples-13"></span><h4 class="subsection"><a href="#toc-Examples-13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.39.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте 1024 образца тишины в конец ввода:
</font></font><div class="example">
<pre class="example"><code>apad=pad_len=1024
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Убедитесь, что аудиовыход будет содержать не менее 10000 сэмплов, при необходимости заполните вход тишиной:
</font></font><div class="example">
<pre class="example"><code>apad=whole_len=10000
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для заполнения аудиовхода тишиной, чтобы видеопоток всегда был самым коротким и преобразовывался до конца в выходной файл при использовании</font></font><samp><code>shortest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
вариант:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i VIDEO -i AUDIO -filter_complex "[1:0]apad" -shortest OUTPUT
</code></pre></div>
</li></ul>

<span id="aphaser"></span><h3 class="section"><code><a href="#toc-aphaser">8.40 aphaser</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте эффект фазирования к входному звуку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фазерный фильтр создает серии пиков и впадин в частотном спектре. </font><font style="vertical-align: inherit;">Положение пиков и впадин модулируется таким образом, что они меняются со временем, создавая эффект размашистости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>in_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление. </font><font style="vertical-align: inherit;">По умолчанию 0,4.
</font></font></p>
</dd>
<dt><samp><code>out_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление. </font><font style="vertical-align: inherit;">По умолчанию 0,74.
</font></font></p>
</dd>
<dt><samp><code>delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите задержку в миллисекундах. </font><font style="vertical-align: inherit;">По умолчанию 3.0.
</font></font></p>
</dd>
<dt><samp><code>decay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить распад. </font><font style="vertical-align: inherit;">По умолчанию 0,4.
</font></font></p>
</dd>
<dt><samp><code>speed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите скорость модуляции в Гц. </font><font style="vertical-align: inherit;">По умолчанию 0,5.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип модуляции. </font><font style="vertical-align: inherit;">По умолчанию треугольный.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>triangular, t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sinusoidal, s</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
</dd>
</dl>

<span id="aphaseshift"></span><h3 class="section"><code><a href="#toc-aphaseshift">8.41 aphaseshift</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фазовый сдвиг к входным звуковым образцам.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>shift</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте фазовый сдвиг. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,0.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление, применяемое к конечному выходу. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтрации, используемый для фильтрации. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 16. Значение по умолчанию — 8.
</font></font></p></dd>
</dl>

<span id="Commands-17"></span><h4 class="subsection"><a href="#toc-Commands-17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.41.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="apsyclip"></span><h3 class="section"><code><a href="#toc-apsyclip">8.42 apsyclip</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените Psychoacoustic clipper к входному аудиопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление. </font><font style="vertical-align: inherit;">По умолчанию это 1. Диапазон: [0,015625 - 64].
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление. </font><font style="vertical-align: inherit;">По умолчанию это 1. Диапазон: [0,015625 - 64].
</font></font></p>
</dd>
<dt><samp><code>clip</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное значение отсечения. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0dBFS или 1.
</font></font></p>
</dd>
<dt><samp><code>diff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выводить только разностные сэмплы, полезные для прослушивания вносимых искажений. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p>
</dd>
<dt><samp><code>adaptive</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу применяемого адаптивного искажения. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,5. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>iterations</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество итераций психоакустического клипера. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 1 до 20. Значение по умолчанию — 10.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходной сигнал автоматического уровня. </font><font style="vertical-align: inherit;">По умолчанию отключено. </font><font style="vertical-align: inherit;">Это нормализует звук до 0dBFS, если включено.
</font></font></p></dd>
</dl>

<span id="Commands-18"></span><h4 class="subsection"><a href="#toc-Commands-18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.42.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="apulsator"></span><h3 class="section"><code><a href="#toc-apulsator">8.43 apulsator</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аудиопульсатор — нечто среднее между автопаннером и тремоло. </font><font style="vertical-align: inherit;">Но он также может создавать забавные стереоэффекты. </font><font style="vertical-align: inherit;">Пульсатор изменяет громкость левого и правого каналов на основе LFO (генератора низкой частоты) с различными волновыми формами и сдвинутыми фазами. </font><font style="vertical-align: inherit;">Этот фильтр имеет возможность определять смещение между левым и правым каналом. </font><font style="vertical-align: inherit;">Смещение 0 означает, что обе формы LFO соответствуют друг другу. </font><font style="vertical-align: inherit;">Левый и правый канал переделаны одинаково - обычное тремоло. </font><font style="vertical-align: inherit;">Смещение 50% означает, что форма правого канала точно сдвинута по фазе (или сдвинута назад примерно на половину частоты) — пульсатор действует как автопаннер. </font><font style="vertical-align: inherit;">При 1 обе кривые снова совпадают. </font><font style="vertical-align: inherit;">Каждая промежуточная настройка перемещает фазовый сдвиг между всеми этапами без промежутка и создает некоторые «обходные» звуки с синусоидальными и треугольными волнами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление. </font><font style="vertical-align: inherit;">По умолчанию это 1. Диапазон: [0,015625 - 64].
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление. </font><font style="vertical-align: inherit;">По умолчанию это 1. Диапазон: [0,015625 - 64].
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите форму волны, которую будет использовать LFO. </font><font style="vertical-align: inherit;">Может быть одним из: синусоидальный, треугольный, квадратный, пилообразный или пилообразный. </font><font style="vertical-align: inherit;">По умолчанию синус.
</font></font></p>
</dd>
<dt><samp><code>amount</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить модуляцию. </font><font style="vertical-align: inherit;">Определите, на какую часть исходного сигнала влияет LFO.
</font></font></p>
</dd>
<dt><samp><code>offset_l</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить смещение левого канала. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон: [0–1].
</font></font></p>
</dd>
<dt><samp><code>offset_r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить смещение правого канала. </font><font style="vertical-align: inherit;">По умолчанию 0,5. </font><font style="vertical-align: inherit;">Допустимый диапазон: [0–1].
</font></font></p>
</dd>
<dt><samp><code>width</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину импульса. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон: [0–2].
</font></font></p>
</dd>
<dt><samp><code>timing</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите возможный режим синхронизации. </font><font style="vertical-align: inherit;">Может быть одним из: ударов в минуту, мс или Гц. </font><font style="vertical-align: inherit;">По умолчанию Гц.
</font></font></p>
</dd>
<dt><samp><code>bpm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите удары в минуту. </font><font style="vertical-align: inherit;">Значение по умолчанию — 120. Допустимый диапазон — [30–300]. </font><font style="vertical-align: inherit;">Используется, только если синхронизация установлена &ZeroWidthSpace;&ZeroWidthSpace;на удары в минуту.
</font></font></p>
</dd>
<dt><samp><code>ms</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите мс. </font><font style="vertical-align: inherit;">По умолчанию 500. Допустимый диапазон: [10 - 2000]. </font><font style="vertical-align: inherit;">Используется, только если время установлено на мс.
</font></font></p>
</dd>
<dt><samp><code>hz</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту в Гц. </font><font style="vertical-align: inherit;">По умолчанию 2. Допустимый диапазон: [0,01–100]. </font><font style="vertical-align: inherit;">Используется, только если синхронизация установлена &ZeroWidthSpace;&ZeroWidthSpace;на Hz.
</font></font></p></dd>
</dl>

<span id="aresample"></span><span id="aresample-1"></span><h3 class="section"><code><a href="#toc-aresample-1">8.44 aresample</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передискретизируйте входной звук в соответствии с указанными параметрами, используя библиотеку libswresample. </font><font style="vertical-align: inherit;">Если ничего не указано, фильтр будет автоматически преобразовывать вход и выход.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр также может растягивать/сжимать аудиоданные, чтобы они соответствовали временным меткам, или вводить тишину/вырезать звук, чтобы он соответствовал временным меткам, выполнять комбинацию того и другого или не делать ни того, ни другого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает синтаксис [ </font></font><var><code>sample_rate</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:] </font></font><var><code>resampler_options</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, где </font></font><var><code>sample_rate</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
выражает частоту дискретизации и </font></font><var><code>resampler_options</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">представляет собой список
 пар </font></font><var><code>key</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, разделенных знаком «:». </font><font style="vertical-align: inherit;">
Полный список поддерживаемых параметров
 см. </font><font style="vertical-align: inherit;">в разделе
 </font></font><a href="ffmpeg-resampler.html#Resampler-Options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-resampler) «Параметры ресемплера» в руководстве ffmpeg-resampler(1) .</font></font></a><font style="vertical-align: inherit;"></font></p>
<span id="Examples-14"></span><h4 class="subsection"><a href="#toc-Examples-14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.44.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передискретизируйте входной звук до 44&nbsp;100 Гц:
</font></font><div class="example">
<pre class="example"><code>aresample=44100
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Растягивать/сжимать сэмплы до заданных временных меток с максимальной компенсацией 1000 сэмплов в секунду:
</font></font><div class="example">
<pre class="example"><code>aresample=async=1000
</code></pre></div>
</li></ul>

<span id="areverse"></span><h3 class="section"><code><a href="#toc-areverse">8.45 areverse</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перевернуть аудиоклип.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предупреждение: этому фильтру требуется память для буферизации всего клипа, поэтому рекомендуется обрезка.
</font></font></p>
<span id="Examples-15"></span><h4 class="subsection"><a href="#toc-Examples-15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.45.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возьмите первые 5 секунд клипа и переверните его.
</font></font><div class="example">
<pre class="example"><code>atrim=end=5,areverse
</code></pre></div>
</li></ul>

<span id="arnndn"></span><h3 class="section"><code><a href="#toc-arnndn">8.46 arnndn</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите шум от речи с помощью рекуррентных нейронных сетей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>model, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите файл модели поезда для загрузки. </font><font style="vertical-align: inherit;">Эта опция требуется всегда.
</font></font></p>
</dd>
<dt><samp><code>mix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, сколько нужно смешать отфильтрованные сэмплы в конечный результат. </font><font style="vertical-align: inherit;">Допустимый диапазон: от -1 до 1. Значение по умолчанию — 1. Отрицательные значения являются особыми, они устанавливают, сколько отфильтрованного шума следует сохранять в конечном выходе фильтра. </font><font style="vertical-align: inherit;">Установите для этого параметра значение -1, чтобы услышать фактический шум, удаленный из входного сигнала.
</font></font></p></dd>
</dl>

<span id="Commands-19"></span><h4 class="subsection"><a href="#toc-Commands-19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.46.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="asdr"></span><h3 class="section"><code><a href="#toc-asdr">8.47 asdr</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измерьте отношение аудиосигнала к искажению.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает на вход два аудиопотока и выводит первый аудиопоток. </font><font style="vertical-align: inherit;">Результаты представлены в дБ на канал в конце любого входа.
</font></font></p>
<span id="asetnsamples"></span><h3 class="section"><code><a href="#toc-asetnsamples">8.48 asetnsamples</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на каждый выходной аудиокадр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Последний выходной пакет может содержать разное количество сэмплов, так как фильтр сбрасывает все оставшиеся сэмплы, когда входной звук сигнализирует об окончании.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>nb_out_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество кадров на каждый выходной аудиокадр. </font><font style="vertical-align: inherit;">Это число означает количество выборок </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">на каждый канал</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию — 1024.
</font></font></p>
</dd>
<dt><samp><code>pad, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, фильтр дополнит последний аудиокадр нулями, так что последний кадр будет содержать то же количество сэмплов, что и предыдущие. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы установить количество выборок для каждого кадра равным 1234 и отключить заполнение для последнего кадра, используйте:
</font></font></p><div class="example">
<pre class="example"><code>asetnsamples=n=1234:p=0
</code></pre></div>

<span id="asetrate"></span><h3 class="section"><code><a href="#toc-asetrate">8.49 asetrate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту дискретизации без изменения данных PCM. </font><font style="vertical-align: inherit;">Это приведет к изменению скорости и шага.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sample_rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную частоту дискретизации. </font><font style="vertical-align: inherit;">По умолчанию 44100 Гц.
</font></font></p></dd>
</dl>

<span id="ashowinfo"></span><h3 class="section"><code><a href="#toc-ashowinfo">8.50 ashowinfo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать строку, содержащую различную информацию для каждого входного звукового кадра. </font><font style="vertical-align: inherit;">Входной звук не изменяется.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показанная строка содержит последовательность пар ключ/значение вида
 </font></font><var><code>key</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">На выходе отображаются следующие значения:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер входного кадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени представления входного кадра в базовых единицах времени; </font><font style="vertical-align: inherit;">временная база зависит от входной площадки фильтра и обычно равна 1/ </font></font><var><code>sample_rate</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>pts_time</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная метка представления входного кадра в секундах.
</font></font></p>
</dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">позиция кадра во входном потоке, -1, если эта информация недоступна и/или бессмысленна (например, в случае синтетического звука)
</font></font></p>
</dd>
<dt><samp><code>fmt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Формат образца.
</font></font></p>
</dd>
<dt><samp><code>chlayout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Схема канала.
</font></font></p>
</dd>
<dt><samp><code>rate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота дискретизации аудиокадра.
</font></font></p>
</dd>
<dt><samp><code>nb_samples</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество выборок (на канал) в кадре.
</font></font></p>
</dd>
<dt><samp><code>checksum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контрольная сумма Adler-32 (в шестнадцатеричном формате) аудиоданных. </font><font style="vertical-align: inherit;">Для планарного звука данные обрабатываются так, как если бы все плоскости были объединены.
</font></font></p>
</dd>
<dt><samp><code>plane_checksums</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список контрольных сумм Adler-32 для каждой плоскости данных.
</font></font></p></dd>
</dl>

<span id="asoftclip"></span><h3 class="section"><code><a href="#toc-asoftclip">8.51 asoftclip</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените мягкое отсечение звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Мягкое отсечение — это тип эффекта искажения, при котором амплитуда сигнала насыщается по плавной кривой, а не по резкой форме жесткого отсечения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить тип мягкого отсечения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>hard</code></samp></dt>
<dt><samp><code>tanh</code></samp></dt>
<dt><samp><code>atan</code></samp></dt>
<dt><samp><code>cubic</code></samp></dt>
<dt><samp><code>exp</code></samp></dt>
<dt><samp><code>alg</code></samp></dt>
<dt><samp><code>quintic</code></samp></dt>
<dt><samp><code>sin</code></samp></dt>
<dt><samp><code>erf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог, с которого начинается отсечение. </font><font style="vertical-align: inherit;">Значение по умолчанию: 0 дБ или 1.
</font></font></p>
</dd>
<dt><samp><code>output</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление, применяемое к выходу. </font><font style="vertical-align: inherit;">Значение по умолчанию: 0 дБ или 1.
</font></font></p>
</dd>
<dt><samp><code>param</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите дополнительный параметр, который управляет сигмовидной функцией.
</font></font></p>
</dd>
<dt><samp><code>oversample</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент передискретизации.
</font></font></p></dd>
</dl>

<span id="Commands-20"></span><h4 class="subsection"><a href="#toc-Commands-20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.51.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="aspectralstats"></span><h3 class="section"><code><a href="#toc-aspectralstats">8.52 aspectralstats</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите статистическую информацию в частотной области об аудиоканалах. </font><font style="vertical-align: inherit;">Статистические данные рассчитываются и сохраняются в виде метаданных для каждого аудиоканала и каждого аудиокадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p><dl compact="compact">
<dt><samp><code>win_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите длину окна в семплах. </font><font style="vertical-align: inherit;">Значение по умолчанию — 2048. Допустимый диапазон — от 32 до 65536.
</font></font></p>
</dd>
<dt><samp><code>win_func</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить оконную функцию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bartlett</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hann, hanning</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hamming</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>welch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flattop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bharris</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bnuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bhann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sine</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tukey</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dolph</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cauchy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parzen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>poisson</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bohman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hann</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите перекрытие окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
до </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приводится список каждого ключа метаданных:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mean</code></samp></dt>
<dt><samp><code>variance</code></samp></dt>
<dt><samp><code>centroid</code></samp></dt>
<dt><samp><code>spread</code></samp></dt>
<dt><samp><code>skewness</code></samp></dt>
<dt><samp><code>kurtosis</code></samp></dt>
<dt><samp><code>entropy</code></samp></dt>
<dt><samp><code>flatness</code></samp></dt>
<dt><samp><code>crest</code></samp></dt>
<dt><samp><code>flux</code></samp></dt>
<dt><samp><code>slope</code></samp></dt>
<dt><samp><code>decrease</code></samp></dt>
<dt><samp><code>rolloff</code></samp></dt>
</dl>

<span id="asr"></span><h3 class="section"><code><a href="#toc-asr">8.53 asr</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Автоматическое распознавание речи
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр использует PocketSphinx для распознавания речи. </font><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам нужно настроить FFmpeg с расширением
 </font></font><code>--enable-pocketsphinx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту дискретизации входного аудио. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><code>16000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это необходимо для соответствия речевым моделям, иначе можно получить плохие результаты.
</font></font></p>
</dd>
<dt><samp><code>hmm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить словарь, содержащий файлы акустических моделей.
</font></font></p>
</dd>
<dt><samp><code>dict</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить словарь произношения.
</font></font></p>
</dd>
<dt><samp><code>lm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите файл языковой модели.
</font></font></p>
</dd>
<dt><samp><code>lmctl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите набор языковых моделей.
</font></font></p>
</dd>
<dt><samp><code>lmname</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какую языковую модель использовать.
</font></font></p>
</dd>
<dt><samp><code>logfn</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вывод для сообщений журнала.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр экспортирует распознанную речь как метаданные кадра </font></font><code>lavfi.asr.text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="astats"></span><span id="astats-1"></span><h3 class="section"><code><a href="#toc-astats-1">8.54 astats</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение статистической информации во временной области об аудиоканалах. </font><font style="vertical-align: inherit;">Статистические данные рассчитываются и отображаются для каждого аудиоканала, и, если применимо, также дается общая цифра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p><dl compact="compact">
<dt><samp><code>length</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Короткая длина окна в секундах, используемая для измерения пикового и минимального среднеквадратичного значения. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>0.05</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(50 миллисекунд). </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0 - 10]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>metadata</code></samp></dt>
<dd>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вставку метаданных. </font><font style="vertical-align: inherit;">Все ключи метаданных имеют префикс </font></font><code>lavfi.astats.X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, где </font></font><code>X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер канала начинается с 1 или строки </font></font><code>Overall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные ключи для каждого канала: DC_offset Min_level Max_level Min_difference Max_difference Max_difference Mean_difference RMS_difference Peak_level RMS_peak RMS_trough Crest_factor Flat_factor Peak_count Noise_floor Noise_floor_count Entropy Bit_depth Dynamic_range Zero_crossings_rate Zero_crossings_rate Number_of_NaNs Number_of_Infs Number_of_denormals
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и для общего: DC_offset Min_level Max_level Min_difference Max_difference Mean_difference RMS_difference Peak_level RMS_level RMS_peak RMS_trough Flat_factor Peak_count Noise_floor Noise_floor_count Entropy Bit_depth Number_of_samples Number_of_NaNs Number_of_Infs Number_of_denormals
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, полный ключ выглядит так </font></font><code>lavfi.astats.1.DC_offset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или так </font></font><code>lavfi.astats.Overall.Peak_count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Описание того, что означает каждая клавиша, читайте ниже.
</font></font></p>
</dd>
<dt><samp><code>reset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество кадров, по которым рассчитывается кумулятивная статистика перед сбросом. По умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>measure_perchannel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите параметры, которые измеряются для каждого канала. </font><font style="vertical-align: inherit;">Ключи метаданных можно использовать как флаги, по умолчанию</font></font><samp><code>all</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">который измеряет все.
</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отключает все измерения для каждого канала.
</font></font></p>
</dd>
<dt><samp><code>measure_overall</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите параметры, которые измеряются в целом. </font><font style="vertical-align: inherit;">Ключи метаданных можно использовать как флаги, по умолчанию</font></font><samp><code>all</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">который измеряет все.
</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отключает все общие измерения.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приводится описание каждого отображаемого параметра:
</font></font></p>
<dl compact="compact">
<dt><samp><code>DC offset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смещение средней амплитуды от нуля.
</font></font></p>
</dd>
<dt><samp><code>Min level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Минимальный уровень выборки.
</font></font></p>
</dd>
<dt><samp><code>Max level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальный уровень выборки.
</font></font></p>
</dd>
<dt><samp><code>Min difference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Минимальная разница между двумя последовательными выборками.
</font></font></p>
</dd>
<dt><samp><code>Max difference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальная разница между двумя последовательными выборками.
</font></font></p>
</dd>
<dt><samp><code>Mean difference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Средняя разница между двумя последовательными выборками. </font><font style="vertical-align: inherit;">Среднее значение каждой разницы между двумя последовательными выборками.
</font></font></p>
</dd>
<dt><samp><code>RMS difference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Среднеквадратическая разница между двумя последовательными выборками.
</font></font></p>
</dd>
<dt><samp><code>Peak level dB</code></samp></dt>
<dt><samp><code>RMS level dB</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стандартный пиковый и среднеквадратический уровень измеряется в dBFS.
</font></font></p>
</dd>
<dt><samp><code>RMS peak dB</code></samp></dt>
<dt><samp><code>RMS trough dB</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиковые и минимальные значения уровня RMS, измеренные в течение короткого окна.
</font></font></p>
</dd>
<dt><samp><code>Crest factor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стандартное отношение пикового уровня к среднеквадратичному (примечание: не в дБ).
</font></font></p>
</dd>
<dt><samp><code>Flat factor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Равномерность (т. е. последовательные выборки с одинаковым значением) сигнала на его пиковых уровнях (т. е. либо , </font></font><var><code>Min level</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">либо </font></font><var><code>Max level</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p>
</dd>
<dt><samp><code>Peak count</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество случаев (не количество отсчетов), когда сигнал достиг либо ,
 </font></font><var><code>Min level</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">либо </font></font><var><code>Max level</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>Noise floor dB</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Минимальный локальный пик, измеренный в dBFS в течение короткого окна.
</font></font></p>
</dd>
<dt><samp><code>Noise floor count</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество случаев (не количество выборок), которых достиг сигнал
 </font></font><var><code>Noise floor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>Entropy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Энтропия измеряется по всему аудио. </font><font style="vertical-align: inherit;">Энтропия со значением около 1,0 обычно измеряется для белого шума.
</font></font></p>
</dd>
<dt><samp><code>Bit depth</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Общая разрядность звука. </font><font style="vertical-align: inherit;">Количество битов, используемых для каждой выборки.
</font></font></p>
</dd>
<dt><samp><code>Dynamic range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измеренный динамический диапазон звука в дБ.
</font></font></p>
</dd>
<dt><samp><code>Zero crossings</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество точек, в которых сигнал пересекает ось нулевого уровня.
</font></font></p>
</dd>
<dt><samp><code>Zero crossings rate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота пересечений нуля и количество аудиосэмплов.
</font></font></p></dd>
</dl>

<span id="asubboost"></span><h3 class="section"><code><a href="#toc-asubboost">8.55 asubboost</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повысьте частоты сабвуфера.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dry</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сухое усиление, сколько исходного сигнала сохраняется. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>wet</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление, сколько отфильтрованного сигнала сохраняется. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>boost</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный коэффициент усиления. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 12. Значение по умолчанию — 2.
</font></font></p>
</dd>
<dt><samp><code>decay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение усиления затухания линии задержки. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0,0.
</font></font></p>
</dd>
<dt><samp><code>feedback</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение усиления обратной связи линии задержки. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0,9.
</font></font></p>
</dd>
<dt><samp><code>cutoff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту среза в герцах. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 50 до 900. Значение по умолчанию — 100.
</font></font></p>
</dd>
<dt><samp><code>slope</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину наклона для частоты среза. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0,0001 до 1. Значение по умолчанию — 0,5.
</font></font></p>
</dd>
<dt><samp><code>delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить задержку. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 100. Значение по умолчанию — 20.
</font></font></p>
</dd>
<dt><samp><code>channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите каналы для обработки. </font><font style="vertical-align: inherit;">Значение по умолчанию — все доступно.
</font></font></p></dd>
</dl>

<span id="Commands-21"></span><h4 class="subsection"><a href="#toc-Commands-21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.55.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="asubcut"></span><h3 class="section"><code><a href="#toc-asubcut">8.56 asubcut</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Срезал частоты сабвуфера.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр позволяет установить пользовательский, более крутой спад, чем фильтр верхних частот, и, таким образом, способен сильнее ослабить частотное содержимое в полосе задерживания.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>cutoff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту среза в герцах. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 2 до 200. Значение по умолчанию — 20.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтров. </font><font style="vertical-align: inherit;">Доступные значения от 3 до 20. Значение по умолчанию — 10.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входного усиления. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 1.
</font></font></p></dd>
</dl>

<span id="Commands-22"></span><h4 class="subsection"><a href="#toc-Commands-22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.56.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="asupercut"></span><h3 class="section"><code><a href="#toc-asupercut">8.57 asupercut</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вырезать супер частоты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>cutoff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту среза в герцах. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 20&nbsp;000 до 192&nbsp;000. Значение по умолчанию — 20&nbsp;000.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтров. </font><font style="vertical-align: inherit;">Доступные значения от 3 до 20. Значение по умолчанию — 10.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входного усиления. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 1.
</font></font></p></dd>
</dl>

<span id="Commands-23"></span><h4 class="subsection"><a href="#toc-Commands-23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.57.1 &ZeroWidthSpace;&ZeroWidthSpace;Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="asuperpass"></span><h3 class="section"><code><a href="#toc-asuperpass">8.58 asuperpass</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените полосовой фильтр Баттерворта высокого порядка.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>centerf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту в герцах. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 2 до 999999. Значение по умолчанию — 1000.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтров. </font><font style="vertical-align: inherit;">Доступные значения от 4 до 20. Значение по умолчанию — 4.
</font></font></p>
</dd>
<dt><samp><code>qfactor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить Q-фактор. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0,01 до 100. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входного усиления. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 2. Значение по умолчанию — 1.
</font></font></p></dd>
</dl>

<span id="Commands-24"></span><h4 class="subsection"><a href="#toc-Commands-24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.58.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="asuperstop"></span><h3 class="section"><code><a href="#toc-asuperstop">8.59 asuperstop</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените полосовой фильтр Баттерворта высокого порядка.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>centerf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту в герцах. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 2 до 999999. Значение по умолчанию — 1000.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок фильтров. </font><font style="vertical-align: inherit;">Доступные значения от 4 до 20. Значение по умолчанию — 4.
</font></font></p>
</dd>
<dt><samp><code>qfactor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить Q-фактор. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0,01 до 100. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входного усиления. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 2. Значение по умолчанию — 1.
</font></font></p></dd>
</dl>

<span id="Commands-25"></span><h4 class="subsection"><a href="#toc-Commands-25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.59.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="atempo"></span><h3 class="section"><code><a href="#toc-atempo">8.60 atempo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте темп звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает ровно один параметр — темп звука. </font><font style="vertical-align: inherit;">Если не указано, фильтр примет номинальный темп 1.0. </font><font style="vertical-align: inherit;">Темп должен быть в диапазоне [0,5, 100,0].
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что темп больше 2 будет пропускать некоторые сэмплы, а не смешивать их. Если по какой-либо причине это вызывает беспокойство, всегда можно последовательно подключить несколько экземпляров atempo для достижения желаемого темпа продукта.
</font></font></p>
<span id="Examples-16"></span><h4 class="subsection"><a href="#toc-Examples-16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.60.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Замедлите звук до темпа 80%:
</font></font><div class="example">
<pre class="example"><code>atempo=0.8
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы ускорить звук до темпа 300%:
</font></font><div class="example">
<pre class="example"><code>atempo=3
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы ускорить звук до темпа 300&nbsp;%, последовательно подключив два экземпляра atempo:
</font></font><div class="example">
<pre class="example"><code>atempo=sqrt(3),atempo=sqrt(3)
</code></pre></div>
</li></ul>

<span id="Commands-26"></span><h4 class="subsection"><a href="#toc-Commands-26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.60.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>tempo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить коэффициент масштабирования темпа фильтра. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>tempo</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="atilt"></span><h3 class="section"><code><a href="#toc-atilt">8.61 atilt</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр спектрального наклона к аудиопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр применяет любую крутизну спада спектра в любой заданной полосе частот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>freq</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту наклона в Гц. </font><font style="vertical-align: inherit;">По умолчанию 10000 Гц.
</font></font></p>
</dd>
<dt><samp><code>slope</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите направление наклона наклона. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>width</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить ширину наклона. </font><font style="vertical-align: inherit;">По умолчанию 1000. Допустимый диапазон от 100 до 10000.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить порядок фильтра наклона.
</font></font></p>
</dd>
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входной громкости. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 4. По умолчанию 1.
</font></font></p></dd>
</dl>

<span id="Commands-27"></span><h4 class="subsection"><a href="#toc-Commands-27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.61.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="atrim"></span><h3 class="section"><code><a href="#toc-atrim">8.62 atrim</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрежьте ввод так, чтобы вывод содержал одну непрерывную часть ввода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>start</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени (в секундах) начала сохраняемого раздела. </font><font style="vertical-align: inherit;">Т.е. аудиосэмпл с отметкой времени </font></font><var><code>start</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет первым на выходе.
</font></font></p>
</dd>
<dt><samp><code>end</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите время первого отбрасываемого аудиосэмпла, т. е. аудиосэмпл, непосредственно предшествующий сэмплу с отметкой времени </font></font><var><code>end</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, будет последним семплом на выходе.
</font></font></p>
</dd>
<dt><samp><code>start_pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же </font></font><var><code>start</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что и , за исключением того, что эта опция устанавливает отметку времени начала в семплах, а не в секундах.
</font></font></p>
</dd>
<dt><samp><code>end_pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же </font></font><var><code>end</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что и , за исключением того, что эта опция устанавливает отметку времени окончания в сэмплах, а не в секундах.
</font></font></p>
</dd>
<dt><samp><code>duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальная продолжительность вывода в секундах.
</font></font></p>
</dd>
<dt><samp><code>start_sample</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер первого образца, который должен быть выведен.
</font></font></p>
</dd>
<dt><samp><code>end_sample</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер первой выборки, которую следует отбросить.
</font></font></p></dd>
</dl>

<p><samp><code>start</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>end</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а также</font></font><samp><code>duration</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражаются в виде спецификаций продолжительности времени; </font><font style="vertical-align: inherit;">см.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что первые два набора параметров начала/конца и</font></font><samp><code>duration</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
опция смотрит на временную метку кадра, а опция _sample просто подсчитывает выборки, прошедшие через фильтр. </font><font style="vertical-align: inherit;">Таким образом, start/end_pts и start/end_sample будут давать разные результаты, когда метки времени неверны, неточны или не начинаются с нуля. </font><font style="vertical-align: inherit;">Также обратите внимание, что этот фильтр не изменяет метки времени. </font><font style="vertical-align: inherit;">Если вы хотите, чтобы временные метки вывода начинались с нуля, вставьте фильтр asetpts после фильтра atrim.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если задано несколько параметров начала или конца, этот фильтр пытается быть жадным и сохраняет все образцы, соответствующие хотя бы одному из указанных ограничений. </font><font style="vertical-align: inherit;">Чтобы оставить только ту часть, которая соответствует всем ограничениям сразу, объедините несколько фильтров atrim.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию все входные данные сохраняются. </font><font style="vertical-align: inherit;">Таким образом, можно установить, например, только конечные значения, чтобы сохранить все до указанного времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примеры:
</font></font></p><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отбросьте все, кроме второй минуты ввода:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -af atrim=60:120
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оставьте только первые 1000 образцов:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -af atrim=end_sample=1000
</code></pre></div>

</li></ul>

<span id="axcorrelate"></span><h3 class="section"><code><a href="#toc-axcorrelate">8.63 axcorrelate</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите нормализованную оконную взаимную корреляцию между двумя входными аудиопотоками.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Результирующие выборки всегда находятся между -1 и 1 включительно. </font><font style="vertical-align: inherit;">Если результат равен 1, это означает, что две входные выборки сильно коррелированы в выбранном сегменте. </font><font style="vertical-align: inherit;">Результат 0 означает, что они вообще не коррелированы. </font><font style="vertical-align: inherit;">Если результат равен -1, это означает, что две входные выборки не совпадают по фазе, что означает, что они компенсируют друг друга.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер сегмента, по которому вычисляется взаимная корреляция. </font><font style="vertical-align: inherit;">По умолчанию 256. Допустимый диапазон от 2 до 131072.
</font></font></p>
</dd>
<dt><samp><code>algo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить алгоритм взаимной корреляции. </font><font style="vertical-align: inherit;">Можно </font></font><code>slow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>fast</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>slow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Быстрый алгоритм предполагает, что средние значения по любому заданному сегменту всегда равны нулю, и поэтому требуется гораздо меньше вычислений. </font><font style="vertical-align: inherit;">Как правило, это неверно, но справедливо для типичных аудиопотоков.
</font></font></p></dd>
</dl>

<span id="Examples-17"></span><h4 class="subsection"><a href="#toc-Examples-17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.63.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислить корреляцию между каналами в стереофоническом аудиопотоке:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i stereo.wav -af channelsplit,axcorrelate=size=1024:algo=fast correlation.wav
</code></pre></div>
</li></ul>

<span id="bandpass"></span><h3 class="section"><code><a href="#toc-bandpass">8.64 bandpass</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените двухполюсный полосовой фильтр Баттерворта с центральной частотой </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и шириной полосы пропускания (3 дБ). </font><font style="vertical-align: inherit;">Опция </font></font><var><code>csg</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выбирает постоянное усиление юбки (пиковое усиление = Q) вместо значения по умолчанию: постоянное пиковое усиление 0 дБ. </font><font style="vertical-align: inherit;">Спад фильтра составляет 6 дБ на октаву (20 дБ на декаду).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту фильтра. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>3000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>csg</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Постоянный коэффициент усиления юбки, если установлено значение 1. По умолчанию установлено значение 0.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте ширину полосы пропускания фильтра в единицах width_type.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Commands-28"></span><h4 class="subsection"><a href="#toc-Commands-28"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.64.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените частоту полосы пропускания. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить ширину_типа полосы пропускания. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить ширину полосы пропускания. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить полосу пропускания. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>mix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="bandreject"></span><h3 class="section"><code><a href="#toc-bandreject">8.65 bandreject</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените двухполюсный режекторный фильтр Баттерворта с центральной частотой </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и шириной полосы (3 дБ) </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Спад фильтра составляет 6 дБ на октаву (20 дБ на декаду).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту фильтра. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>3000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте ширину полосы пропускания фильтра в единицах width_type.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Commands-29"></span><h4 class="subsection"><a href="#toc-Commands-29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.65.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить частоту подавления полосы. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить ширину_типа отклонения полосы. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить ширину отклонения полосы. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменение микса отклонения полосы. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>mix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="bass_002c-lowshelf"></span><h3 class="section"><code><a href="#toc-bass_002c-lowshelf">8.66 bass, lowshelf</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усильте или обрежьте басовые (нижние) частоты звука с помощью двухполюсного полочного фильтра с откликом, аналогичным отклику стандартных регуляторов тембра Hi-Fi. </font><font style="vertical-align: inherit;">Это также известно как полочная эквализация (EQ).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>gain, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дайте усиление при 0 Гц. </font><font style="vertical-align: inherit;">Его полезный диапазон составляет от -20 (для большого сокращения) до +20 (для большого повышения). </font><font style="vertical-align: inherit;">Остерегайтесь клиппирования при использовании положительного усиления.
</font></font></p>
</dd>
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту фильтра, которую можно использовать для расширения или уменьшения частотного диапазона, который необходимо усилить или обрезать. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите, насколько крутым является переход полки фильтра.
</font></font></p>
</dd>
<dt><samp><code>poles, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить количество полюсов. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Commands-30"></span><h4 class="subsection"><a href="#toc-Commands-30"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.66.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить частоту баса. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить ширину_типа баса. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить ширину баса. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>gain, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить усиление басов. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>gain</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить басовый микс. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>mix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="biquad"></span><h3 class="section"><code><a href="#toc-biquad">8.67 biquad</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените биквадратный БИХ-фильтр с заданными коэффициентами. </font><font style="vertical-align: inherit;">Где </font></font><var><code>b0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>b1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>b2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>a0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>a1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>a2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- коэффициенты числителя и знаменателя соответственно. </font><font style="vertical-align: inherit;">и укажите </font></font><var><code>channels</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>c</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
<span id="Commands-31"></span><h4 class="subsection"><a href="#toc-Commands-31"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.67.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>a0</code></samp></dt>
<dt><samp><code>a1</code></samp></dt>
<dt><samp><code>a2</code></samp></dt>
<dt><samp><code>b0</code></samp></dt>
<dt><samp><code>b1</code></samp></dt>
<dt><samp><code>b2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить параметр биквадрата. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="bs2b"></span><h3 class="section"><code><a href="#toc-bs2b">8.68 bs2b</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bauer стерео в бинауральное преобразование, которое улучшает прослушивание стереофонических аудиозаписей в наушниках.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-libbs2b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>profile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предопределенный уровень перекрестной подачи.
</font></font></p><dl compact="compact">
<dt><samp><code>default</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уровень по умолчанию (fcut=700, подача=50).
</font></font></p>
</dd>
<dt><samp><code>cmoy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Схема Чу Мой (fcut=700, подача=60).
</font></font></p>
</dd>
<dt><samp><code>jmeier</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Схема Яна Мейера (fcut=650, подача=95).
</font></font></p>
</dd>
</dl>

</dd>
<dt><samp><code>fcut</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота среза (в Гц).
</font></font></p>
</dd>
<dt><samp><code>feed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уровень подачи (в Гц).
</font></font></p>
</dd>
</dl>

<span id="channelmap"></span><h3 class="section"><code><a href="#toc-channelmap">8.69 channelmap</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переназначьте входные каналы на новые местоположения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>map</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставьте каналы от входа к выходу. </font><font style="vertical-align: inherit;">Аргумент представляет собой список сопоставлений, разделенных знаком '|', каждое из которых имеет </font><font style="vertical-align: inherit;">форму </font><font style="vertical-align: inherit;">или
 . </font><font style="vertical-align: inherit;">может быть либо именем входного канала (например, FL для переднего левого), либо его индексом в расположении входного канала.
</font><font style="vertical-align: inherit;">имя выходного канала или его индекс в схеме выходных каналов. </font><font style="vertical-align: inherit;">Если </font><font style="vertical-align: inherit;">не указано, то это неявно индекс, начинающийся с нуля и увеличивающийся на единицу для каждого отображения.
</font></font><code><var><code>in_channel</code></var>-<var><code>out_channel</code></var></code><font style="vertical-align: inherit;"></font><var><code>in_channel</code></var><font style="vertical-align: inherit;"></font><var><code>in_channel</code></var><font style="vertical-align: inherit;"></font><var><code>out_channel</code></var><font style="vertical-align: inherit;"></font><var><code>out_channel</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>channel_layout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расположение каналов выходного потока.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если сопоставление отсутствует, фильтр будет неявно отображать входные каналы на выходные каналы, сохраняя индексы.
</font></font></p>
<span id="Examples-18"></span><h4 class="subsection"><a href="#toc-Examples-18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.69.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, если предположить, что входной файл MOV 5.1 + понижающее микширование,
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.mov -filter 'channelmap=map=DL-FL|DR-FR' out.wav
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">создаст выходной файл WAV, помеченный как стерео, из каналов понижающего микширования входа.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы исправить 5.1 WAV, неправильно закодированный в собственном порядке каналов AAC
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.wav -filter 'channelmap=1|2|0|5|3|4:5.1' out.wav
</code></pre></div>
</li></ul>

<span id="channelsplit"></span><h3 class="section"><code><a href="#toc-channelsplit">8.70 channelsplit</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделите каждый канал входного аудиопотока на отдельный выходной поток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>channel_layout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расположение каналов входного потока. </font><font style="vertical-align: inherit;">По умолчанию "стерео".
</font></font></p></dd>
<dt><samp><code>channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Схема канала, описывающая каналы, которые нужно извлечь как отдельные выходные потоки, или «все», чтобы выделить каждый входной канал как отдельный поток. </font><font style="vertical-align: inherit;">По умолчанию "все".
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выбор каналов, отсутствующих в расположении каналов во входных данных, приведет к ошибке.
</font></font></p></dd>
</dl>

<span id="Examples-19"></span><h4 class="subsection"><a href="#toc-Examples-19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.70.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, предполагая входной стереофонический файл MP3,
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.mp3 -filter_complex channelsplit out.mkv
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">создаст выходной файл Matroska с двумя аудиопотоками, один из которых содержит только левый канал, а другой — правый канал.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделите файл 5.1 WAV на файлы для каждого канала:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.wav -filter_complex<font></font>
'channelsplit=channel_layout=5.1[FL][FR][FC][LFE][SL][SR]'<font></font>
-map '[FL]' front_left.wav -map '[FR]' front_right.wav -map '[FC]'<font></font>
front_center.wav -map '[LFE]' lfe.wav -map '[SL]' side_left.wav -map '[SR]'<font></font>
side_right.wav<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлеките только LFE из WAV-файла 5.1:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.wav -filter_complex 'channelsplit=channel_layout=5.1:channels=LFE[LFE]'<font></font>
-map '[LFE]' lfe.wav<font></font>
</code></pre></div>
</li></ul>

<span id="chorus"></span><h3 class="section"><code><a href="#toc-chorus">8.71 chorus</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте к аудио эффект хоруса.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может издавать один вокальный звук, как припев, но также может применяться к инструментам.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Хорус напоминает эффект эха с короткой задержкой, но если при эхе задержка постоянна, то при хорусе она варьируется с использованием синусоидальной или треугольной модуляции. </font><font style="vertical-align: inherit;">Глубина модуляции определяет диапазон воспроизведения модулированной задержки до или после задержки. </font><font style="vertical-align: inherit;">Следовательно, задержанный звук будет звучать медленнее или быстрее, то есть задержанный звук настроен вокруг исходного, как в припеве, где некоторые вокалы слегка фальшивят.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>in_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление. </font><font style="vertical-align: inherit;">По умолчанию 0,4.
</font></font></p>
</dd>
<dt><samp><code>out_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление. </font><font style="vertical-align: inherit;">По умолчанию 0,4.
</font></font></p>
</dd>
<dt><samp><code>delays</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить задержки. </font><font style="vertical-align: inherit;">Типичная задержка составляет от 40 мс до 60 мс.
</font></font></p>
</dd>
<dt><samp><code>decays</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить затухания.
</font></font></p>
</dd>
<dt><samp><code>speeds</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорости.
</font></font></p>
</dd>
<dt><samp><code>depths</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите глубины.
</font></font></p></dd>
</dl>

<span id="Examples-20"></span><h4 class="subsection"><a href="#toc-Examples-20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.71.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Одна задержка:
</font></font><div class="example">
<pre class="example"><code>chorus=0.7:0.9:55:0.4:0.25:2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Две задержки:
</font></font><div class="example">
<pre class="example"><code>chorus=0.6:0.9:50|60:0.4|0.32:0.25|0.4:2|1.3
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полнее звучащий припев с тремя задержками:
</font></font><div class="example">
<pre class="example"><code>chorus=0.5:0.9:50|60|40:0.4|0.32|0.3:0.25|0.4|0.3:2|2.3|1.3
</code></pre></div>
</li></ul>

<span id="compand"></span><h3 class="section"><code><a href="#toc-compand">8.72 compand</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сжимайте или расширяйте динамический диапазон аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>attacks</code></samp></dt>
<dt><samp><code>decays</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список значений времени в секундах для каждого канала, по которым усредняется мгновенный уровень входного сигнала для определения его громкости. </font></font><var><code>attacks</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">относится к увеличению объема и </font></font><var><code>decays</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">относится к уменьшению объема. </font><font style="vertical-align: inherit;">В большинстве ситуаций время атаки (реакция на усиление звука) должно быть короче, чем время затухания, потому что человеческое ухо более чувствительно к внезапному громкому звуку, чем к внезапному тихому звуку. </font><font style="vertical-align: inherit;">Типичное значение для атаки составляет 0,3 секунды, а типичное значение для затухания — 0,8 секунды. </font><font style="vertical-align: inherit;">Если указанное количество атак и затухания меньше, чем количество каналов, для всех оставшихся каналов будет использоваться последняя установленная атака/затухание.
</font></font></p>
</dd>
<dt><samp><code>points</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список точек для передаточной функции, заданный в дБ относительно максимально возможной амплитуды сигнала. </font><font style="vertical-align: inherit;">Каждый список ключевых точек должен быть определен с использованием следующего синтаксиса: </font></font><code>x0/y0|x1/y1|x2/y2|....</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или
</font></font><code>x0/y0 x1/y1 x2/y2 ....</code>
</p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входные значения должны быть в строго возрастающем порядке, но передаточная функция не должна быть монотонно возрастающей. </font><font style="vertical-align: inherit;">Точка </font></font><code>0/0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предполагается, но может быть переопределена (кнопкой </font></font><code>0/out-dBn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Типичными значениями передаточной функции являются </font></font><code>-70/-70|-60/-20|1/0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>soft-knee</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус кривой в дБ для всех суставов. </font><font style="vertical-align: inherit;">По умолчанию он равен 0,01.
</font></font></p>
</dd>
<dt><samp><code>gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите дополнительное усиление в дБ, которое будет применяться во всех точках передаточной функции. </font><font style="vertical-align: inherit;">Это позволяет легко регулировать общий коэффициент усиления. </font><font style="vertical-align: inherit;">По умолчанию он равен 0.
</font></font></p>
</dd>
<dt><samp><code>volume</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальную громкость в дБ для каждого канала при запуске фильтрации. </font><font style="vertical-align: inherit;">Это позволяет пользователю изначально задать номинальный уровень, чтобы, например, очень большое усиление не применялось к начальным уровням сигнала до того, как компандирование начнет работать. </font><font style="vertical-align: inherit;">Типичное значение для изначально тихого звука составляет -90 дБ. </font><font style="vertical-align: inherit;">По умолчанию он равен 0.
</font></font></p>
</dd>
<dt><samp><code>delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите задержку в секундах. </font><font style="vertical-align: inherit;">Входной звук анализируется немедленно, но звук задерживается перед подачей на регулятор громкости. </font><font style="vertical-align: inherit;">Указание задержки, приблизительно равной времени атаки/затухания, позволяет фильтру эффективно работать в прогнозирующем, а не в реактивном режиме. </font><font style="vertical-align: inherit;">По умолчанию он равен 0.
</font></font></p>
</dd>
</dl>

<span id="Examples-21"></span><h4 class="subsection"><a href="#toc-Examples-21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.72.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте музыку как с тихими, так и с громкими пассажами, подходящей для прослушивания в шумной обстановке:
</font></font><div class="example">
<pre class="example"><code>compand=.3|.3:1|1:-90/-60|-60/-40|-40/-30|-20/-20:6:0:-90:0.2
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Еще один пример аудио с частями шепота и взрыва:
</font></font></p><div class="example">
<pre class="example"><code>compand=0|0:1|1:-90/-900|-70/-70|-30/-9|0/-3:6:0:0:0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Шумоподавитель, когда шум находится на более низком уровне, чем сигнал:
</font></font><div class="example">
<pre class="example"><code>compand=.1|.1:.2|.2:-900/-900|-50.1/-900|-50/-50:.01:0:-90:.1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вот еще один шумоподавитель, на этот раз для случаев, когда уровень шума выше уровня сигнала (что делает его в некотором роде похожим на шумоподавитель):
</font></font><div class="example">
<pre class="example"><code>compand=.1|.1:.1|.1:-45.1/-45.1|-45/-900|0/-900:.01:45:-90:.1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компрессия 2:1, начиная с -6 дБ:
</font></font><div class="example">
<pre class="example"><code>compand=points=-80/-80|-6/-6|0/-3.8|20/3.5
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компрессия 2:1, начиная с -9 дБ:
</font></font><div class="example">
<pre class="example"><code>compand=points=-80/-80|-9/-9|0/-5.3|20/2.9
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компрессия 2:1, начиная с -12 дБ:
</font></font><div class="example">
<pre class="example"><code>compand=points=-80/-80|-12/-12|0/-6.8|20/1.9
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компрессия 2:1, начиная с -18 дБ:
</font></font><div class="example">
<pre class="example"><code>compand=points=-80/-80|-18/-18|0/-9.8|20/0.7
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компрессия 3:1, начиная с -15 дБ:
</font></font><div class="example">
<pre class="example"><code>compand=points=-80/-80|-15/-15|0/-10.8|20/-5.2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компрессор/гейт:
</font></font><div class="example">
<pre class="example"><code>compand=points=-80/-105|-62/-80|-15.4/-15.4|0/-12|20/-7.6
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расширитель:
</font></font><div class="example">
<pre class="example"><code>compand=attacks=0:points=-80/-169|-54/-80|-49.5/-64.6|-41.1/-41.1|-25.8/-15|-10.8/-4.5|0/0|20/8.3
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Жесткий лимитер на -6дБ:
</font></font><div class="example">
<pre class="example"><code>compand=attacks=0:points=-80/-80|-6/-6|20/-6
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Жесткий лимитер на -12дБ:
</font></font><div class="example">
<pre class="example"><code>compand=attacks=0:points=-80/-80|-12/-12|20/-12
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Хард-нойз-гейт на -35 дБ:
</font></font><div class="example">
<pre class="example"><code>compand=attacks=0:points=-80/-115|-35.1/-80|-35/-35|20/20
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Мягкий ограничитель:
</font></font><div class="example">
<pre class="example"><code>compand=attacks=0:points=-80/-80|-12.4/-12.4|-6/-8|0/-6.8|20/-2.8
</code></pre></div>
</li></ul>

<span id="compensationdelay"></span><h3 class="section"><code><a href="#toc-compensationdelay">8.73 compensationdelay</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линия задержки компенсации — это основанная на метрике задержка для компенсации различных положений микрофонов или динамиков.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, вы записали гитару с двумя микрофонами, расположенными в разных местах. </font><font style="vertical-align: inherit;">Поскольку в нормальных условиях фронт звуковой волны имеет фиксированную скорость, фазировка микрофонов может варьироваться и зависит от их расположения и взаимного расположения. </font><font style="vertical-align: inherit;">Наилучший звуковой микс может быть достигнут, когда эти микрофоны находятся в фазе (синхронизированы). </font><font style="vertical-align: inherit;">Обратите внимание, что расстояние между микрофонами ~ 30 см заставляет один микрофон улавливать сигнал в противофазе с другим микрофоном. </font><font style="vertical-align: inherit;">Из-за этого финальный микс звучит мрачно. </font><font style="vertical-align: inherit;">Этот фильтр помогает решить проблемы с фазировкой, добавляя разные задержки к каждой дорожке микрофона и синхронизируя их.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наилучший результат достигается, когда вы берете одну дорожку за основу и последовательно синхронизируете с ней другие дорожки. </font><font style="vertical-align: inherit;">Помните, что устойчивость к синхронизации/задержке также зависит от частоты дискретизации. </font><font style="vertical-align: inherit;">Более высокие частоты дискретизации дадут большую устойчивость.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите расстояние в миллиметрах. </font><font style="vertical-align: inherit;">Это компенсационное расстояние для точной настройки. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>cm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите расстояние в см. </font><font style="vertical-align: inherit;">Это компенсационное расстояние для настройки расстояния затяжки. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите расстояние в метрах. </font><font style="vertical-align: inherit;">Это компенсационное расстояние для установки жесткого расстояния. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>dry</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сухое количество. </font><font style="vertical-align: inherit;">Количество необработанного (сухого) сигнала. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>wet</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество влаги. </font><font style="vertical-align: inherit;">Количество обработанного (обработанного) сигнала. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>temp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите температуру в градусах Цельсия. </font><font style="vertical-align: inherit;">Это температура окружающей среды. </font><font style="vertical-align: inherit;">По умолчанию 20.
</font></font></p></dd>
</dl>

<span id="Commands-32"></span><h4 class="subsection"><a href="#toc-Commands-32"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.73.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="crossfeed"></span><h3 class="section"><code><a href="#toc-crossfeed">8.74 crossfeed</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр перекрестной подачи наушников.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crossfeed — это процесс смешивания левого и правого каналов стереофонической аудиозаписи. </font><font style="vertical-align: inherit;">Он в основном используется для уменьшения резкого стереофонического разделения низких частот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цель состоит в том, чтобы воспроизвести для слушателя больше звука, похожего на динамик.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить силу поперечной подачи. </font><font style="vertical-align: inherit;">По умолчанию 0,2. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. Устанавливает усиление низкочастотного полочного фильтра для боковой части стереоизображения. </font><font style="vertical-align: inherit;">По умолчанию -6дБ. </font><font style="vertical-align: inherit;">Максимально допустимое значение составляет -30 дБ, когда для силы установлено значение 1.
</font></font></p>
</dd>
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину звуковой сцены. </font><font style="vertical-align: inherit;">По умолчанию 0,5. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. Устанавливает частоту среза полочного фильтра низких частот. </font><font style="vertical-align: inherit;">По умолчанию обрезается около 1550 Гц. </font><font style="vertical-align: inherit;">При установке диапазона на 1 частота среза устанавливается на 2100 Гц.
</font></font></p>
</dd>
<dt><samp><code>slope</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите наклон кривой фильтра нижней полки. </font><font style="vertical-align: inherit;">По умолчанию 0,5. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,01 до 1.
</font></font></p>
</dd>
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление. </font><font style="vertical-align: inherit;">По умолчанию 0,9.
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное усиление. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>block_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Commands-33"></span><h4 class="subsection"><a href="#toc-Commands-33"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.74.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="crystalizer"></span><h3 class="section"><code><a href="#toc-crystalizer">8.75 crystalizer</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Простой алгоритм повышения резкости звукового шума.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр линейно увеличивает разницу между каждым звуковым сэмплом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устанавливает интенсивность эффекта (по умолчанию: 2,0). </font><font style="vertical-align: inherit;">Должен находиться в диапазоне от -10,0 до 0 (без изменений звука) до 10,0 (максимальный эффект). </font><font style="vertical-align: inherit;">Для обратной фильтрации используйте отрицательное значение.
</font></font></p>
</dd>
<dt><samp><code>c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить отсечение. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p></dd>
</dl>

<span id="Commands-34"></span><h4 class="subsection"><a href="#toc-Commands-34"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.75.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="dcshift"></span><h3 class="section"><code><a href="#toc-dcshift">8.76 dcshift</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените смещение постоянного тока к звуку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это может быть полезно для удаления смещения постоянного тока (вызванного, возможно, аппаратной проблемой в цепочке записи) из аудио. </font><font style="vertical-align: inherit;">Эффект смещения постоянного тока заключается в уменьшении запаса по перегрузке и, следовательно, громкости. </font><font style="vertical-align: inherit;">Фильтр </font></font><a href="#astats"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">astats</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> можно использовать для определения того, имеет ли сигнал смещение постоянного тока.
</font></font></p>
<dl compact="compact">
<dt><samp><code>shift</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сдвиг постоянного тока, допустимый диапазон [-1, 1]. </font><font style="vertical-align: inherit;">Он указывает величину смещения звука.
</font></font></p>
</dd>
<dt><samp><code>limitergain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По желанию. </font><font style="vertical-align: inherit;">Он должен иметь значение намного меньше 1 (например, 0,05 или 0,02) и используется для предотвращения отсечения.
</font></font></p></dd>
</dl>

<span id="deesser"></span><h3 class="section"><code><a href="#toc-deesser">8.77 deesser</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените деэссинг к аудиосэмплам.
</font></font></p>
<dl compact="compact">
<dt><samp><code>i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите интенсивность для запуска деэссинга. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите степень приглушения высоких частот звука. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. По умолчанию 0,5.
</font></font></p>
</dd>
<dt><samp><code>f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько оригинального частотного контента нужно сохранить при де-эссинге. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. По умолчанию 0,5.
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передайте ввод без изменений.
</font></font></p>
</dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проход отфильтрован.
</font></font></p>
</dd>
<dt><samp><code>e</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проходят только эсс.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>o</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
</dl>

<span id="dialoguenhance"></span><h3 class="section"><code><a href="#toc-dialoguenhance">8.78 dialoguenhance</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Улучшение диалогов в стереозвуке.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает стереофонический вход и воспроизводит объемный звук (3.0) на выходе. </font><font style="vertical-align: inherit;">Недавно выпущенный передний центральный канал имеет расширенный речевой диалог, изначально доступный в обоих стереоканалах. </font><font style="vertical-align: inherit;">Этот фильтр выводит передний левый и передний правый каналы так же, как и на стереовходе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>original</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите исходный центральный коэффициент, чтобы он оставался на выходе переднего центрального канала. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>enhance</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент усиления диалога, чтобы поместить выход переднего центрального канала. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 3. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>voice</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент обнаружения голоса. </font><font style="vertical-align: inherit;">Допустимый диапазон от 2 до 32. Значение по умолчанию — 2.
</font></font></p></dd>
</dl>

<span id="Commands-35"></span><h4 class="subsection"><a href="#toc-Commands-35"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.78.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="drmeter"></span><h3 class="section"><code><a href="#toc-drmeter">8.79 drmeter</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измерьте динамический диапазон звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения DR 14 и выше встречаются в очень динамичном материале. </font><font style="vertical-align: inherit;">DR от 8 до 13 встречается в переходном материале. </font><font style="vertical-align: inherit;">А все, что меньше 8, имеет очень плохую динамику и очень сжато.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>length</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите длину окна в секундах, используемую для разделения аудио на сегменты одинаковой длины. </font><font style="vertical-align: inherit;">По умолчанию 3 секунды.
</font></font></p></dd>
</dl>

<span id="dynaudnorm"></span><h3 class="section"><code><a href="#toc-dynaudnorm">8.80 dynaudnorm</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Динамический нормализатор звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр применяет определенное усиление к входному звуку, чтобы довести его пиковую величину до целевого уровня (например, 0 дБ полной шкалы). </font><font style="vertical-align: inherit;">Однако, в отличие от более «простых» алгоритмов нормализации, Dynamic Audio Normalizer *динамически* перенастраивает коэффициент усиления для входного аудио. </font><font style="vertical-align: inherit;">Это позволяет применять дополнительное усиление к «тихим» участкам звука, избегая при этом искажений или обрезания «громких» участков. </font><font style="vertical-align: inherit;">Другими словами: Dynamic Audio Normalizer «выровняет» громкость тихих и громких разделов в том смысле, что громкость каждого раздела будет доведена до одного и того же целевого уровня. </font><font style="vertical-align: inherit;">Обратите внимание, однако, что Dynamic Audio Normalizer достигает этой цели *без* применения «сжатия динамического диапазона». </font><font style="vertical-align: inherit;">Он сохранит 100% динамического диапазона *внутри* каждого раздела аудиофайла.
</font></font></p>
<dl compact="compact">
<dt><samp><code>framelen, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите длину кадра в миллисекундах. </font><font style="vertical-align: inherit;">В диапазоне от 10 до 8000 миллисекунд. </font><font style="vertical-align: inherit;">По умолчанию 500 миллисекунд. </font><font style="vertical-align: inherit;">Динамический нормализатор звука обрабатывает входной звук небольшими фрагментами, называемыми кадрами. </font><font style="vertical-align: inherit;">Это необходимо, потому что пиковая величина не имеет значения только для одного значения выборки. </font><font style="vertical-align: inherit;">Вместо этого нам нужно определить пиковую величину для непрерывной последовательности выборочных значений. </font><font style="vertical-align: inherit;">В то время как «стандартный» нормализатор просто использует пиковую величину всего файла, динамический нормализатор звука определяет пиковую величину отдельно для каждого кадра. </font><font style="vertical-align: inherit;">Длина кадра указывается в миллисекундах. </font><font style="vertical-align: inherit;">По умолчанию Dynamic Audio Normalizer использует длину кадра 500 миллисекунд, что дает хорошие результаты для большинства файлов. </font><font style="vertical-align: inherit;">Обратите внимание, что точная длина кадра в количестве выборок будет определена автоматически.
</font></font></p>
</dd>
<dt><samp><code>gausssize, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер окна фильтра Гаусса. </font><font style="vertical-align: inherit;">В диапазоне от 3 до 301 должно быть нечетное число. </font><font style="vertical-align: inherit;">Значение по умолчанию — 31. Вероятно, самым важным параметром Dynamic Audio Normalizer является
</font></font><code>window size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сглаживающего фильтра Гаусса. </font><font style="vertical-align: inherit;">Размер окна фильтра указывается в кадрах с центром вокруг текущего кадра. </font><font style="vertical-align: inherit;">Для простоты это должно быть нечетное число. </font><font style="vertical-align: inherit;">Следовательно, значение по умолчанию 31 учитывает текущий кадр, а также 15 предшествующих кадров и 15 последующих кадров. </font><font style="vertical-align: inherit;">Использование большего окна приводит к более сильному эффекту сглаживания и, следовательно, к меньшему изменению усиления, т. е. к более медленной адаптации усиления. </font><font style="vertical-align: inherit;">И наоборот, использование меньшего окна приводит к более слабому эффекту сглаживания и, следовательно, к большему изменению усиления, т. е. к более быстрой адаптации усиления. </font><font style="vertical-align: inherit;">Другими словами, чем больше вы увеличиваете это значение, тем больше Dynamic Audio Normalizer будет вести себя как «традиционный» фильтр нормализации. </font><font style="vertical-align: inherit;">Наоборот, чем больше вы уменьшаете это значение, тем больше Dynamic Audio Normalizer будет вести себя как компрессор динамического диапазона.
</font></font></p>
</dd>
<dt><samp><code>peak, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите целевое пиковое значение. </font><font style="vertical-align: inherit;">Это определяет самый высокий допустимый уровень амплитуды для нормализованного аудиовхода. </font><font style="vertical-align: inherit;">Этот фильтр попытается как можно ближе приблизиться к целевому пиковому значению, но в то же время он также гарантирует, что нормализованный сигнал никогда не превысит пиковое значение. </font><font style="vertical-align: inherit;">Максимальный локальный коэффициент усиления кадра определяется непосредственно величиной целевого пика. </font><font style="vertical-align: inherit;">Значение по умолчанию равно 0,95, поэтому запас составляет 5%*. </font><font style="vertical-align: inherit;">Не рекомендуется превышать это значение.
</font></font></p>
</dd>
<dt><samp><code>maxgain, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный коэффициент усиления. </font><font style="vertical-align: inherit;">В диапазоне от 1,0 до 100,0. </font><font style="vertical-align: inherit;">По умолчанию 10.0. </font><font style="vertical-align: inherit;">Динамический нормализатор звука определяет максимально возможный (локальный) коэффициент усиления для каждого входного кадра, то есть максимальный коэффициент усиления, который не приводит к отсечению или искажению. </font><font style="vertical-align: inherit;">Максимальный коэффициент усиления определяется выборкой самой высокой амплитуды кадра. </font><font style="vertical-align: inherit;">Однако Dynamic Audio Normalizer дополнительно ограничивает максимальный коэффициент усиления кадра заранее определенным (глобальным) максимальным коэффициентом усиления. </font><font style="vertical-align: inherit;">Это сделано для того, чтобы избежать чрезмерных коэффициентов усиления в «молчаливых» или почти тихих кадрах. </font><font style="vertical-align: inherit;">По умолчанию максимальный коэффициент усиления равен 10,0. Для большинства входов должно быть достаточно значения по умолчанию, и обычно не рекомендуется увеличивать это значение. </font><font style="vertical-align: inherit;">Однако для входа с очень низким общим уровнем громкости может потребоваться еще более высокий коэффициент усиления. </font><font style="vertical-align: inherit;">Примечание, </font><font style="vertical-align: inherit;">тем не менее, что Dynamic Audio Normalizer не просто применяет «жесткий» порог (т.е. отсекает значения выше порога). </font><font style="vertical-align: inherit;">Вместо этого будет применена пороговая функция «сигмоид». </font><font style="vertical-align: inherit;">Таким образом, коэффициенты усиления будут плавно приближаться к пороговому значению, но никогда не превысят его.
</font></font></p>
</dd>
<dt><samp><code>targetrms, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите целевое среднеквадратичное значение. </font><font style="vertical-align: inherit;">В диапазоне от 0,0 до 1,0. </font><font style="vertical-align: inherit;">По умолчанию 0.0 - отключено. </font><font style="vertical-align: inherit;">По умолчанию Dynamic Audio Normalizer выполняет «пиковую» нормализацию. </font><font style="vertical-align: inherit;">Это означает, что максимальный локальный коэффициент усиления для каждого кадра определяется (только) выборкой самой высокой амплитуды кадра. </font><font style="vertical-align: inherit;">Таким образом, сэмплы могут быть максимально усилены без превышения максимального уровня сигнала, т. е. без ограничения. </font><font style="vertical-align: inherit;">Однако при желании Dynamic Audio Normalizer может также учитывать среднеквадратичное значение кадра, сокращенно RMS. </font><font style="vertical-align: inherit;">В электротехнике среднеквадратичное значение обычно используется для определения мощности изменяющегося во времени сигнала. </font><font style="vertical-align: inherit;">Поэтому считается, что среднеквадратичное значение является лучшим приближением «воспринимаемой громкости», чем просто рассмотрение пиковой величины сигнала. </font><font style="vertical-align: inherit;">Следовательно, путем настройки всех кадров на постоянное среднеквадратичное значение, равномерная "
</font></font></p>
</dd>
<dt><samp><code>coupling, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить соединение каналов. </font><font style="vertical-align: inherit;">По умолчанию включен. </font><font style="vertical-align: inherit;">По умолчанию Dynamic Audio Normalizer будет усиливать все каналы на одинаковую величину. </font><font style="vertical-align: inherit;">Это означает, что ко всем каналам будет применяться одинаковый коэффициент усиления, т. е. максимально возможный коэффициент усиления определяется «самым громким» каналом. </font><font style="vertical-align: inherit;">Однако в некоторых записях может случиться так, что громкость разных каналов будет неравномерной, например, один канал может быть "тише", чем другой(ые). </font><font style="vertical-align: inherit;">В этом случае эту опцию можно использовать для отключения связи каналов. </font><font style="vertical-align: inherit;">Таким образом, коэффициент усиления будет определяться независимо для каждого канала, в зависимости только от выборки максимальной амплитуды отдельного канала. </font><font style="vertical-align: inherit;">Это позволяет согласовать громкость различных каналов.
</font></font></p>
</dd>
<dt><samp><code>correctdc, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите коррекцию смещения постоянного тока. </font><font style="vertical-align: inherit;">По умолчанию отключен. </font><font style="vertical-align: inherit;">Аудиосигнал (во временной области) представляет собой последовательность выборочных значений. </font><font style="vertical-align: inherit;">В Dynamic Audio Normalizer эти выборочные значения представлены в диапазоне от -1,0 до 1,0, независимо от исходного входного формата. </font><font style="vertical-align: inherit;">Обычно звуковой сигнал или «форма волны» должны центрироваться вокруг нулевой точки. </font><font style="vertical-align: inherit;">Это означает, что если мы вычислим среднее значение всех выборок в файле или в одном кадре, то результат должен быть 0,0 или, по крайней мере, очень близок к этому значению. </font><font style="vertical-align: inherit;">Однако, если имеется значительное отклонение среднего значения от 0,0 в положительном или отрицательном направлении, это называется смещением постоянного тока или смещением постоянного тока. </font><font style="vertical-align: inherit;">Поскольку смещение постоянного тока явно нежелательно, Dynamic Audio Normalizer обеспечивает дополнительную коррекцию смещения постоянного тока. </font><font style="vertical-align: inherit;">При включенной коррекции смещения постоянного тока </font><font style="vertical-align: inherit;">Динамический нормализатор звука определит среднее значение или смещение «поправки по постоянному току» каждого входного кадра и вычтет это значение из всех значений выборки кадра, что гарантирует, что эти выборки снова центрируются вокруг 0,0. </font><font style="vertical-align: inherit;">Кроме того, чтобы избежать «пробелов» на границах кадров, значения смещения коррекции постоянного тока будут плавно интерполироваться между соседними кадрами.
</font></font></p>
</dd>
<dt><samp><code>altboundary, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить альтернативный граничный режим. </font><font style="vertical-align: inherit;">По умолчанию отключен. </font><font style="vertical-align: inherit;">Динамический нормализатор звука учитывает определенное соседство вокруг каждого кадра. </font><font style="vertical-align: inherit;">Это включает в себя предыдущие кадры, а также последующие кадры. </font><font style="vertical-align: inherit;">Однако для «пограничных» кадров, находящихся в самом начале и в самом конце аудиофайла, доступны не все соседние кадры. </font><font style="vertical-align: inherit;">В частности, для первых нескольких кадров в аудиофайле предшествующие кадры неизвестны. </font><font style="vertical-align: inherit;">И, аналогично, для последних нескольких кадров в аудиофайле последующие кадры неизвестны. </font><font style="vertical-align: inherit;">Таким образом, возникает вопрос, какие коэффициенты усиления следует принять для отсутствующих кадров в «граничной» области. </font><font style="vertical-align: inherit;">Dynamic Audio Normalizer реализует два режима для решения этой ситуации. </font><font style="vertical-align: inherit;">Граничный режим по умолчанию предполагает коэффициент усиления ровно 1,0 для отсутствующих кадров.
</font></font></p>
</dd>
<dt><samp><code>compress, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент сжатия. </font><font style="vertical-align: inherit;">В диапазоне от 0,0 до 30,0. </font><font style="vertical-align: inherit;">По умолчанию 0,0. </font><font style="vertical-align: inherit;">По умолчанию Dynamic Audio Normalizer не применяет «традиционное» сжатие. </font><font style="vertical-align: inherit;">Это означает, что пики сигнала не будут отсекаться, и, таким образом, полный динамический диапазон будет сохранен в пределах каждой локальной окрестности. </font><font style="vertical-align: inherit;">Однако в некоторых случаях может оказаться желательным объединить алгоритм нормализации Dynamic Audio Normalizer с более «традиционным» сжатием. </font><font style="vertical-align: inherit;">Для этой цели Dynamic Audio Normalizer предоставляет дополнительную функцию сжатия (порогового значения). </font><font style="vertical-align: inherit;">Если (и только если) функция сжатия включена, все входные кадры будут обрабатываться функцией пороговой обработки мягкого колена до фактического процесса нормализации. </font><font style="vertical-align: inherit;">Проще говоря, пороговая функция будет отсекать все выборки, величина которых превышает определенное пороговое значение. </font><font style="vertical-align: inherit;">Однако, </font><font style="vertical-align: inherit;">Dynamic Audio Normalizer не просто применяет фиксированное пороговое значение. </font><font style="vertical-align: inherit;">Вместо этого пороговое значение будет регулироваться для каждого отдельного кадра. </font><font style="vertical-align: inherit;">Как правило, меньшие параметры приводят к более сильному сжатию, и наоборот. </font><font style="vertical-align: inherit;">Значения ниже 3,0 не рекомендуются, так как могут появиться слышимые искажения.
</font></font></p>
</dd>
<dt><samp><code>threshold, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите целевое пороговое значение. </font><font style="vertical-align: inherit;">Это определяет самый низкий допустимый уровень амплитуды для аудиовхода, который будет нормализован. </font><font style="vertical-align: inherit;">Если громкость входного кадра выше этого значения, кадр будет нормализован. </font><font style="vertical-align: inherit;">В противном случае кадр может вообще не нормализоваться. </font><font style="vertical-align: inherit;">Значение по умолчанию установлено на 0, что означает, что все входные кадры будут нормализованы. </font><font style="vertical-align: inherit;">Эта опция в основном полезна, если цифровой шум не нужно усиливать.
</font></font></p>
</dd>
<dt><samp><code>channels, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные каналы.
</font></font></p>
</dd>
<dt><samp><code>overlap, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите перекрытие для кадров. </font><font style="vertical-align: inherit;">Если установлено значение 0 (по умолчанию), перекрытие кадров не выполняется. </font><font style="vertical-align: inherit;">Использование значений &gt;0 и &lt;1 сделает менее консервативной регулировку усиления, например, когда для параметра framelen установлено меньшее значение, если значение параметра framelen компенсируется ненулевым перекрытием, тогда регулировки усиления будут более плавными во времени по сравнению со случаем нулевого перекрытия.
</font></font></p></dd>
</dl>

<span id="Commands-36"></span><h4 class="subsection"><a href="#toc-Commands-36"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.80.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="earwax"></span><h3 class="section"><code><a href="#toc-earwax">8.81 earwax</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Упростите прослушивание звука в наушниках.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр добавляет «подсказки» к стереозвуку 44,1 кГц (т. е. формат аудио компакт-диска), так что при прослушивании в наушниках стереоизображение перемещается из вашей головы (стандартно для наушников) наружу и перед слушателем (стандартно для динамиков). ).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Портировано с SoX.
</font></font></p>
<span id="equalizer"></span><h3 class="section"><code><a href="#toc-equalizer">8.82 equalizer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр двухполюсной пиковой коррекции (EQ). </font><font style="vertical-align: inherit;">С помощью этого фильтра уровень сигнала на выбранной частоте и вокруг нее можно увеличивать или уменьшать, в то время как (в отличие от полосовых и режекторных фильтров) уровень сигнала на всех других частотах остается неизменным.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы получить сложные кривые выравнивания, этот фильтр можно использовать несколько раз, каждый раз с разной центральной частотой.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту фильтра в Гц.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте ширину полосы пропускания фильтра в единицах width_type.
</font></font></p>
</dd>
<dt><samp><code>gain, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите необходимое усиление или ослабление в дБ. </font><font style="vertical-align: inherit;">Остерегайтесь клиппирования при использовании положительного усиления.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Examples-22"></span><h4 class="subsection"><a href="#toc-Examples-22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.82.1 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ослабить 10 дБ на частоте 1000 Гц с полосой пропускания 200 Гц:
</font></font><div class="example">
<pre class="example"><code>equalizer=f=1000:t=h:width=200:g=-10
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените усиление на 2 дБ при 1000 Гц с Q 1 и ослабьте 5 дБ на 100 Гц с Q 2:
</font></font><div class="example">
<pre class="example"><code>equalizer=f=1000:t=q:w=1:g=2,equalizer=f=100:t=q:w=2:g=-5
</code></pre></div>
</li></ul>

<span id="Commands-37"></span><h4 class="subsection"><a href="#toc-Commands-37"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.82.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить частоту эквалайзера. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить width_type эквалайзера. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменение ширины эквалайзера. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>gain, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить усиление эквалайзера. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>gain</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить микс эквалайзера. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>mix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="extrastereo"></span><h3 class="section"><code><a href="#toc-extrastereo">8.83 extrastereo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейно увеличивает разницу между левым и правым каналами, что добавляет к воспроизведению своего рода «живой» эффект.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устанавливает коэффициент разницы (по умолчанию: 2,5). </font><font style="vertical-align: inherit;">0.0 означает монофонический звук (средний для обоих каналов), при 1.0 звук не изменится, при -1.0 левый и правый каналы поменяются местами.
</font></font></p>
</dd>
<dt><samp><code>c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить отсечение. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p></dd>
</dl>

<span id="Commands-38"></span><h4 class="subsection"><a href="#toc-Commands-38"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.83.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="firequalizer"></span><h3 class="section"><code><a href="#toc-firequalizer">8.84 firequalizer</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените FIR Equalization, используя произвольную частотную характеристику.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уравнение кривой усиления (в дБ). </font><font style="vertical-align: inherit;">Выражение может содержать переменные:
</font></font></p><dl compact="compact">
<dt><samp><code>f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оцениваемая частота
</font></font></p></dd>
<dt><samp><code>sr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота дискретизации
</font></font></p></dd>
<dt><samp><code>ch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер канала, установленный на 0, когда многоканальная оценка отключена
</font></font></p></dd>
<dt><samp><code>chid</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">идентификатор канала, см. libavutil/channel_layout.h, устанавливается на первый идентификатор канала, когда многоканальная оценка отключена
</font></font></p></dd>
<dt><samp><code>chs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество каналов
</font></font></p></dd>
<dt><samp><code>chlayout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">channel_layout, см. libavutil/channel_layout.h
</font></font></p>
</dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и функции:
</font></font></p><dl compact="compact">
<dt><samp><code>gain_interpolate(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">интерполировать усиление по частоте f на основе gain_entry
</font></font></p></dd>
<dt><samp><code>cubic_interpolate(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">то же, что и gain_interpolate, но более плавный
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эта опция также доступна как команда. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>gain_interpolate(f)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>gain_entry</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите запись усиления для функции gain_interpolate. </font><font style="vertical-align: inherit;">Выражение может содержать функции:
</font></font></p><dl compact="compact">
<dt><samp><code>entry(f, g)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сохранить ввод усиления на частоте f со значением g
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эта опция также доступна как команда.
</font></font></p>
</dd>
<dt><samp><code>delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить задержку фильтра в секундах. </font><font style="vertical-align: inherit;">Чем выше значение, тем точнее. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>accuracy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите точность фильтра в Гц. </font><font style="vertical-align: inherit;">Меньшее значение означает более точную. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>wfunc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить оконную функцию. </font><font style="vertical-align: inherit;">Допустимые значения:
</font></font></p><dl compact="compact">
<dt><samp><code>rectangular</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">прямоугольное окно, полезно, когда кривая усиления уже гладкая
</font></font></p></dd>
<dt><samp><code>hann</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">окно Ханна (по умолчанию)
</font></font></p></dd>
<dt><samp><code>hamming</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">окно Хэмминга
</font></font></p></dd>
<dt><samp><code>blackman</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">окно черного человека
</font></font></p></dd>
<dt><samp><code>nuttall3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3-членное непрерывное окно Наттолла 1-й производной
</font></font></p></dd>
<dt><samp><code>mnuttall3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">минимальное трехчленное прерывистое ореховое окно
</font></font></p></dd>
<dt><samp><code>nuttall</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4-членное непрерывное окно Наттолла 1-й производной
</font></font></p></dd>
<dt><samp><code>bnuttall</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">минимальное 4-членное прерывистое окно Наттолла (Блэкмена-Наттолла)
</font></font></p></dd>
<dt><samp><code>bharris</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Окно Блэкмена-Харриса
</font></font></p></dd>
<dt><samp><code>tukey</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">окно туки
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>fixed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если включено, используйте фиксированное количество аудиосэмплов. </font><font style="vertical-align: inherit;">Это повышает скорость при фильтрации с большой задержкой. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>multi</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите многоканальную оценку усиления. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>zero_phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите режим нулевой фазы, вычитая метку времени для компенсации задержки. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите шкалу, используемую усилением. </font><font style="vertical-align: inherit;">Допустимые значения:
</font></font></p><dl compact="compact">
<dt><samp><code>linlin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейная частота, линейное усиление
</font></font></p></dd>
<dt><samp><code>linlog</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейная частота, логарифмическое (в дБ) усиление (по умолчанию)
</font></font></p></dd>
<dt><samp><code>loglin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">логарифмическая (в октавной шкале, где 20 Гц равна 0) частота, линейное усиление
</font></font></p></dd>
<dt><samp><code>loglog</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">логарифмическая частота, логарифмический коэффициент усиления
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>dumpfile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить файл для дампа, подходящий для gnuplot.
</font></font></p>
</dd>
<dt><samp><code>dumpscale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить масштаб файла дампа. </font><font style="vertical-align: inherit;">Допустимые значения такие же, как и для опции масштабирования. </font><font style="vertical-align: inherit;">По умолчанию это линлог.
</font></font></p>
</dd>
<dt><samp><code>fft2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите 2-канальную свертку, используя комплексное БПФ. </font><font style="vertical-align: inherit;">Это значительно повышает скорость. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>min_phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите минимальную фазовую импульсную характеристику. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p></dd>
</dl>

<span id="Examples-23"></span><h4 class="subsection"><a href="#toc-Examples-23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.84.1 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр нижних частот на частоте 1000 Гц:
</font></font><div class="example">
<pre class="example"><code>firequalizer=gain='if(lt(f,1000), 0, -INF)'
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lowpass на 1000 Гц с усилением_входа:
</font></font><div class="example">
<pre class="example"><code>firequalizer=gain_entry='entry(1000,0); entry(1001, -INF)'
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пользовательское выравнивание:
</font></font><div class="example">
<pre class="example"><code>firequalizer=gain_entry='entry(100,0); entry(400, -4); entry(1000, -6); entry(2000, 0)'
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">более высокая задержка с нулевой фазой для компенсации задержки:
</font></font><div class="example">
<pre class="example"><code>firequalizer=delay=0.1:fixed=on:zero_phase=on
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lowpass на левом канале, highpass на правом канале:
</font></font><div class="example">
<pre class="example"><code>firequalizer=gain='if(eq(chid,1), gain_interpolate(f), if(eq(chid,2), gain_interpolate(1e6+f), 0))'<font></font>
:gain_entry='entry(1000, 0); entry(1001,-INF); entry(1e6+1000,0)':multi=on<font></font>
</code></pre></div>
</li></ul>

<span id="flanger"></span><h3 class="section"><code><a href="#toc-flanger">8.85 flanger</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применение эффекта фленджера к звуку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите базовую задержку в миллисекундах. </font><font style="vertical-align: inherit;">Диапазон от 0 до 30. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>depth</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите добавленную задержку развертки в миллисекундах. </font><font style="vertical-align: inherit;">Диапазон от 0 до 10. Значение по умолчанию — 2.
</font></font></p>
</dd>
<dt><samp><code>regen</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить процент регенерации (обратная связь с задержкой). </font><font style="vertical-align: inherit;">Диапазон от -95 до 95. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>width</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите процент задержанного сигнала, смешанного с исходным. </font><font style="vertical-align: inherit;">Диапазон от 0 до 100. Значение по умолчанию — 71.
</font></font></p>
</dd>
<dt><samp><code>speed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите число разверток в секунду (Гц). </font><font style="vertical-align: inherit;">Диапазон от 0,1 до 10. Значение по умолчанию — 0,5.
</font></font></p>
</dd>
<dt><samp><code>shape</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте форму волны с разверткой, может быть </font></font><var><code>triangular</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>sinusoidal</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>sinusoidal</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите процентное смещение свипирующей волны для многоканальности. </font><font style="vertical-align: inherit;">Диапазон от 0 до 100. Значение по умолчанию — 25.
</font></font></p>
</dd>
<dt><samp><code>interp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите интерполяцию линии задержки </font></font><var><code>linear</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>quadratic</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>linear</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="haas"></span><h3 class="section"><code><a href="#toc-haas">8.86 haas</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применение эффекта Хааса к звуку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что это имеет смысл применять к монофоническим сигналам. </font><font style="vertical-align: inherit;">С этим фильтром, примененным к монофоническим сигналам, он дает некоторую направленность и растягивает стереоизображение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входного сигнала. </font><font style="vertical-align: inherit;">По умолчанию </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, или 0 дБ
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить выходной уровень. </font><font style="vertical-align: inherit;">По умолчанию </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, или 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>side_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление, применяемое к боковой части сигнала. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>middle_source</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить вид среднего источника. </font><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>left</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите левый канал.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>right</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите правильный канал.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mid</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите сигнал средней части стереоизображения.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>side</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите сигнал боковой части стереоизображения.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>middle_phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить среднюю фазу. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p>
</dd>
<dt><samp><code>left_delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить задержку левого канала. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>2.05</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">миллисекунды.
</font></font></p>
</dd>
<dt><samp><code>left_balance</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите баланс левого канала. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><var><code>-1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>left_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление левого канала. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>left_phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить левую фазу. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p>
</dd>
<dt><samp><code>right_delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите задержку правого канала. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>2.12</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">миллисекунды.
</font></font></p>
</dd>
<dt><samp><code>right_balance</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите правильный баланс каналов. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>right_gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление правого канала. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>right_phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить правую фазу. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p></dd>
</dl>

<span id="hdcd"></span><h3 class="section"><code><a href="#toc-hdcd">8.87 hdcd</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Декодирует данные формата High Definition Compatible Digital (HDCD). </font><font style="vertical-align: inherit;">16-битный поток PCM со встроенными кодами HDCD расширяется до 20-битного потока PCM.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр поддерживает функции Peak Extend и Low-level Gain Adjustment HDCD, а также обнаруживает флажок Transient Filter.
</font></font></p>
<div class="example">
<pre class="example"><code>ffmpeg -i HDCD16.flac -af hdcd OUT24.flac
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При использовании фильтра с wav обратите внимание, что кодировка по умолчанию для wav — 16-битная, поэтому результирующий 20-битный поток будет усечен до 16-битного. </font><font style="vertical-align: inherit;">Используйте что-то вроде </font></font><code>-acodec pcm_s24le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">после фильтра, чтобы получить 24-битный вывод PCM.
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i HDCD16.wav -af hdcd OUT16.wav<font></font>
ffmpeg -i HDCD16.wav -af hdcd -c:a pcm_s24le OUT24.wav<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>disable_autoconvert</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключите любое автоматическое преобразование формата или повторную выборку в графе фильтра.
</font></font></p>
</dd>
<dt><samp><code>process_stereo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрабатывайте стереоканалы вместе. </font><font style="vertical-align: inherit;">Если target_gain не совпадает между каналами, считайте его недействительным и используйте последний действительный target_gain.
</font></font></p>
</dd>
<dt><samp><code>cdt_ms</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите период таймера обнаружения кода в мс.
</font></font></p>
</dd>
<dt><samp><code>force_pe</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда расширяйте пики выше -3dBFS, даже если PE не сигнализируется.
</font></font></p>
</dd>
<dt><samp><code>analyze_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Замените звук сплошным тоном и отрегулируйте амплитуду, чтобы сигнализировать о каком-то конкретном аспекте процесса декодирования. </font><font style="vertical-align: inherit;">Выходной файл можно загрузить в аудиоредактор вместе с оригиналом, чтобы облегчить анализ.
</font></font></p>
<p><code>analyze_mode=pe:force_pe=true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">можно использовать для просмотра всех сэмплов выше уровня PE.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режимы:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0, off</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Неполноценный
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1, lle</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уровень регулировки усиления для каждого образца
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2, pe</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образцы, в которых происходит удлинение пика
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>3, cdt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образцы, в которых активен таймер обнаружения кода
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>4, tgm</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образцы, в которых целевое усиление не совпадает между каналами
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="headphone"></span><h3 class="section"><code><a href="#toc-headphone">8.88 headphone</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применяйте передаточные функции, связанные с головой (HRTF), для создания виртуальных громкоговорителей вокруг пользователя для бинаурального прослушивания через наушники. </font><font style="vertical-align: inherit;">HRIR предоставляются через дополнительные потоки, для каждого канала требуется один входной стереопоток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>map</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите отображение входных потоков для свертки. </font><font style="vertical-align: inherit;">Аргумент представляет собой список имен каналов, разделенных '|', в том порядке, в котором они заданы как дополнительные входные потоки для фильтра. </font><font style="vertical-align: inherit;">Это также указывает количество входных потоков. </font><font style="vertical-align: inherit;">Количество входных потоков должно быть не меньше количества каналов в первом потоке плюс один.
</font></font></p>
</dd>
<dt><samp><code>gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление, применяемое к звуку. </font><font style="vertical-align: inherit;">Значение в дБ. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить тип обработки. </font><font style="vertical-align: inherit;">Можно </font></font><var><code>time</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><var><code>time</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обрабатывает звук во временной области, что происходит медленно.
</font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обрабатывает звук в частотной области, что является быстрым. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>lfe</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пользовательское усиление для каналов LFE. </font><font style="vertical-align: inherit;">Значение в дБ. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер кадра в количестве сэмплов, которые будут обрабатываться одновременно. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>1024</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1024 до 96000.
</font></font></p>
</dd>
<dt><samp><code>hrir</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить формат потока hrir. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>stereo</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Альтернативное значение </font></font><var><code>multich</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если установлено значение </font></font><var><code>stereo</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, количество дополнительных потоков должно быть больше или равно количеству входных каналов в первом входном потоке. </font><font style="vertical-align: inherit;">Также каждый дополнительный поток должен иметь стереоколичество каналов. </font><font style="vertical-align: inherit;">Если установлено значение </font></font><var><code>multich</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, количество дополнительных потоков должно быть равно одному. </font><font style="vertical-align: inherit;">Также количество входных каналов дополнительного потока должно быть равно или больше удвоенного количества каналов первого входного потока.
</font></font></p></dd>
</dl>

<span id="Examples-24"></span><h4 class="subsection"><a href="#toc-Examples-24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.88.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример использования wav-файлов в качестве коэффициентов с фильтрами кино для понижающего микширования 7.1, каждый фильтр кино использует стереофайл с ИК-коэффициентами в качестве входных данных. </font><font style="vertical-align: inherit;">В файлах даны коэффициенты для каждой позиции виртуального динамика:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.wav<font></font>
-filter_complex "amovie=azi_270_ele_0_DFC.wav[sr];amovie=azi_90_ele_0_DFC.wav[sl];amovie=azi_225_ele_0_DFC.wav[br];amovie=azi_135_ele_0_DFC.wav[bl];amovie=azi_0_ele_0_DFC.wav,asplit[fc][lfe];amovie=azi_35_ele_0_DFC.wav[fl];amovie=azi_325_ele_0_DFC.wav[fr];[0:a][fl][fr][fc][lfe][bl][br][sl][sr]headphone=FL|FR|FC|LFE|BL|BR|SL|SR"<font></font>
output.wav<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример использования wav-файлов в качестве коэффициентов с фильтрами фильмов для понижающего микширования 7.1, но теперь в </font><font style="vertical-align: inherit;">формате.
</font></font><var><code>multich</code></var> <var><code>hrir</code></var><font style="vertical-align: inherit;"></font><div class="example">
<pre class="example"><code>ffmpeg -i input.wav -filter_complex "amovie=minp.wav[hrirs];[0:a][hrirs]headphone=map=FL|FR|FC|LFE|BL|BR|SL|SR:hrir=multich"<font></font>
output.wav<font></font>
</code></pre></div>
</li></ul>

<span id="highpass"></span><h3 class="section"><code><a href="#toc-highpass">8.89 highpass</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр высоких частот с точечной частотой 3 дБ. </font><font style="vertical-align: inherit;">Фильтр может быть как однополюсным, так и двухполюсным (по умолчанию). </font><font style="vertical-align: inherit;">Спад фильтра составляет 6 дБ на полюс на октаву (20 дБ на полюс на декаду).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту в Гц. </font><font style="vertical-align: inherit;">По умолчанию 3000.
</font></font></p>
</dd>
<dt><samp><code>poles, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить количество полюсов. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте ширину полосы пропускания фильтра в единицах width_type. </font><font style="vertical-align: inherit;">Применяется только к двухполюсному фильтру. </font><font style="vertical-align: inherit;">Значение по умолчанию равно 0,707q и дает ответ Баттерворта.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Commands-39"></span><h4 class="subsection"><a href="#toc-Commands-39"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.89.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените частоту верхних частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените highpass width_type. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените ширину верхних частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените микс верхних частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>mix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="join"></span><h3 class="section"><code><a href="#toc-join">8.90 join</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объедините несколько входных потоков в один многоканальный поток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество входных потоков. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>channel_layout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Желаемая схема выходного канала. </font><font style="vertical-align: inherit;">По умолчанию это стерео.
</font></font></p>
</dd>
<dt><samp><code>map</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставьте каналы от входов к выходу. </font><font style="vertical-align: inherit;">Аргумент представляет собой список отображений, разделенных знаком '|', каждое из которых находится в </font><font style="vertical-align: inherit;">
форме. </font><font style="vertical-align: inherit;">— индекс входного потока, отсчитываемый от 0. </font><font style="vertical-align: inherit;">
может быть либо именем входного канала (например, FL для переднего левого), либо его индексом в заданном входном потоке. </font><font style="vertical-align: inherit;">имя выходного канала.
</font></font><code><var><code>input_idx</code></var>.<var><code>in_channel</code></var>-<var><code>out_channel</code></var></code><font style="vertical-align: inherit;"></font><var><code>input_idx</code></var><font style="vertical-align: inherit;"></font><var><code>in_channel</code></var><font style="vertical-align: inherit;"></font><var><code>out_channel</code></var><font style="vertical-align: inherit;"></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр попытается угадать сопоставления, если они не указаны явно. </font><font style="vertical-align: inherit;">Он делает это, сначала пытаясь найти неиспользуемый соответствующий входной канал, и если это не удается, он выбирает первый неиспользуемый входной канал.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соедините 3 входа (с правильно настроенными раскладками каналов):
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i INPUT1 -i INPUT2 -i INPUT3 -filter_complex join=inputs=3 OUTPUT
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте выход 5.1 из 6 одноканальных потоков:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i fl -i fr -i fc -i sl -i sr -i lfe -filter_complex<font></font>
'join=inputs=6:channel_layout=5.1:map=0.0-FL|1.0-FR|2.0-FC|3.0-SL|4.0-SR|5.0-LFE'<font></font>
out<font></font>
</code></pre></div>

<span id="ladspa"></span><h3 class="section"><code><a href="#toc-ladspa">8.91 ladspa</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Загрузите плагин LADSPA (простой API-интерфейс Linux Audio Developer).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-ladspa</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<dl compact="compact">
<dt><samp><code>file, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает имя загружаемой библиотеки подключаемых модулей LADSPA. </font><font style="vertical-align: inherit;">Если переменная окружения </font></font><code>LADSPA_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определена, подключаемый модуль LADSPA ищется в каждом из каталогов, указанных в списке
 </font></font><code>LADSPA_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, разделенном двоеточиями, в противном случае — в стандартных путях LADSPA, расположенных в следующем порядке:</font></font><samp><code>HOME/.ladspa/lib/</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>/usr/local/lib/ladspa/</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
</font></font><samp><code>/usr/lib/ladspa/</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>plugin, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает подключаемый модуль в библиотеке. </font><font style="vertical-align: inherit;">Некоторые библиотеки содержат только один плагин, а другие содержат их много. </font><font style="vertical-align: inherit;">Если этот параметр не установлен, фильтр отобразит все доступные плагины в указанной библиотеке.
</font></font></p>
</dd>
<dt><samp><code>controls, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите '|' </font><font style="vertical-align: inherit;">разделенный список элементов управления, которые представляют собой нуль или более значений с плавающей запятой, которые определяют поведение загруженного плагина (например, задержку, порог или усиление). </font><font style="vertical-align: inherit;">Элементы управления должны быть определены с использованием следующего синтаксиса: c0= </font></font><var><code>value0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|c1= </font></font><var><code>value1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|c2= </font></font><var><code>value2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|..., где
 </font></font><var><code>valuei</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значение, установленное для </font></font><var><code>i</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-го элемента управления. </font><font style="vertical-align: inherit;">В качестве альтернативы они также могут быть определены с использованием следующего синтаксиса:
 </font></font><var><code>value0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>value1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>value2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|..., где
 </font></font><var><code>valuei</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значение, заданное на </font></font><var><code>i</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-м элементе управления. </font><font style="vertical-align: inherit;">Если</font></font><samp><code>controls</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено значение </font></font><code>help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, печатаются все доступные элементы управления и их допустимые диапазоны.
</font></font></p>
</dd>
<dt><samp><code>sample_rate, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту дискретизации, по умолчанию 44100. Используется, только если у плагина нет входных данных.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на канал для каждого выходного кадра, по умолчанию 1024. Используется, только если у плагина нет входных данных.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальную продолжительность исходного звука. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">Обратите внимание, что результирующая продолжительность может быть больше, чем указанная продолжительность, так как сгенерированный звук всегда обрезается в конце полного кадра. </font><font style="vertical-align: inherit;">Если не указано или выраженная продолжительность отрицательна, предполагается, что звук будет генерироваться навсегда. </font><font style="vertical-align: inherit;">Используется, только если у плагина нулевые входы.
</font></font></p>
</dd>
<dt><samp><code>latency, l</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить компенсацию задержки, по умолчанию отключено. </font><font style="vertical-align: inherit;">Используется только в том случае, если у плагина есть входы.
</font></font></p></dd>
</dl>

<span id="Examples-25"></span><h4 class="subsection"><a href="#toc-Examples-25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.91.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список всех доступных плагинов в библиотеке amp (пример плагина LADSPA):
</font></font><div class="example">
<pre class="example"><code>ladspa=file=amp
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перечислите все доступные элементы управления и их допустимые диапазоны для </font></font><code>vcf_notch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
плагина из </font></font><code>VCF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">библиотеки:
</font></font><div class="example">
<pre class="example"><code>ladspa=f=vcf:p=vcf_notch:c=help
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имитация аудиооборудования низкого качества с помощью </font></font><code>Computer Music Toolkit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">библиотеки плагинов (CMT):
</font></font><div class="example">
<pre class="example"><code>ladspa=file=cmt:plugin=lofi:controls=c0=22|c1=12|c2=12
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте к звуку реверберацию с помощью TAP-плагинов (плагины Tom's Audio Processing):
</font></font><div class="example">
<pre class="example"><code>ladspa=file=tap_reverb:tap_reverb
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте белый шум с амплитудой 0,2:
</font></font><div class="example">
<pre class="example"><code>ladspa=file=cmt:noise_source_white:c=c0=.2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте клики со скоростью 20 ударов в минуту, используя плагин </font></font><code>C* Click - Metronome</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">из
 </font></font><code>C* Audio Plugin Suite</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">библиотеки (CAPS):
</font></font><div class="example">
<pre class="example"><code>ladspa=file=caps:Click:c=c1=20'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить </font></font><code>C* Eq10X2 - Stereo 10-band equaliser</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">эффект:
</font></font><div class="example">
<pre class="example"><code>ladspa=caps:Eq10X2:c=c0=-48|c9=-24|c3=12|c4=2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте громкость на 20 дБ с помощью ограничителя быстрого просмотра из
 </font></font><code>SWH Plugins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">коллекции Стива Харриса:
</font></font><div class="example">
<pre class="example"><code>ladspa=fast_lookahead_limiter_1913:fastLookaheadLimiter:20|0|2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ослабьте низкие частоты с помощью многополосного эквалайзера из
 </font></font><code>SWH Plugins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">коллекции Стива Харриса:
</font></font><div class="example">
<pre class="example"><code>ladspa=mbeq_1197:mbeq:-24|-24|-24|0|0|0|0|0|0|0|0|0|0|0|0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшить стереоизображение с помощью </font></font><code>Narrower</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">библиотеки </font></font><code>C* Audio Plugin Suite</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(CAPS):
</font></font><div class="example">
<pre class="example"><code>ladspa=caps:Narrower
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Еще один белый шум, теперь использующий </font></font><code>C* Audio Plugin Suite</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">библиотеку (CAPS):
</font></font><div class="example">
<pre class="example"><code>ladspa=caps:White:.2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Немного фрактального шума с использованием </font></font><code>C* Audio Plugin Suite</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">библиотеки (CAPS):
</font></font><div class="example">
<pre class="example"><code>ladspa=caps:Fractal:c=c1=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Динамическая нормализация громкости с помощью </font></font><code>VLevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">плагина:
</font></font><div class="example">
<pre class="example"><code>ladspa=vlevel-ladspa:vlevel_mono
</code></pre></div>
</li></ul>

<span id="Commands-40"></span><h4 class="subsection"><a href="#toc-Commands-40"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.91.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>cN</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените </font></font><var><code>N</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-th контрольное значение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное значение недействительно, оно игнорируется и сохраняется предыдущее значение.
</font></font></p></dd>
</dl>

<span id="loudnorm"></span><h3 class="section"><code><a href="#toc-loudnorm">8.92 loudnorm</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация громкости EBU R128. </font><font style="vertical-align: inherit;">Включает режимы динамической и линейной нормализации. </font><font style="vertical-align: inherit;">Поддержка как однопроходного (прямые трансляции, файлы), так и двухпроходного (файлы) режимов. </font><font style="vertical-align: inherit;">Этот алгоритм может ориентироваться на IL, LRA и максимальный истинный пик. </font><font style="vertical-align: inherit;">В динамическом режиме для точного обнаружения истинных пиков аудиопоток будет повышаться до 192 кГц. </font><font style="vertical-align: inherit;">Используйте </font></font><code>-ar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцию или </font></font><code>aresample</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр, чтобы явно установить выходную частоту дискретизации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>I, i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите интегрированную цель громкости. </font><font style="vertical-align: inherit;">Диапазон составляет от -70,0 до -5,0. </font><font style="vertical-align: inherit;">Значение по умолчанию: -24,0.
</font></font></p>
</dd>
<dt><samp><code>LRA, lra</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите целевой диапазон громкости. </font><font style="vertical-align: inherit;">Диапазон: 1,0–50,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 7,0.
</font></font></p>
</dd>
<dt><samp><code>TP, tp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный истинный пик. </font><font style="vertical-align: inherit;">Диапазон составляет от -9,0 до +0,0. </font><font style="vertical-align: inherit;">Значение по умолчанию: -2,0.
</font></font></p>
</dd>
<dt><samp><code>measured_I, measured_i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измеренный IL входного файла. </font><font style="vertical-align: inherit;">Диапазон составляет от -99,0 до +0,0.
</font></font></p>
</dd>
<dt><samp><code>measured_LRA, measured_lra</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измеренный LRA входного файла. </font><font style="vertical-align: inherit;">Диапазон: 0,0–99,0.
</font></font></p>
</dd>
<dt><samp><code>measured_TP, measured_tp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измеренный истинный пик входного файла. </font><font style="vertical-align: inherit;">Диапазон составляет от -99,0 до +99,0.
</font></font></p>
</dd>
<dt><samp><code>measured_thresh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измеренный порог входного файла. </font><font style="vertical-align: inherit;">Диапазон составляет от -99,0 до +0,0.
</font></font></p>
</dd>
<dt><samp><code>offset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление смещения. </font><font style="vertical-align: inherit;">Усиление применяется перед ограничителем истинного пика. </font><font style="vertical-align: inherit;">Диапазон составляет от -99,0 до +99,0. </font><font style="vertical-align: inherit;">По умолчанию +0,0.
</font></font></p>
</dd>
<dt><samp><code>linear</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация путем линейного масштабирования исходного звука.
</font></font><code>measured_I</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>measured_LRA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>measured_TP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и </font></font><code>measured_thresh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все должны быть указаны. </font><font style="vertical-align: inherit;">Целевой LRA не должен быть ниже исходного LRA, а изменение интегрированной громкости не должно приводить к истинному пику, превышающему целевое TP. </font><font style="vertical-align: inherit;">Если какое-либо из этих условий не выполняется, режим нормализации вернется к </font></font><var><code>dynamic</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Варианты </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>dual_mono</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Относитесь к входным монофоническим файлам как к «двойному моно». </font><font style="vertical-align: inherit;">Если монофонический файл предназначен для воспроизведения на стереосистеме, его измерение EBU R128 будет некорректным для восприятия. </font><font style="vertical-align: inherit;">Если установлено значение </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, эта опция компенсирует этот эффект. </font><font style="vertical-align: inherit;">Этот параметр не влияет на многоканальные входные файлы. </font><font style="vertical-align: inherit;">Варианты истинны или ложны. </font><font style="vertical-align: inherit;">Значение по умолчанию — ложь.
</font></font></p>
</dd>
<dt><samp><code>print_format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат печати для статистики. </font><font style="vertical-align: inherit;">Варианты: сводка, json или ничего. </font><font style="vertical-align: inherit;">Значение по умолчанию — нет.
</font></font></p></dd>
</dl>

<span id="lowpass"></span><h3 class="section"><code><a href="#toc-lowpass">8.93 lowpass</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр нижних частот с точечной частотой 3 дБ. </font><font style="vertical-align: inherit;">Фильтр может быть однополюсным или двухполюсным (по умолчанию). </font><font style="vertical-align: inherit;">Спад фильтра составляет 6 дБ на полюс на октаву (20 дБ на полюс на декаду).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту в Гц. </font><font style="vertical-align: inherit;">По умолчанию 500.
</font></font></p>
</dd>
<dt><samp><code>poles, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить количество полюсов. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте ширину полосы пропускания фильтра в единицах width_type. </font><font style="vertical-align: inherit;">Применяется только к двухполюсному фильтру. </font><font style="vertical-align: inherit;">Значение по умолчанию равно 0,707q и дает ответ Баттерворта.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Examples-26"></span><h4 class="subsection"><a href="#toc-Examples-26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.93.1 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Низкочастотный только канал LFE, если LFE отсутствует, он ничего не делает:
</font></font><div class="example">
<pre class="example"><code>lowpass=c=LFE
</code></pre></div>
</li></ul>

<span id="Commands-41"></span><h4 class="subsection"><a href="#toc-Commands-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.93.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените частоту нижних частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить width_type фильтра нижних частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените ширину фильтра нижних частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените микс нижних частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>mix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="lv2"></span><h3 class="section"><code><a href="#toc-lv2">8.94 lv2</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Загрузите плагин LV2 (LADSPA Version 2).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-lv2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<dl compact="compact">
<dt><samp><code>plugin, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает URI плагина. </font><font style="vertical-align: inherit;">Возможно, вам придется экранировать ':'.
</font></font></p>
</dd>
<dt><samp><code>controls, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите '|' </font><font style="vertical-align: inherit;">разделенный список элементов управления, которые представляют собой нуль или более значений с плавающей запятой, которые определяют поведение загруженного плагина (например, задержку, порог или усиление). </font><font style="vertical-align: inherit;">Если</font></font><samp><code>controls</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено значение </font></font><code>help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, печатаются все доступные элементы управления и их допустимые диапазоны.
</font></font></p>
</dd>
<dt><samp><code>sample_rate, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту дискретизации, по умолчанию 44100. Используется, только если у плагина нет входных данных.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на канал для каждого выходного кадра, по умолчанию 1024. Используется, только если у плагина нет входных данных.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальную продолжительность исходного звука. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">Обратите внимание, что результирующая продолжительность может быть больше, чем указанная продолжительность, так как сгенерированный звук всегда обрезается в конце полного кадра. </font><font style="vertical-align: inherit;">Если не указано или выраженная продолжительность отрицательна, предполагается, что звук будет генерироваться навсегда. </font><font style="vertical-align: inherit;">Используется, только если у плагина нулевые входы.
</font></font></p></dd>
</dl>

<span id="Examples-27"></span><h4 class="subsection"><a href="#toc-Examples-27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.94.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените плагин Bass Enhancer от Calf:
</font></font><div class="example">
<pre class="example"><code>lv2=p=http\\\\://calf.sourceforge.net/plugins/BassEnhancer:c=amount=2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените виниловый плагин от Calf:
</font></font><div class="example">
<pre class="example"><code>lv2=p=http\\\\://calf.sourceforge.net/plugins/Vinyl:c=drone=0.2|aging=0.5
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените плагин Bit Crusher от ArtyFX:
</font></font><div class="example">
<pre class="example"><code>lv2=p=http\\\\://www.openavproductions.com/artyfx#bitta:c=crush=0.3
</code></pre></div>
</li></ul>

<span id="Commands-42"></span><h4 class="subsection"><a href="#toc-Commands-42"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.94.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все параметры, экспортируемые плагином в виде команд.
</font></font></p>
<span id="mcompand"></span><h3 class="section"><code><a href="#toc-mcompand">8.95 mcompand</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Многополосный Сжатие или расширение динамического диапазона звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входной звук делится на полосы с использованием IIR Linkwitz-Riley 4-го порядка. </font><font style="vertical-align: inherit;">Это похоже на кроссовер громкоговорителя и приводит к плоской частотной характеристике при отсутствии действия компандера.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>args</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синтаксис этой опции: атака, затухание, [атака, затухание..] точки мягкого колена частота кроссовера [задержка [начальный_объем [усиление]]] | </font><font style="vertical-align: inherit;">атака, распад ... Для пояснения каждого пункта обратитесь к документации фильтра компанд.
</font></font></p></dd>
</dl>

<span id="pan"></span><span id="pan-1"></span><h3 class="section"><code><a href="#toc-pan-1">8.96 pan</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешайте каналы с определенными уровнями усиления. </font><font style="vertical-align: inherit;">Фильтр принимает макет выходного канала, за которым следует набор определений каналов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр также предназначен для эффективного переназначения каналов аудиопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает параметры вида: " </font></font><var><code>l</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>outdef</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>outdef</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|..."
</font></font></p>
<dl compact="compact">
<dt><samp><code>l</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">расположение выходных каналов или количество каналов
</font></font></p>
</dd>
<dt><samp><code>outdef</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">спецификация выходного канала в форме: " </font></font><var><code>out_name</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=[ </font></font><var><code>gain</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*] </font></font><var><code>in_name</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[(+-)[ </font></font><var><code>gain</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*] </font></font><var><code>in_name</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...]"
</font></font></p>
</dd>
<dt><samp><code>out_name</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выходной канал для определения либо имени канала (FL, FR и т. д.), либо номера канала (c0, c1 и т. д.)
</font></font></p>
</dd>
<dt><samp><code>gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">мультипликативный коэффициент для канала, 1 оставляя громкость без изменений
</font></font></p>
</dd>
<dt><samp><code>in_name</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">входной канал для использования, подробности смотрите в разделе out_name; </font><font style="vertical-align: inherit;">нельзя смешивать именованные и пронумерованные входные каналы
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если '=' в спецификации канала заменить на '&lt;', то коэффициенты усиления для этой спецификации будут перенормированы так, что их сумма будет равна 1, что позволит избежать клиппирующего шума.
</font></font></p>
<span id="Mixing-examples"></span><h4 class="subsection"><a href="#toc-Mixing-examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.96.1 Примеры смешивания</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, если вы хотите преобразовать стерео в моно, но с большим коэффициентом для левого канала:
</font></font></p><div class="example">
<pre class="example"><code>pan=1c|c0=0.9*c0+0.1*c1
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Индивидуальное микширование в стерео, которое автоматически работает для 3-, 4-, 5- и 7-канального объемного звучания:
</font></font></p><div class="example">
<pre class="example"><code>pan=stereo| FL &lt; FL + 0.5*FC + 0.6*BL + 0.6*SL | FR &lt; FR + 0.5*FC + 0.6*BR + 0.6*SR
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">интегрируется система понижающего (и повышающего) микширования по умолчанию, которая должна быть предпочтительной (см. параметр «-ac»), если у вас нет особых потребностей.
</font></font></p>
<span id="Remapping-examples"></span><h4 class="subsection"><a href="#toc-Remapping-examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.96.2 Примеры переназначения</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переназначение каналов будет эффективным тогда и только тогда, когда:
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">коэффициенты усиления равны нулям или единицам,
</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">только один вход на выход канала,
</font></font></li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если все эти условия соблюдены, фильтр уведомит пользователя («Обнаружено чистое сопоставление каналов») и будет использовать оптимизированный метод без потерь для повторного сопоставления.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, если у вас есть источник 5.1 и вы хотите получить стереофонический аудиопоток, отбросив дополнительные каналы:
</font></font></p><div class="example">
<pre class="example"><code>pan="stereo| c0=FL | c1=FR"
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имея один и тот же источник, вы также можете переключать передний левый и передний правый каналы и сохранять расположение входных каналов:
</font></font></p><div class="example">
<pre class="example"><code>pan="5.1| c0=c1 | c1=c0 | c2=c2 | c3=c3 | c4=c4 | c5=c5"
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если вход представляет собой стереофонический аудиопоток, вы можете отключить звук переднего левого канала (и при этом сохранить расположение стереоканалов) с помощью:
</font></font></p><div class="example">
<pre class="example"><code>pan="stereo|c1=c1"
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По-прежнему со входом стереофонического аудиопотока вы можете копировать правый канал как спереди слева, так и справа:
</font></font></p><div class="example">
<pre class="example"><code>pan="stereo| c0=FR | c1=FR"
</code></pre></div>

<span id="replaygain"></span><h3 class="section"><code><a href="#toc-replaygain">8.97 replaygain</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр сканера ReplayGain. </font><font style="vertical-align: inherit;">Этот фильтр принимает аудиопоток на вход и выводит его без изменений. </font><font style="vertical-align: inherit;">В конце фильтрации отображается </font></font><code>track_gain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>track_peak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="resample"></span><h3 class="section"><code><a href="#toc-resample">8.98 resample</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте формат звукового образца, частоту дискретизации и расположение каналов. </font><font style="vertical-align: inherit;">Он не предназначен для прямого использования.
</font></font></p>
<span id="rubberband"></span><h3 class="section"><code><a href="#toc-rubberband">8.99 rubberband</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применяйте растяжение времени и изменение высоты тона с помощью librubberband.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам нужно настроить FFmpeg с расширением
 </font></font><code>--enable-librubberband</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>tempo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите масштабный коэффициент темпа.
</font></font></p>
</dd>
<dt><samp><code>pitch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент масштабирования высоты тона.
</font></font></p>
</dd>
<dt><samp><code>transients</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить детектор переходных процессов. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>crisp</code></var></dt>
<dt><var><code>mixed</code></var></dt>
<dt><var><code>smooth</code></var></dt>
</dl>

</dd>
<dt><samp><code>detector</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить детектор. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>compound</code></var></dt>
<dt><var><code>percussive</code></var></dt>
<dt><var><code>soft</code></var></dt>
</dl>

</dd>
<dt><samp><code>phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите фазу. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>laminar</code></var></dt>
<dt><var><code>independent</code></var></dt>
</dl>

</dd>
<dt><samp><code>window</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер окна обработки. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>standard</code></var></dt>
<dt><var><code>short</code></var></dt>
<dt><var><code>long</code></var></dt>
</dl>

</dd>
<dt><samp><code>smoothing</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить сглаживание. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>off</code></var></dt>
<dt><var><code>on</code></var></dt>
</dl>

</dd>
<dt><samp><code>formant</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить сохранение форманты при сдвиге тона. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>shifted</code></var></dt>
<dt><var><code>preserved</code></var></dt>
</dl>

</dd>
<dt><samp><code>pitchq</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите качество тона. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>quality</code></var></dt>
<dt><var><code>speed</code></var></dt>
<dt><var><code>consistency</code></var></dt>
</dl>

</dd>
<dt><samp><code>channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите каналы. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>apart</code></var></dt>
<dt><var><code>together</code></var></dt>
</dl>
</dd>
</dl>

<span id="Commands-43"></span><h4 class="subsection"><a href="#toc-Commands-43"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.99.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>tempo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить коэффициент масштабирования темпа фильтра. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>tempo</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>pitch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить коэффициент масштабирования основного тона фильтра. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>pitch</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="sidechaincompress"></span><h3 class="section"><code><a href="#toc-sidechaincompress">8.100 sidechaincompress</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр действует как обычный компрессор, но имеет возможность сжимать обнаруженный сигнал, используя второй входной сигнал. </font><font style="vertical-align: inherit;">Ему нужны два входных потока, и он возвращает один выходной поток. </font><font style="vertical-align: inherit;">Первый входной поток будет обрабатываться в зависимости от сигнала второго потока. </font><font style="vertical-align: inherit;">Затем отфильтрованный сигнал может быть отфильтрован другими фильтрами на более поздних этапах обработки. </font><font style="vertical-align: inherit;">См . фильтр </font></font><a href="#pan"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">панорамирования</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> и </font></font><a href="#amerge"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">объединения</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное усиление. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим работы компрессора. </font><font style="vertical-align: inherit;">Можно </font></font><code>upward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если сигнал второго потока превысит этот уровень, это повлияет на уменьшение усиления первого потока. </font><font style="vertical-align: inherit;">По умолчанию 0,125. </font><font style="vertical-align: inherit;">Диапазон составляет от 0,00097563 до 1.
</font></font></p>
</dd>
<dt><samp><code>ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент, относительно которого уменьшается сигнал. </font><font style="vertical-align: inherit;">1:2 означает, что если уровень поднялся на 4 дБ выше порога, то после снижения он будет только на 2 дБ выше. </font><font style="vertical-align: inherit;">По умолчанию 2. Диапазон значений от 1 до 20.
</font></font></p>
</dd>
<dt><samp><code>attack</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество миллисекунд, в течение которых сигнал должен подняться выше порогового значения, прежде чем начнется снижение усиления. </font><font style="vertical-align: inherit;">По умолчанию 20. Диапазон значений от 0,01 до 2000.
</font></font></p>
</dd>
<dt><samp><code>release</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество миллисекунд, в течение которых сигнал должен упасть ниже порогового значения, прежде чем уменьшение снова уменьшится. </font><font style="vertical-align: inherit;">По умолчанию 250. Диапазон значений от 0,01 до 9000.
</font></font></p>
</dd>
<dt><samp><code>makeup</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину, на которую будет усиливаться сигнал после обработки. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 1 до 64.
</font></font></p>
</dd>
<dt><samp><code>knee</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изогните острое колено вокруг порога, чтобы более мягко ввести снижение усиления. </font><font style="vertical-align: inherit;">По умолчанию 2,82843. </font><font style="vertical-align: inherit;">Диапазон от 1 до 8.
</font></font></p>
</dd>
<dt><samp><code>link</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите, влияет ли </font></font><code>average</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">уровень между всеми каналами потока боковой цепи или более громким ( </font></font><code>maximum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) каналом потока боковой цепи на уменьшение. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>average</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>detection</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Следует ли брать точный сигнал в случае </font></font><code>peak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или RMS в случае </font></font><code>rms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию в </font></font><code>rms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">основном более гладкое.
</font></font></p>
</dd>
<dt><samp><code>level_sc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление боковой цепи. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>mix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Насколько использовать сжатый сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p></dd>
</dl>

<span id="Commands-44"></span><h4 class="subsection"><a href="#toc-Commands-44"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.100.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-28"></span><h4 class="subsection"><a href="#toc-Examples-28"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.100.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример ffmpeg, использующий 2 аудиовхода, 1-й вход сжимается в зависимости от сигнала 2-го входа, а затем сжатый сигнал объединяется со 2-м входом:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i main.flac -i sidechain.flac -filter_complex "[1:a]asplit=2[sc][mix];[0:a][sc]sidechaincompress[compr];[compr][mix]amerge"
</code></pre></div>
</li></ul>

<span id="sidechaingate"></span><h3 class="section"><code><a href="#toc-sidechaingate">8.101 sidechaingate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гейт боковой цепи действует как обычный (широкополосный) гейт, но имеет возможность фильтровать обнаруженный сигнал перед его отправкой на каскад снижения усиления. </font><font style="vertical-align: inherit;">Обычно гейт использует сигнал полного диапазона для обнаружения уровня выше порогового. </font><font style="vertical-align: inherit;">Например: если вы вырезаете все низкие частоты из сигнала боковой цепи, гейт уменьшит громкость вашего трека только в том случае, если не появится достаточное количество высоких частот. </font><font style="vertical-align: inherit;">С помощью этой техники вы можете уменьшить резонанс натурального барабана или убрать «грохот» приглушенных ударов сильно искаженной гитары. </font><font style="vertical-align: inherit;">Ему нужны два входных потока, и он возвращает один выходной поток. </font><font style="vertical-align: inherit;">Первый входной поток будет обрабатываться в зависимости от сигнала второго потока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входной уровень перед фильтрацией. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим работы. </font><font style="vertical-align: inherit;">Можно </font></font><code>upward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если установлено в </font></font><code>upward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим, более высокие части сигнала будут усиливаться, расширяя динамический диапазон в направлении вверх. </font><font style="vertical-align: inherit;">В противном случае в случае </font></font><code>downward</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">нижних частей сигнал будет уменьшен.
</font></font></p>
</dd>
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень снижения усиления, когда сигнал ниже порогового значения. </font><font style="vertical-align: inherit;">По умолчанию 0,06125. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. Установка этого параметра на 0 отключает сокращение, и тогда фильтр ведет себя как расширитель.
</font></font></p>
</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если сигнал поднимается выше этого уровня, снижение усиления отключается. </font><font style="vertical-align: inherit;">По умолчанию 0,125. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент, относительно которого уменьшается сигнал. </font><font style="vertical-align: inherit;">По умолчанию 2. Допустимый диапазон от 1 до 9000.
</font></font></p>
</dd>
<dt><samp><code>attack</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество миллисекунд, в течение которых сигнал должен подняться выше порогового значения, прежде чем снижение усиления прекратится. </font><font style="vertical-align: inherit;">По умолчанию 20 миллисекунд. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,01 до 9000.
</font></font></p>
</dd>
<dt><samp><code>release</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество миллисекунд, в течение которых сигнал должен упасть ниже порога, прежде чем снижение снова увеличится. </font><font style="vertical-align: inherit;">По умолчанию 250 миллисекунд. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,01 до 9000.
</font></font></p>
</dd>
<dt><samp><code>makeup</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить величину усиления сигнала после обработки. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 1 до 64.
</font></font></p>
</dd>
<dt><samp><code>knee</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изогните острое колено вокруг порога, чтобы более мягко ввести снижение усиления. </font><font style="vertical-align: inherit;">По умолчанию 2,828427125. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 8.
</font></font></p>
</dd>
<dt><samp><code>detection</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите, следует ли брать точный сигнал для обнаружения или среднеквадратичное значение, подобное сигналу. </font><font style="vertical-align: inherit;">По умолчанию среднеквадратичное значение. </font><font style="vertical-align: inherit;">Может быть пиковым или среднеквадратичным значением.
</font></font></p>
</dd>
<dt><samp><code>link</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите, влияет ли на уменьшение средний уровень между всеми каналами или более громкий канал. </font><font style="vertical-align: inherit;">По умолчанию средний. </font><font style="vertical-align: inherit;">Может быть средним или максимальным.
</font></font></p>
</dd>
<dt><samp><code>level_sc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление боковой цепи. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0,015625 до 64.
</font></font></p></dd>
</dl>

<span id="Commands-45"></span><h4 class="subsection"><a href="#toc-Commands-45"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.101.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="silencedetect"></span><h3 class="section"><code><a href="#toc-silencedetect">8.102 silencedetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение тишины в аудиопотоке.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр регистрирует сообщение, когда обнаруживает, что громкость входного аудио меньше или равна значению допустимого шума в течение продолжительности, превышающей или равной минимальной длительности обнаруженного шума.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Печатное время и продолжительность выражены в секундах. </font><font style="vertical-align: inherit;">Ключ метаданных
 </font></font><code>lavfi.silence_start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>lavfi.silence_start.X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливается для первого кадра, временная метка которого равна или превышает продолжительность обнаружения, и содержит временную метку первого кадра тишины.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Клавиши метаданных </font></font><code>lavfi.silence_duration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>lavfi.silence_duration.X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
и </font></font><code>lavfi.silence_end</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>lavfi.silence_end.X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливаются на первом кадре после молчания. </font><font style="vertical-align: inherit;">Если</font></font><samp><code>mono</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">включен, и каждый канал оценивается отдельно, используются </font></font><code>.X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ключи с суффиксом и </font></font><code>X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соответствует номеру канала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>noise, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить устойчивость к шуму. </font><font style="vertical-align: inherit;">Может быть указан в дБ (в случае, если к указанному значению добавляется «дБ») или коэффициент амплитуды. </font><font style="vertical-align: inherit;">По умолчанию -60 дБ или 0,001.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность молчания до уведомления (по умолчанию 2 секунды). </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе.
</font></font></p>
</dd>
<dt><samp><code>mono, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрабатывайте каждый канал отдельно, а не вместе. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p></dd>
</dl>

<span id="Examples-29"></span><h4 class="subsection"><a href="#toc-Examples-29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.102.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение 5 секунд тишины с допустимым уровнем шума -50 дБ:
</font></font><div class="example">
<pre class="example"><code>silencedetect=n=-50dB:d=5
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример с </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обнаружением тишины с допустимым уровнем шума 0,0001 в</font></font><samp><code>silence.mp3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i silence.mp3 -af silencedetect=noise=0.0001 -f null -
</code></pre></div>
</li></ul>

<span id="silenceremove"></span><h3 class="section"><code><a href="#toc-silenceremove">8.103 silenceremove</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите тишину в начале, середине или конце аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>start_periods</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это значение используется для указания, следует ли обрезать звук в начале звука. </font><font style="vertical-align: inherit;">Нулевое значение указывает, что тишина не должна быть обрезана с самого начала. </font><font style="vertical-align: inherit;">При указании ненулевого значения звук обрезается до тех пор, пока не будет найдено отсутствие тишины. </font><font style="vertical-align: inherit;">Обычно при обрезке тишины с начала аудио </font></font><var><code>start_periods</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет значение , </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">но его можно увеличить до более высоких значений, чтобы обрезать весь звук до определенного количества периодов отсутствия тишины. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start_duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите количество времени, в течение которого должно быть обнаружено отсутствие тишины, прежде чем оно перестанет обрезать звук. </font><font style="vertical-align: inherit;">Увеличивая продолжительность, всплески шумов можно рассматривать как тишину и обрезать. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start_threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает, какое значение выборки следует рассматривать как тишину. </font><font style="vertical-align: inherit;">Для цифрового звука значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может быть приемлемым, но для звука, записанного с аналогового сигнала, вы можете увеличить значение, чтобы учесть фоновый шум. </font><font style="vertical-align: inherit;">Может быть указан в дБ (в случае, если к указанному значению добавляется «дБ») или коэффициент амплитуды. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start_silence</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите максимальную продолжительность тишины в начале, которая будет сохраняться после обрезки. </font><font style="vertical-align: inherit;">Значение по умолчанию равно 0, что соответствует обрезке всех семплов, обнаруженных как тишина.
</font></font></p>
</dd>
<dt><samp><code>start_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите режим обнаружения окончания тишины в начале многоканального звука. </font><font style="vertical-align: inherit;">Можно </font></font><var><code>any</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>any</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">С помощью </font></font><var><code>any</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">любой сэмпл, который определяется как отсутствие тишины, приведет к остановке обрезки тишины. </font><font style="vertical-align: inherit;">При </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, только если все каналы будут обнаружены как не молчащие, это приведет к остановке обрезки тишины.
</font></font></p>
</dd>
<dt><samp><code>stop_periods</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите счетчик для обрезки тишины с конца аудио. </font><font style="vertical-align: inherit;">Чтобы удалить тишину из середины файла, укажите </font></font><var><code>stop_periods</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
отрицательное значение a. </font><font style="vertical-align: inherit;">Затем это значение рассматривается как положительное значение и используется для указания того, что эффект должен возобновить обработку, как указано параметром
 </font></font><var><code>start_periods</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что делает его подходящим для удаления периодов тишины в середине аудио. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>stop_duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите продолжительность тишины, которая должна существовать, прежде чем звук больше не будет копироваться. </font><font style="vertical-align: inherit;">Указав более высокую продолжительность, в аудио можно оставить желаемую тишину. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>stop_threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это то же самое, что</font></font><samp><code>start_threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">но для обрезки тишины с конца аудио. </font><font style="vertical-align: inherit;">Может быть указан в дБ (в случае, если к указанному значению добавляется «дБ») или коэффициент амплитуды. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>stop_silence</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите максимальную продолжительность тишины в конце, которая будет сохраняться после обрезки. </font><font style="vertical-align: inherit;">Значение по умолчанию равно 0, что соответствует обрезке всех семплов, обнаруженных как тишина.
</font></font></p>
</dd>
<dt><samp><code>stop_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите режим обнаружения начала тишины в конце многоканального звука. </font><font style="vertical-align: inherit;">Можно </font></font><var><code>any</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>any</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">С помощью </font></font><var><code>any</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">любой сэмпл, который определяется как отсутствие тишины, приведет к остановке обрезки тишины. </font><font style="vertical-align: inherit;">При </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, только если все каналы будут обнаружены как не молчащие, это приведет к остановке обрезки тишины.
</font></font></p>
</dd>
<dt><samp><code>detection</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите способ обнаружения тишины. </font><font style="vertical-align: inherit;">Можно </font></font><code>rms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>peak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Второй быстрее и лучше работает с цифровой тишиной, которая равна ровно 0. Значение по умолчанию — </font></font><code>rms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>window</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность в секундах, используемую для расчета размера окна в количестве выборок для обнаружения тишины. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-30"></span><h4 class="subsection"><a href="#toc-Examples-30"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.103.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В следующем примере показано, как этот фильтр можно использовать для начала записи, не содержащей задержки в начале, которая обычно возникает между нажатием кнопки записи и началом исполнения:
</font></font><div class="example">
<pre class="example"><code>silenceremove=start_periods=1:start_duration=5:start_threshold=0.02
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезать всю тишину, встречающуюся от начала до конца, если в аудио есть более 1 секунды тишины:
</font></font><div class="example">
<pre class="example"><code>silenceremove=stop_periods=-1:stop_duration=1:stop_threshold=-90dB
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрежьте все сэмплы цифровой тишины, используя обнаружение пиков, от начала до конца, если в аудио больше 0 сэмплов цифровой тишины, и цифровая тишина обнаружена во всех каналах в одних и тех же позициях в потоке:
</font></font><div class="example">
<pre class="example"><code>silenceremove=window=0:detection=peak:stop_mode=all:start_mode=all:stop_periods=-1:stop_threshold=0
</code></pre></div>
</li></ul>

<span id="sofalizer"></span><h3 class="section"><code><a href="#toc-sofalizer">8.104 sofalizer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SOFAlizer использует функции передачи, связанные с головой (HRTF), для создания виртуальных громкоговорителей вокруг пользователя для бинаурального прослушивания через наушники (поддерживаются аудиоформаты до 9 каналов). </font><font style="vertical-align: inherit;">HRTF хранятся в файлах SOFA (базу данных см. на </font></font><a href="http://www.sofacoustics.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.sofacoustics.org/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">SOFAlizer разработан в Научно-исследовательском институте акустики (ARI) Австрийской академии наук.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-libmysofa</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sofa</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите файл SOFA, используемый для рендеринга.
</font></font></p>
</dd>
<dt><samp><code>gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление, применяемое к звуку. </font><font style="vertical-align: inherit;">Значение в дБ. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>rotation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить поворот виртуальных громкоговорителей в град. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>elevation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высоту виртуальных динамиков в градусах. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите расстояние в метрах между громкоговорителями и слушателем с HRTF ближнего поля. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить тип обработки. </font><font style="vertical-align: inherit;">Можно </font></font><var><code>time</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><var><code>time</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обрабатывает звук во временной области, что происходит медленно.
</font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обрабатывает звук в частотной области, что является быстрым. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>speakers</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пользовательские позиции виртуальных громкоговорителей. </font><font style="vertical-align: inherit;">Синтаксис этой опции: &lt;CH&gt; &lt;AZIM&gt; &lt;ELEV&gt;[|&lt;CH&gt; &lt;AZIM&gt; &lt;ELEV&gt;|...]. </font><font style="vertical-align: inherit;">Каждый виртуальный громкоговоритель описывается кратким названием канала, за которым следует азимут и высота в градусах. </font><font style="vertical-align: inherit;">Каждое описание виртуального громкоговорителя отделяется символом «|». </font><font style="vertical-align: inherit;">Например, чтобы переопределить положение переднего левого и переднего правого каналов, используйте: 'speakers=FL 45 15|FR 345 15'. </font><font style="vertical-align: inherit;">Описания с нераспознанными именами каналов игнорируются.
</font></font></p>
</dd>
<dt><samp><code>lfegain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пользовательское усиление для каналов LFE. </font><font style="vertical-align: inherit;">Значение в дБ. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>framesize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пользовательский размер кадра в количестве сэмплов. </font><font style="vertical-align: inherit;">По умолчанию 1024. Допустимый диапазон от 1024 до 96000. Используется только если опция '</font></font><samp><code>type</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' установлен на </font></font><var><code>freq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>normalize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должны ли все IR нормализоваться при импорте файла SOFA. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p>
</dd>
<dt><samp><code>interpolate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должны ли ближайшие IR интерполироваться с соседними IR, если точное положение не совпадает. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p>
</dd>
<dt><samp><code>minphase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Минфазировать все IR при загрузке файла SOFA. </font><font style="vertical-align: inherit;">По умолчанию отключен.
</font></font></p>
</dd>
<dt><samp><code>anglestep</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить шаг угла поиска соседей. </font><font style="vertical-align: inherit;">Используется, только если опция </font></font><var><code>interpolate</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">включена.
</font></font></p>
</dd>
<dt><samp><code>radstep</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить шаг радиуса поиска соседей. </font><font style="vertical-align: inherit;">Используется, только если опция </font></font><var><code>interpolate</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">включена.
</font></font></p></dd>
</dl>

<span id="Examples-31"></span><h4 class="subsection"><a href="#toc-Examples-31"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.104.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используя файл дивана ClubFritz6:
</font></font><div class="example">
<pre class="example"><code>sofalizer=sofa=/path/to/ClubFritz6.sofa:type=freq:radius=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используя файл дивана ClubFritz12 и больший радиус с небольшим вращением:
</font></font><div class="example">
<pre class="example"><code>sofalizer=sofa=/path/to/ClubFritz12.sofa:type=freq:radius=2:rotation=5
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аналогичен описанному выше, но с пользовательскими положениями динамиков для переднего левого, переднего правого, заднего левого и заднего правого, а также с пользовательским усилением:
</font></font><div class="example">
<pre class="example"><code>"sofalizer=sofa=/path/to/ClubFritz6.sofa:type=freq:radius=2:speakers=FL 45|FR 315|BL 135|BR 225:gain=28"
</code></pre></div>
</li></ul>

<span id="speechnorm"></span><h3 class="section"><code><a href="#toc-speechnorm">8.105 speechnorm</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализатор речи.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр расширяет или сжимает каждый полупериод аудиосэмплов (локальный набор сэмплов, все выше или ниже нуля и между двумя ближайшими пересечениями нуля) в зависимости от порогового значения, поэтому звук достигает целевого пикового значения в условиях, контролируемых указанными ниже параметрами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>peak, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите целевое пиковое значение расширения. </font><font style="vertical-align: inherit;">Определяет максимально допустимый абсолютный уровень амплитуды для нормализованного аудиовхода. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,95. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0.
</font></font></p>
</dd>
<dt><samp><code>expansion, e</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный коэффициент расширения. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1,0 до 50,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 2,0. </font><font style="vertical-align: inherit;">Эта опция управляет максимальным локальным полупериодом расширения сэмплов. </font><font style="vertical-align: inherit;">Максимальное расширение должно быть таким, чтобы локальное пиковое значение достигало целевого пикового значения, но никогда не превышало его, и чтобы соотношение между новым и предыдущим пиковым значением не превышало значение этого параметра.
</font></font></p>
</dd>
<dt><samp><code>compression, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный коэффициент сжатия. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1,0 до 50,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 2,0. </font><font style="vertical-align: inherit;">Эта опция управляет максимальным локальным полупериодом сжатия сэмплов. </font><font style="vertical-align: inherit;">Этот вариант используется только в том случае, если</font></font><samp><code>threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено значение больше 0,0, то в таких случаях, когда локальный пик ниже или совпадает со значением, установленным</font></font><samp><code>threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все сэмплы, принадлежащие полупериоду этого пика, будут сжаты текущим коэффициентом сжатия.
</font></font></p>
</dd>
<dt><samp><code>threshold, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговое значение. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,0. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0. </font><font style="vertical-align: inherit;">Эта опция указывает, какие полупериоды семплов будут сжаты, а какие расширены. </font><font style="vertical-align: inherit;">Любые полупериодные сэмплы с их локальным пиковым значением ниже или таким же, как значение этой опции, будут сжаты текущим коэффициентом сжатия, в противном случае, если они больше порогового значения, они будут расширены с коэффициентом расширения, чтобы он мог достичь пикового целевого значения, но никогда не превысит его. Это.
</font></font></p>
</dd>
<dt><samp><code>raise, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину повышения расширения за каждый полупериод сэмплов. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,001. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0. </font><font style="vertical-align: inherit;">Это определяет, насколько быстро увеличивается коэффициент расширения за каждый новый полупериод, пока не достигнет</font></font><samp><code>expansion</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ценность. </font><font style="vertical-align: inherit;">Установка слишком высокого значения для этого параметра может привести к искажениям.
</font></font></p>
</dd>
<dt><samp><code>fall, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину увеличения сжатия на каждый полупериод сэмплов. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,001. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0. </font><font style="vertical-align: inherit;">Это определяет, насколько быстро коэффициент сжатия повышается на каждый новый полупериод, пока не достигнет</font></font><samp><code>compression</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ценность.
</font></font></p>
</dd>
<dt><samp><code>channels, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные каналы.
</font></font></p>
</dd>
<dt><samp><code>invert, i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить инвертированную фильтрацию, по умолчанию отключено. </font><font style="vertical-align: inherit;">Это инвертирует интерпретацию</font></font><samp><code>threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
вариант. </font><font style="vertical-align: inherit;">При включении любой полупериод семплов с локальным пиковым значением ниже или таким же, как
</font></font><samp><code>threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опция будет расширена, в противном случае она будет сжата.
</font></font></p>
</dd>
<dt><samp><code>link, l</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Связывание каналов при расчете усиления, применяемого к каждому отфильтрованному семплу канала, по умолчанию отключено. </font><font style="vertical-align: inherit;">Когда отключено, расчет усиления каждого отфильтрованного канала является независимым, в противном случае, когда эта опция включена, используется минимальное из всех возможных усилений для каждого отфильтрованного канала.
</font></font></p></dd>
</dl>

<span id="Commands-46"></span><h4 class="subsection"><a href="#toc-Commands-46"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.105.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="stereotools"></span><h3 class="section"><code><a href="#toc-stereotools">8.106 stereotools</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр имеет несколько удобных утилит для управления стереофоническими сигналами, для преобразования стереозаписей M/S в сигнал L/R с контролем параметров или расширением стереоизображения мастер-дорожки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входной уровень перед фильтрацией для обоих каналов. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходной уровень после фильтрации для обоих каналов. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>balance_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входной баланс между обоими каналами. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>balance_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходной баланс между обоими каналами. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>softclip</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить мягкое отсечение. </font><font style="vertical-align: inherit;">Приводит к аналоговому искажению вместо резкого цифрового ограничения 0 дБ. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>mutel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключить левый канал. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>muter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключите звук правого канала. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>phasel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените фазу левого канала. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>phaser</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените фазу правого канала. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите стереофонический режим. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lr&gt;lr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Влево/вправо влево/вправо, это значение по умолчанию.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lr&gt;ms</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Слева/справа на середину/бок.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ms&gt;lr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Середина/Сбоку влево/вправо.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lr&gt;ll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Слева/справа налево/слева.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lr&gt;rr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Влево/вправо вправо/вправо.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lr&gt;l+r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Влево/вправо влево + вправо.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lr&gt;rl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Влево/вправо вправо/влево.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ms&gt;ll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Середина/Сбоку влево/влево.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ms&gt;rr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Середина/Сбоку вправо/вправо.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ms&gt;rl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Середина/Сбоку направо/налево.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lr&gt;l-r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Слева/справа налево - направо.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>slev</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить уровень бокового сигнала. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>sbal</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите баланс бокового сигнала. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>mlev</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить уровень среднего сигнала. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 0,015625 до 64.
</font></font></p>
</dd>
<dt><samp><code>mpan</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите среднее панорамирование сигнала. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>base</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите стереобазу между моно и инвертированными каналами. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите задержку в миллисекундах, на сколько задерживать левый канал от правого и наоборот. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -20 до 20.
</font></font></p>
</dd>
<dt><samp><code>sclevel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень S/C. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 1 до 100.
</font></font></p>
</dd>
<dt><samp><code>phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите фазу стерео в градусах. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от 0 до 360.
</font></font></p>
</dd>
<dt><samp><code>bmode_in, bmode_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим баланса для опции balance_in/balance_out.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>balance</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Классический режим баланса. </font><font style="vertical-align: inherit;">Ослабляйте один канал за раз. </font><font style="vertical-align: inherit;">Усиление увеличено до 1.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>amplitude</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аналогичен классическому режиму выше, но усиление увеличено до 2.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Равномерное распределение мощности в диапазоне от -6 дБ до +6 дБ.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-47"></span><h4 class="subsection"><a href="#toc-Commands-47"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.106.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-32"></span><h4 class="subsection"><a href="#toc-Examples-32"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.106.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект караоке:
</font></font><div class="example">
<pre class="example"><code>stereotools=mlev=0.015625
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование сигнала M/S в L/R:
</font></font><div class="example">
<pre class="example"><code>"stereotools=mode=ms&gt;lr"
</code></pre></div>
</li></ul>

<span id="stereowiden"></span><h3 class="section"><code><a href="#toc-stereowiden">8.107 stereowiden</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр усиливает стереоэффект, подавляя сигнал, общий для обоих каналов, и задерживая сигнал с левого на правый и наоборот, тем самым расширяя стереоэффект.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>delay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время в миллисекундах задержки левого сигнала правым и наоборот. </font><font style="vertical-align: inherit;">По умолчанию 20 миллисекунд.
</font></font></p>
</dd>
<dt><samp><code>feedback</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Величина усиления задержанного сигнала в правый и наоборот. </font><font style="vertical-align: inherit;">Дает эффект задержки левого сигнала на правом выходе и наоборот, что дает эффект расширения. </font><font style="vertical-align: inherit;">По умолчанию 0,3.
</font></font></p>
</dd>
<dt><samp><code>crossfeed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перекрестная подача слева направо с инвертированной фазой. </font><font style="vertical-align: inherit;">Это помогает подавить моно. </font><font style="vertical-align: inherit;">Если значение равно 1, все сигналы, общие для обоих каналов, будут отменены. </font><font style="vertical-align: inherit;">По умолчанию 0,3.
</font></font></p>
</dd>
<dt><samp><code>drymix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входного сигнала исходного канала. </font><font style="vertical-align: inherit;">По умолчанию 0,8.
</font></font></p></dd>
</dl>

<span id="Commands-48"></span><h4 class="subsection"><a href="#toc-Commands-48"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.107.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры, </font></font><code>delay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кроме </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="superequalizer"></span><h3 class="section"><code><a href="#toc-superequalizer">8.108 superequalizer</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените 18-полосный эквалайзер.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>1b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 65 Гц.
</font></font></p></dd>
<dt><samp><code>2b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 92 Гц.
</font></font></p></dd>
<dt><samp><code>3b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 131 Гц.
</font></font></p></dd>
<dt><samp><code>4b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 185 Гц.
</font></font></p></dd>
<dt><samp><code>5b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 262 Гц.
</font></font></p></dd>
<dt><samp><code>6b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 370 Гц.
</font></font></p></dd>
<dt><samp><code>7b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 523 Гц.
</font></font></p></dd>
<dt><samp><code>8b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 740 Гц.
</font></font></p></dd>
<dt><samp><code>9b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 1047 Гц.
</font></font></p></dd>
<dt><samp><code>10b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 1480 Гц.
</font></font></p></dd>
<dt><samp><code>11b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 2093 Гц.
</font></font></p></dd>
<dt><samp><code>12b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 2960 Гц.
</font></font></p></dd>
<dt><samp><code>13b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите полосу усиления 4186 Гц.
</font></font></p></dd>
<dt><samp><code>14b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 5920 Гц.
</font></font></p></dd>
<dt><samp><code>15b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 8372 Гц.
</font></font></p></dd>
<dt><samp><code>16b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление полосы 11840 Гц.
</font></font></p></dd>
<dt><samp><code>17b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите полосу усиления 16744 Гц.
</font></font></p></dd>
<dt><samp><code>18b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите полосу усиления 20000 Гц.
</font></font></p></dd>
</dl>

<span id="surround"></span><h3 class="section"><code><a href="#toc-surround">8.109 surround</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр повышающего микширования объемного звучания.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр позволяет производить многоканальный вывод из аудиопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>chl_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите схему выходного канала. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>5.1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. </font></font><a href="ffmpeg-utils.html#channel-layout-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Channel Layout в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о необходимом синтаксисе.
</font></font></p>
</dd>
<dt><samp><code>chl_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите схему входного канала. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>stereo</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. </font></font><a href="ffmpeg-utils.html#channel-layout-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Channel Layout в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о необходимом синтаксисе.
</font></font></p>
</dd>
<dt><samp><code>level_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень входной громкости. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>level_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень выходной громкости. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>lfe</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите вывод канала LFE, если он предусмотрен в схеме выходного канала. </font><font style="vertical-align: inherit;">По умолчанию это включено.
</font></font></p>
</dd>
<dt><samp><code>lfe_low</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите нижнюю частоту среза LFE. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>128</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц.
</font></font></p>
</dd>
<dt><samp><code>lfe_high</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите верхнюю частоту среза LFE. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>256</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц.
</font></font></p>
</dd>
<dt><samp><code>lfe_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим LFE, может быть </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>sub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме канал LFE создается из входного аудио и добавляется к выходному. </font><font style="vertical-align: inherit;">В </font></font><var><code>sub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме канал LFE создается из входного аудио и добавляется к выходному, но также все выходные каналы, не относящиеся к LFE, вычитаются из выходного канала LFE.
</font></font></p>
</dd>
<dt><samp><code>angle</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите угол преобразования объемного стереозвука. Допустимый диапазон: от </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>360</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>90</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fc_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость переднего центрального входа. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fc_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость переднего центрального выхода. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fl_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость переднего левого входа. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fl_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость переднего левого выхода. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fr_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость переднего правого входа. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fr_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость переднего правого выхода. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sl_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите боковую левую входную громкость. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sl_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить боковую левую выходную громкость. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sr_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите правую боковую громкость входа. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sr_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить боковой правый выходной объем. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bl_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить назад громкость левого входа. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bl_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить обратно левый выходной объем. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>br_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите правую входную громкость. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>br_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите правую выходную громкость. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bc_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость входного сигнала назад по центру. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bc_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную громкость назад по центру. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>lfe_in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость входа LFE. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>lfe_out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите громкость выходного сигнала LFE. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>allx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить распространение стереоизображения по оси X для всех каналов. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>-1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>15</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию это значение отрицательное </font></font><var><code>-1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и поэтому не используется.
</font></font></p>
</dd>
<dt><samp><code>ally</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить распространение стереоизображения по оси Y для всех каналов. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>-1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>15</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию это значение отрицательное </font></font><var><code>-1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и поэтому не используется.
</font></font></p>
</dd>
<dt><samp><code>fcx, flx, frx, blx, brx, slx, srx, bcx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите распространение стереоизображения по оси X для каждого канала. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>0.06</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>15</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию это значение равно </font></font><var><code>0.5</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fcy, fly, fry, bly, bry, sly, sry, bcy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите распространение стереоизображения по оси Y для каждого канала. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>0.06</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>15</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию это значение равно </font></font><var><code>0.5</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>win_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>1024</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>65536</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Размер по умолчанию </font></font><var><code>4096</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>win_func</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить оконную функцию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bartlett</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hann, hanning</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hamming</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>welch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flattop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bharris</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bnuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bhann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sine</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tukey</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dolph</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cauchy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parzen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>poisson</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bohman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hann</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите перекрытие окна. </font><font style="vertical-align: inherit;">Если установлено значение 1, будет выбрано рекомендуемое перекрытие для выбранной оконной функции. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="tiltshelf"></span><h3 class="section"><code><a href="#toc-tiltshelf">8.110 tiltshelf</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усиливайте или обрезайте низкие частоты и обрезайте или усиливайте более высокие частоты звука с помощью двухполюсного полочного фильтра с откликом, аналогичным отклику стандартных регуляторов тембра Hi-Fi. </font><font style="vertical-align: inherit;">Это также известно как полочная эквализация (EQ).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>gain, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дайте усиление при 0 Гц. </font><font style="vertical-align: inherit;">Его полезный диапазон составляет от -20 (для большого сокращения) до +20 (для большого повышения). </font><font style="vertical-align: inherit;">Остерегайтесь клиппирования при использовании положительного усиления.
</font></font></p>
</dd>
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту фильтра, которую можно использовать для расширения или уменьшения частотного диапазона, который необходимо усилить или обрезать. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>3000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите, насколько крутым является переход полки фильтра.
</font></font></p>
</dd>
<dt><samp><code>poles, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить количество полюсов. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Commands-49"></span><h4 class="subsection"><a href="#toc-Commands-49"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.110.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает некоторые параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="treble_002c-highshelf"></span><h3 class="section"><code><a href="#toc-treble_002c-highshelf">8.111 treble, highshelf</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усильте или обрежьте высокие (верхние) частоты звука с помощью двухполюсного полочного фильтра с откликом, аналогичным отклику стандартных регуляторов тембра Hi-Fi. </font><font style="vertical-align: inherit;">Это также известно как полочная эквализация (EQ).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>gain, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дайте усиление в зависимости от того, что ниже ~ 22 кГц и частоты Найквиста. </font><font style="vertical-align: inherit;">Его полезный диапазон составляет от -20 (для большого сокращения) до +20 (для большого повышения). </font><font style="vertical-align: inherit;">Остерегайтесь клиппирования при использовании положительного усиления.
</font></font></p>
</dd>
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите центральную частоту фильтра, которую можно использовать для расширения или уменьшения частотного диапазона, который необходимо усилить или обрезать. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>3000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц.
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метод, чтобы указать ширину полосы пропускания фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гц
</font></font></p></dd>
<dt><samp><code>q</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q-фактор
</font></font></p></dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">октава
</font></font></p></dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">склон
</font></font></p></dd>
<dt><samp><code>k</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кГц
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите, насколько крутым является переход полки фильтра.
</font></font></p>
</dd>
<dt><samp><code>poles, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить количество полюсов. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько использовать отфильтрованный сигнал на выходе. </font><font style="vertical-align: inherit;">По умолчанию 1. Диапазон значений от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>channels, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие каналы фильтровать, по умолчанию фильтруются все доступные.
</font></font></p>
</dd>
<dt><samp><code>normalize, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализация биквадратных коэффициентов по умолчанию отключена. </font><font style="vertical-align: inherit;">Включение этого параметра нормализует амплитудную характеристику при постоянном токе до 0 дБ.
</font></font></p>
</dd>
<dt><samp><code>transform, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип преобразования БИХ-фильтра.
</font></font></p><dl compact="compact">
<dt><samp><code>di</code></samp></dt>
<dt><samp><code>dii</code></samp></dt>
<dt><samp><code>tdi</code></samp></dt>
<dt><samp><code>tdii</code></samp></dt>
<dt><samp><code>latt</code></samp></dt>
<dt><samp><code>svf</code></samp></dt>
<dt><samp><code>zdf</code></samp></dt>
</dl>

</dd>
<dt><samp><code>precision, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить точность фильтрации.
</font></font></p><dl compact="compact">
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите автоматический формат семпла в зависимости от фильтров окружающего звучания.
</font></font></p></dd>
<dt><samp><code>s16</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанный 16-битный.
</font></font></p></dd>
<dt><samp><code>s32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте подписанные 32-битные.
</font></font></p></dd>
<dt><samp><code>f32</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 32-битное число с плавающей запятой.
</font></font></p></dd>
<dt><samp><code>f64</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда используйте 64-битное число с плавающей запятой.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>block_size, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока, используемый для обратной обработки IIR. </font><font style="vertical-align: inherit;">Если это значение установлено на достаточно высокое значение (выше, чем длина импульсной характеристики, которая усекается при достижении значений, близких к нулю), фильтрация станет линейно-фазовой, в противном случае, если она недостаточно велика, она просто создаст неприятные артефакты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что задержка фильтра будет равна именно этому числу сэмплов, если установлено ненулевое значение.
</font></font></p></dd>
</dl>

<span id="Commands-50"></span><h4 class="subsection"><a href="#toc-Commands-50"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.111.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить высокие частоты. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>frequency</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width_type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить тройной width_type. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить ширину высоких частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>gain, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменение усиления высоких частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>gain</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p>
</dd>
<dt><samp><code>mix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените микс высоких частот. </font><font style="vertical-align: inherit;">Синтаксис команды: " </font></font><var><code>mix</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"
</font></font></p></dd>
</dl>

<span id="tremolo"></span><h3 class="section"><code><a href="#toc-tremolo">8.112 tremolo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синусоидальная амплитудная модуляция.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота модуляции в герцах. </font><font style="vertical-align: inherit;">Частоты модуляции в субгармоническом диапазоне (20 Гц или ниже) приведут к эффекту тремоло. </font><font style="vertical-align: inherit;">Этот фильтр также можно использовать в качестве кольцевого модулятора, задав частоту модуляции выше 20 Гц. </font><font style="vertical-align: inherit;">Диапазон: 0,1–20000,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 5,0 Гц.
</font></font></p>
</dd>
<dt><samp><code>d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Глубина модуляции в процентах. </font><font style="vertical-align: inherit;">Диапазон: 0,0–1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,5.
</font></font></p></dd>
</dl>

<span id="vibrato"></span><h3 class="section"><code><a href="#toc-vibrato">8.113 vibrato</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синусоидальная фазовая модуляция.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота модуляции в герцах. </font><font style="vertical-align: inherit;">Диапазон: 0,1–20000,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 5,0 Гц.
</font></font></p>
</dd>
<dt><samp><code>d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Глубина модуляции в процентах. </font><font style="vertical-align: inherit;">Диапазон: 0,0–1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,5.
</font></font></p></dd>
</dl>

<span id="virtualbass"></span><h3 class="section"><code><a href="#toc-virtualbass">8.114 virtualbass</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр Audio Virtual Bass.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает стереофонический вход и воспроизводит стереосигнал с выходными каналами LFE (2.1). </font><font style="vertical-align: inherit;">Недавно созданный канал LFE имеет улучшенный виртуальный бас, изначально полученный из обоих стереоканалов. </font><font style="vertical-align: inherit;">Этот фильтр выводит передний левый и передний правый каналы без изменений, доступных на стереовходе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>cutoff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите виртуальную частоту среза басов. </font><font style="vertical-align: inherit;">Значение по умолчанию — 250 Гц. </font><font style="vertical-align: inherit;">Допустимый диапазон от 100 до 500 Гц.
</font></font></p>
</dd>
<dt><samp><code>strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу виртуального баса. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0,5 до 3. Значение по умолчанию — 3.
</font></font></p></dd>
</dl>

<span id="volume"></span><h3 class="section"><code><a href="#toc-volume">8.115 volume</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте громкость входного аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>volume</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение громкости звука.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходные значения обрезаются до максимального значения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная громкость звука определяется соотношением:
</font></font></p><div class="example">
<pre class="example"><code><var><code>output_volume</code></var> = <var><code>volume</code></var> * <var><code>input_volume</code></var>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для </font></font><var><code>volume</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"1.0".
</font></font></p>
</dd>
<dt><samp><code>precision</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр представляет математическую точность.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он определяет, какие форматы входных сэмплов будут разрешены, что влияет на точность масштабирования объема.
</font></font></p>
<dl compact="compact">
<dt><samp><code>fixed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8-битная фиксированная точка; </font><font style="vertical-align: inherit;">это ограничивает формат входного образца до U8, S16 и S32.
</font></font></p></dd>
<dt><samp><code>float</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32-битные числа с плавающей запятой; </font><font style="vertical-align: inherit;">это ограничивает формат входного образца до FLT. </font><font style="vertical-align: inherit;">(дефолт)
</font></font></p></dd>
<dt><samp><code>double</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64-битные числа с плавающей запятой; </font><font style="vertical-align: inherit;">это ограничивает формат входного образца до DBL.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>replaygain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите поведение при обнаружении побочных данных ReplayGain во входных кадрах.
</font></font></p>
<dl compact="compact">
<dt><samp><code>drop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалить сторонние данные ReplayGain, игнорируя их содержимое (по умолчанию).
</font></font></p>
</dd>
<dt><samp><code>ignore</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Игнорируйте сторонние данные ReplayGain, но оставьте их во фрейме.
</font></font></p>
</dd>
<dt><samp><code>track</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отдайте предпочтение усилению дорожки, если оно присутствует.
</font></font></p>
</dd>
<dt><samp><code>album</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предпочитайте усиление альбома, если оно присутствует.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>replaygain_preamp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усиление предварительного усиления в дБ для применения к выбранному усилению воспроизведения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для </font></font><var><code>replaygain_preamp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0,0.
</font></font></p>
</dd>
<dt><samp><code>replaygain_noclip</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предотвратите отсечение, ограничив применяемое усиление.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для </font></font><var><code>replaygain_noclip</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устанавливается при оценке выражения объема.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>once</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивайте выражение только один раз во время инициализации фильтра или когда '</font></font><samp><code>volume</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' команда отправлена
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценить выражение для каждого входящего кадра
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>once</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение объема может содержать следующие параметры.
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер кадра (начиная с нуля)
</font></font></p></dd>
<dt><samp><code>nb_channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество каналов
</font></font></p></dd>
<dt><samp><code>nb_consumed_samples</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество сэмплов, потребляемых фильтром
</font></font></p></dd>
<dt><samp><code>nb_samples</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество семплов в текущем кадре
</font></font></p></dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">исходное положение кадра в файле
</font></font></p></dd>
<dt><samp><code>pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рамка ПТС
</font></font></p></dd>
<dt><samp><code>sample_rate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота дискретизации
</font></font></p></dd>
<dt><samp><code>startpts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS в начале стрима
</font></font></p></dd>
<dt><samp><code>startt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">время начала стрима
</font></font></p></dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">время кадра
</font></font></p></dd>
<dt><samp><code>tb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отметка времени
</font></font></p></dd>
<dt><samp><code>volume</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">последнее установленное значение громкости
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что когда</font></font><samp><code>eval</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлен на '</font></font><samp><code>once</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'
 </font><font style="vertical-align: inherit;">доступны только переменные и , все остальные переменные будут оцениваться как NAN
 </font></font><var><code>sample_rate</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><var><code>tb</code></var><font style="vertical-align: inherit;"></font></p>
<span id="Commands-51"></span><h4 class="subsection"><a href="#toc-Commands-51"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.115.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>volume</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените выражение объема. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p></dd>
</dl>

<span id="Examples-33"></span><h4 class="subsection"><a href="#toc-Examples-33"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.115.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите громкость входного аудио вдвое:
</font></font><div class="example">
<pre class="example"><code>volume=volume=0.5<font></font>
volume=volume=1/2<font></font>
volume=volume=-6.0206dB<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Во всех приведенных выше примерах именованный ключ для</font></font><samp><code>volume</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">можно опустить, например, как в:
</font></font></p><div class="example">
<pre class="example"><code>volume=0.5
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте входную мощность звука на 6 децибел, используя точность с фиксированной точкой:
</font></font><div class="example">
<pre class="example"><code>volume=volume=6dB:precision=fixed
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Громкость исчезания после времени 10 с периодом аннигиляции 5 секунд:
</font></font><div class="example">
<pre class="example"><code>volume='if(lt(t,10),1,max(1-(t-10)/5,0))':eval=frame
</code></pre></div>
</li></ul>

<span id="volumedetect"></span><h3 class="section"><code><a href="#toc-volumedetect">8.116 volumedetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите громкость входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр не имеет параметров. </font><font style="vertical-align: inherit;">Он поддерживает только образцы 16-битных целых чисел со знаком, поэтому входные данные будут преобразованы при необходимости. </font><font style="vertical-align: inherit;">Статистика по объему будет напечатана в журнале при достижении конца входного потока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В частности, он покажет средний объем (среднеквадратический), максимальный объем (для каждой выборки) и начало гистограммы зарегистрированных значений объема (от максимального значения до кумулятивной 1/1000 выборок). ).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все значения громкости указаны в децибелах относительно максимального значения PCM.
</font></font></p>
<span id="Examples-34"></span><h4 class="subsection"><a href="#toc-Examples-34"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.116.1 Примеры</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вот выдержка из вывода:
</font></font></p><div class="example">
<pre class="example"><code>[Parsed_volumedetect_0 &nbsp;0xa23120] mean_volume: -27 dB<font></font>
[Parsed_volumedetect_0 &nbsp;0xa23120] max_volume: -4 dB<font></font>
[Parsed_volumedetect_0 &nbsp;0xa23120] histogram_4db: 6<font></font>
[Parsed_volumedetect_0 &nbsp;0xa23120] histogram_5db: 62<font></font>
[Parsed_volumedetect_0 &nbsp;0xa23120] histogram_6db: 286<font></font>
[Parsed_volumedetect_0 &nbsp;0xa23120] histogram_7db: 1042<font></font>
[Parsed_volumedetect_0 &nbsp;0xa23120] histogram_8db: 2551<font></font>
[Parsed_volumedetect_0 &nbsp;0xa23120] histogram_9db: 4609<font></font>
[Parsed_volumedetect_0 &nbsp;0xa23120] histogram_10db: 8409<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это означает, что:
</font></font></p><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Среднеквадратическая энергия составляет примерно -27 дБ, или 10^-2,7.
</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Самая большая выборка находится на уровне -4 дБ, или, точнее, между -4 дБ и -5 дБ.
</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имеется 6 сэмплов на -4 дБ, 62 на -5 дБ, 286 на -6 дБ и т.д.
</font></font></li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Другими словами, увеличение громкости на +4 дБ не приводит к отсечению, увеличение на +5 дБ вызывает отсечение на 6 сэмплов и т. д.
</font></font></p>

<span id="Audio-Sources"></span><h2 class="chapter"><a href="#toc-Audio-Sources"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 источников звука</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных в настоящее время аудиоисточников.
</font></font></p>
<span id="abuffer"></span><h3 class="section"><code><a href="#toc-abuffer">9.1 abuffer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Буферизируйте аудиокадры и сделайте их доступными для цепочки фильтров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник в основном предназначен для программного использования, в частности, через интерфейс, определенный в</font></font><samp><code>libavfilter/buffersrc.h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>time_base</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">База времени, которая будет использоваться для временных меток отправленных кадров. </font><font style="vertical-align: inherit;">Это должно быть число с плавающей запятой или в </font><font style="vertical-align: inherit;">форме
 </font></font><var><code>numerator</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ .</font></font><var><code>denominator</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>sample_rate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота дискретизации входящих аудиобуферов.
</font></font></p>
</dd>
<dt><samp><code>sample_fmt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образец формата входящих аудиобуферов. </font><font style="vertical-align: inherit;">Либо имя примера формата, либо соответствующее целочисленное представление из перечисления AVSampleFormat в</font></font><samp><code>libavutil/samplefmt.h</code></samp>
</p>
</dd>
<dt><samp><code>channel_layout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расположение каналов входящих аудиобуферов. </font><font style="vertical-align: inherit;">Либо имя макета канала из channel_layout_map в
</font></font><samp><code>libavutil/channel_layout.c</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или соответствующее целочисленное представление из макросов AV_CH_LAYOUT_* в</font></font><samp><code>libavutil/channel_layout.h</code></samp>
</p>
</dd>
<dt><samp><code>channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество каналов входящих аудиобуферов. </font><font style="vertical-align: inherit;">Если оба </font></font><var><code>channels</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>channel_layout</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указаны, то они должны быть согласованы.
</font></font></p>
</dd>
</dl>

<span id="Examples-35"></span><h4 class="subsection"><a href="#toc-Examples-35"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.1.1 Примеры</font></font></a></h4>

<div class="example">
<pre class="example"><code>abuffer=sample_rate=44100:sample_fmt=s16p:channel_layout=stereo
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">даст указание источнику принимать планарное 16-битное стерео со знаком на частоте 44&nbsp;100 Гц. </font><font style="vertical-align: inherit;">Так как образец формата с именем «s16p» соответствует числу 6, а раскладка каналов «стерео» соответствует значению 0x3, это эквивалентно:
</font></font></p><div class="example">
<pre class="example"><code>abuffer=sample_rate=44100:sample_fmt=6:channel_layout=0x3
</code></pre></div>

<span id="aevalsrc"></span><h3 class="section"><code><a href="#toc-aevalsrc">9.2 aevalsrc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте звуковой сигнал, заданный выражением.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает на вход одно или несколько выражений (по одному для каждого канала), которые оцениваются и используются для генерации соответствующего звукового сигнала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>exprs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите список выражений, разделенных знаком «|», для каждого отдельного канала. </font><font style="vertical-align: inherit;">В случае
</font></font><samp><code>channel_layout</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опция не указана, выбранная раскладка канала зависит от количества предоставленных выражений. </font><font style="vertical-align: inherit;">В противном случае последнее указанное выражение применяется к оставшимся выходным каналам.
</font></font></p>
</dd>
<dt><samp><code>channel_layout, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите макет канала. </font><font style="vertical-align: inherit;">Количество каналов в указанной раскладке должно быть равно количеству указанных выражений.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальную продолжительность исходного звука. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">Обратите внимание, что результирующая продолжительность может быть больше, чем указанная продолжительность, так как сгенерированный звук всегда обрезается в конце полного кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если не указано или выраженная продолжительность отрицательна, предполагается, что звук будет генерироваться вечно.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на канал для каждого выходного кадра, по умолчанию 1024.
</font></font></p>
</dd>
<dt><samp><code>sample_rate, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту дискретизации, по умолчанию 44100.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждое выражение </font></font><var><code>exprs</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может содержать следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер оцениваемой выборки, начиная с 0
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">время оцениваемой выборки, выраженное в секундах, начиная с 0
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота дискретизации
</font></font></p>
</dd>
</dl>

<span id="Examples-36"></span><h4 class="subsection"><a href="#toc-Examples-36"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.2.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создать тишину:
</font></font><div class="example">
<pre class="example"><code>aevalsrc=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте синусоидальный сигнал с частотой 440 Гц, установите частоту дискретизации на 8000 Гц:
</font></font><div class="example">
<pre class="example"><code>aevalsrc="sin(440*2*PI*t):s=8000"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте двухканальный сигнал, явно укажите расположение каналов (Front Center + Back Center):
</font></font><div class="example">
<pre class="example"><code>aevalsrc="sin(420*2*PI*t)|cos(430*2*PI*t):c=FC|BC"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Генерация белого шума:
</font></font><div class="example">
<pre class="example"><code>aevalsrc="-2+random(0)"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте амплитудно-модулированный сигнал:
</font></font><div class="example">
<pre class="example"><code>aevalsrc="sin(10*2*PI*t)*sin(880*2*PI*t)"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте бинауральные ритмы 2,5 Гц на несущей 360 Гц:
</font></font><div class="example">
<pre class="example"><code>aevalsrc="0.1*sin(2*PI*(360-2.5/2)*t) | 0.1*sin(2*PI*(360+2.5/2)*t)"
</code></pre></div>

</li></ul>

<span id="afirsrc"></span><h3 class="section"><code><a href="#toc-afirsrc">9.3 afirsrc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте КИХ-коэффициенты с помощью метода частотной выборки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученный поток можно использовать с </font></font><a href="#afir"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для фильтрации аудиосигнала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>taps, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество коэффициентов фильтрации в выходном аудиопотоке. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1025.
</font></font></p>
</dd>
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите точки частоты, из которых установлены амплитуда и фаза. </font><font style="vertical-align: inherit;">Это должно быть в неубывающем порядке, и первый элемент должен быть 0, а последний элемент должен быть 1. Элементы разделены пробелами.
</font></font></p>
</dd>
<dt><samp><code>magnitude, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение амплитуды для каждой точки частоты, установленной</font></font><samp><code>frequency</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Количество значений должно совпадать с количеством частотных точек. </font><font style="vertical-align: inherit;">Значения разделены пробелами.
</font></font></p>
</dd>
<dt><samp><code>phase, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение фазы для каждой точки частоты, установленной</font></font><samp><code>frequency</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Количество значений должно совпадать с количеством частотных точек. </font><font style="vertical-align: inherit;">Значения разделены пробелами.
</font></font></p>
</dd>
<dt><samp><code>sample_rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту дискретизации, по умолчанию 44100.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на каждый кадр. </font><font style="vertical-align: inherit;">По умолчанию 1024.
</font></font></p>
</dd>
<dt><samp><code>win_func, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить оконную функцию. </font><font style="vertical-align: inherit;">По умолчанию черный человек.
</font></font></p></dd>
</dl>

<span id="anullsrc"></span><h3 class="section"><code><a href="#toc-anullsrc">9.4 anullsrc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нулевой источник звука возвращает необработанные аудиокадры. </font><font style="vertical-align: inherit;">Он в основном полезен в качестве шаблона и для использования в инструментах анализа/отладки или в качестве источника для фильтров, которые игнорируют входные данные (например, фильтр синтезатора sox).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>channel_layout, cl</code></samp></dt>
<dd>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает макет канала и может быть либо целым числом, либо строкой, представляющей макет канала. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>channel_layout</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
— «стерео».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проверьте определение channel_layout_map в
</font></font><samp><code>libavutil/channel_layout.c</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для сопоставления между строками и значениями макета канала.
</font></font></p>
</dd>
<dt><samp><code>sample_rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяет частоту дискретизации и по умолчанию 44100.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на запрошенные кадры.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность исходного звука. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если не указано или выраженная продолжительность отрицательна, предполагается, что звук будет генерироваться вечно.
</font></font></p></dd>
</dl>

<span id="Examples-37"></span><h4 class="subsection"><a href="#toc-Examples-37"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.4.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту дискретизации на 48&nbsp;000 Гц и расположение каналов на AV_CH_LAYOUT_MONO.
</font></font><div class="example">
<pre class="example"><code>anullsrc=r=48000:cl=4
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проделайте ту же операцию с более очевидным синтаксисом:
</font></font><div class="example">
<pre class="example"><code>anullsrc=r=48000:cl=mono
</code></pre></div>
</li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все параметры должны быть явно определены.
</font></font></p>
<span id="flite"></span><h3 class="section"><code><a href="#toc-flite">9.5 flite</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синтезируйте голосовое высказывание с помощью библиотеки libflite.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-libflite</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что версии библиотеки flite до 2.0 не являются потокобезопасными.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>list_voices</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, перечислить имена доступных голосов и немедленно выйти. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество выборок на кадр. </font><font style="vertical-align: inherit;">Значение по умолчанию — 512.
</font></font></p>
</dd>
<dt><samp><code>textfile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите имя файла, содержащего текст, чтобы говорить.
</font></font></p>
</dd>
<dt><samp><code>text</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите текст, чтобы говорить.
</font></font></p>
</dd>
<dt><samp><code>voice, v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите голос, который будет использоваться для синтеза речи. </font><font style="vertical-align: inherit;">Значение по умолчанию
 </font></font><code>kal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">См. также </font></font><var><code>list_voices</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант.
</font></font></p></dd>
</dl>

<span id="Examples-38"></span><h4 class="subsection"><a href="#toc-Examples-38"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.5.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Читать из файла</font></font><samp><code>speech.txt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и синтезируйте текст, используя стандартный голос flite:
</font></font><div class="example">
<pre class="example"><code>flite=textfile=speech.txt
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прочитайте указанный текст, выбрав </font></font><code>slt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">голос:
</font></font><div class="example">
<pre class="example"><code>flite=text='So fare thee well, poor devil of a Sub-Sub, whose commentator I am':voice=slt
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Введите текст в ffmpeg:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -f lavfi -i flite=text='So fare thee well, poor devil of a Sub-Sub, whose commentator I am':voice=slt
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Делать</font></font><samp><code>ffplay</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">произнести указанный текст, используя </font></font><code>flite</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>lavfi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устройство:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi flite=text='No more be grieved for which that thou hast done.'
</code></pre></div>
</li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения дополнительной информации о libflite посетите:
 </font></font><a href="http://www.festvox.org/flite/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.festvox.org/flite/</font></font></a>
</p>
<span id="anoisesrc"></span><h3 class="section"><code><a href="#toc-anoisesrc">9.6 anoisesrc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте шумовой звуковой сигнал.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sample_rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту дискретизации. </font><font style="vertical-align: inherit;">Значение по умолчанию — 48000 Гц.
</font></font></p>
</dd>
<dt><samp><code>amplitude, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите амплитуду (0,0–1,0) сгенерированного аудиопотока. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите продолжительность сгенерированного аудиопотока. </font><font style="vertical-align: inherit;">Не указание этой опции приводит к шуму бесконечной длины.
</font></font></p>
</dd>
<dt><samp><code>color, colour, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет шума. </font><font style="vertical-align: inherit;">Доступные цвета шума: белый, розовый, коричневый, синий, фиолетовый и бархатный. </font><font style="vertical-align: inherit;">Цвет по умолчанию белый.
</font></font></p>
</dd>
<dt><samp><code>seed, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите значение, используемое для заполнения PRNG.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на каждый выходной кадр, по умолчанию 1024.
</font></font></p></dd>
</dl>

<span id="Examples-39"></span><h4 class="subsection"><a href="#toc-Examples-39"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.6.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте 60 секунд розового шума с частотой дискретизации 44,1 кГц и амплитудой 0,5:
</font></font><div class="example">
<pre class="example"><code>anoisesrc=d=60:c=pink:r=44100:a=0.5
</code></pre></div>
</li></ul>

<span id="hilbert"></span><h3 class="section"><code><a href="#toc-hilbert">9.7 hilbert</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте КИХ-коэффициенты преобразования Гильберта с нечетным отводом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученный поток можно использовать с </font></font><a href="#afir"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">афир</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -фильтром для фазового сдвига сигнала на 90 градусов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это используется во многих схемах матричного кодирования и для генерации аналитических сигналов. </font><font style="vertical-align: inherit;">Процесс часто записывается как умножение на i (или j), мнимую единицу.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sample_rate, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту дискретизации, по умолчанию 44100.
</font></font></p>
</dd>
<dt><samp><code>taps, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите длину КИХ-фильтра, по умолчанию 22051.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на каждый кадр.
</font></font></p>
</dd>
<dt><samp><code>win_func, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите оконную функцию, которая будет использоваться при генерации КИХ-коэффициентов.
</font></font></p></dd>
</dl>

<span id="sinc"></span><h3 class="section"><code><a href="#toc-sinc">9.8 sinc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте КИХ-коэффициенты нижних частот, верхних частот, полосы пропускания или подавления полосы КИХ-окна sinc kaiser.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученный поток можно использовать с </font></font><a href="#afir"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для фильтрации аудиосигнала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sample_rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту дискретизации, по умолчанию 44100.
</font></font></p>
</dd>
<dt><samp><code>nb_samples, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на каждый кадр. </font><font style="vertical-align: inherit;">По умолчанию 1024.
</font></font></p>
</dd>
<dt><samp><code>hp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту верхних частот. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>lp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту нижних частот. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0. Если частота верхних частот ниже частоты нижних частот, а частота нижних частот выше 0, то фильтр создаст коэффициенты полосового фильтра, в противном случае — коэффициенты режекторного фильтра.
</font></font></p>
</dd>
<dt><samp><code>phase</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите фазовую характеристику фильтра. </font><font style="vertical-align: inherit;">По умолчанию 50. Допустимый диапазон от 0 до 100.
</font></font></p>
</dd>
<dt><samp><code>beta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите бета-версию окна Kaiser.
</font></font></p>
</dd>
<dt><samp><code>att</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите затухание в полосе задерживания. </font><font style="vertical-align: inherit;">По умолчанию 120 дБ, допустимый диапазон от 40 до 180 дБ.
</font></font></p>
</dd>
<dt><samp><code>round</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить округление, по умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>hptaps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество отводов для фильтра высоких частот.
</font></font></p>
</dd>
<dt><samp><code>lptaps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество отводов для фильтра нижних частот.
</font></font></p></dd>
</dl>

<span id="sine"></span><h3 class="section"><code><a href="#toc-sine">9.9 sine</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте звуковой сигнал, состоящий из синусоидальной волны с амплитудой 1/8.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Звуковой сигнал побитовый.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frequency, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите несущую частоту. </font><font style="vertical-align: inherit;">По умолчанию 440 Гц.
</font></font></p>
</dd>
<dt><samp><code>beep_factor, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите периодический звуковой сигнал каждую секунду с частотой </font></font><var><code>beep_factor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, умноженной на несущую частоту. </font><font style="vertical-align: inherit;">По умолчанию 0, что означает, что звуковой сигнал отключен.
</font></font></p>
</dd>
<dt><samp><code>sample_rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту дискретизации, по умолчанию 44100.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите продолжительность сгенерированного аудиопотока.
</font></font></p>
</dd>
<dt><samp><code>samples_per_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выборок на выходной кадр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение может содержать следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер выходного аудиокадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS (Presentation TimeStamp) выходного аудиокадра, выраженный в </font></font><var><code>TB</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">единицах.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS выходного аудиокадра, выраженное в секундах.
</font></font></p>
</dd>
<dt><samp><code>TB</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная база выходных аудиокадров.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1024</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-40"></span><h4 class="subsection"><a href="#toc-Examples-40"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.9.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте простую синусоиду 440 Гц:
</font></font><div class="example">
<pre class="example"><code>sine
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте синусоиду 220 Гц со звуковым сигналом 880 Гц каждую секунду в течение 5 секунд:
</font></font><div class="example">
<pre class="example"><code>sine=220:4:d=5<font></font>
sine=f=220:b=4:d=5<font></font>
sine=frequency=220:beep_factor=4:duration=5<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте синусоидальную волну частотой 1 кГц в соответствии </font></font><code>1602,1601,1602,1601,1602</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с шаблоном NTSC:
</font></font><div class="example">
<pre class="example"><code>sine=1000:samples_per_frame='st(0,mod(n,5)); 1602-not(not(eq(ld(0),1)+eq(ld(0),3)))'
</code></pre></div>
</li></ul>


<span id="Audio-Sinks"></span><h2 class="chapter"><a href="#toc-Audio-Sinks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 аудиоприемников</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных в настоящее время аудиоприемников.
</font></font></p>
<span id="abuffersink"></span><h3 class="section"><code><a href="#toc-abuffersink">10.1 abuffersink</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Буферизируйте аудиокадры и сделайте их доступными в конце цепочки фильтров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот приемник в основном предназначен для программного использования, в частности через интерфейс, определенный в</font></font><samp><code>libavfilter/buffersink.h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
или система опций.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает указатель на структуру AVABufferSinkContext, которая определяет форматы входящих буферов, которые следует передать в качестве непрозрачного параметра </font></font><code>avfilter_init_filter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для инициализации.
</font></font></p><span id="anullsink"></span><h3 class="section"><code><a href="#toc-anullsink">10.2 anullsink</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нулевой аудиоприемник; </font><font style="vertical-align: inherit;">абсолютно ничего не делать с входным звуком. </font><font style="vertical-align: inherit;">В основном он полезен в качестве шаблона и для использования в инструментах анализа/отладки.
</font></font></p>

<span id="Video-Filters"></span><h2 class="chapter"><a href="#toc-Video-Filters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 видеофильтров</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Когда вы настраиваете сборку FFmpeg, вы можете отключить любой из существующих фильтров, используя файлы </font></font><code>--disable-filters</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В выходных данных configure будут показаны видеофильтры, включенные в вашу сборку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных на данный момент видеофильтров.
</font></font></p>
<span id="addroi"></span><h3 class="section"><code><a href="#toc-addroi">11.1 addroi</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте область интереса в видеокадре.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Данные кадра передаются без изменений, но к кадру присоединяются метаданные, указывающие интересующие области, которые могут повлиять на поведение последующего кодирования. </font><font style="vertical-align: inherit;">Несколько регионов можно отметить, применяя фильтр несколько раз.
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расстояние области в пикселях от левого края кадра.
</font></font></p></dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расстояние области в пикселях от верхнего края кадра.
</font></font></p></dd>
<dt><samp><code>w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина области в пикселях.
</font></font></p></dd>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высота области в пикселях.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font><font style="vertical-align: inherit;">являются выражениями и могут содержать следующие переменные
 </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><var><code>h</code></var><font style="vertical-align: inherit;"></font></p><dl compact="compact">
<dt><samp><code>iw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина входного кадра.
</font></font></p></dd>
<dt><samp><code>ih</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высота входного кадра.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>qoffset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смещение квантования для применения в пределах региона.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это должно быть действительное значение в диапазоне от -1 до +1. </font><font style="vertical-align: inherit;">Нулевое значение указывает на отсутствие изменения качества. </font><font style="vertical-align: inherit;">Отрицательное значение требует лучшего качества (меньше квантования), а положительное значение требует худшего качества (большего квантования).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Диапазон откалиброван таким образом, что крайние значения указывают максимально возможное смещение — если остальная часть кадра кодируется с наихудшим возможным качеством, смещение, равное -1, указывает на то, что эта область в любом случае должна быть закодирована с наилучшим возможным качеством. </font><font style="vertical-align: inherit;">Затем промежуточные значения интерполируются некоторым образом, зависящим от кодека.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, в 10-битном H.264 параметр квантования варьируется от -12 до 51. Таким образом, типичное значение qoffset, равное -1/10, указывает, что эта область должна быть закодирована с QP примерно на одну десятую полного диапазона лучше, чем остальная часть кадра. </font><font style="vertical-align: inherit;">Таким образом, если бы большая часть кадра была закодирована с QP около 30, эта область получила бы QP около 24 (смещение примерно -1/10 * (51 - -12) = -6,3). </font><font style="vertical-align: inherit;">Экстремальное значение -1 будет означать, что эта область должна быть закодирована с максимально возможным качеством независимо от обработки остальной части кадра, то есть должна быть закодирована с QP, равной -12.
</font></font></p></dd>
<dt><samp><code>clear</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение true, удалите все существующие области интереса, отмеченные на кадре, перед добавлением новой.
</font></font></p></dd>
</dl>

<span id="Examples-41"></span><h4 class="subsection"><a href="#toc-Examples-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.1.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте центральную четверть кадра как интересную.
</font></font><div class="example">
<pre class="example"><code>addroi=iw/4:ih/4:iw/2:ih/2:-1/10
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте область шириной 100 пикселей на левом краю кадра как очень неинтересную (которая должна быть закодирована с гораздо более низким качеством, чем остальная часть кадра).
</font></font><div class="example">
<pre class="example"><code>addroi=0:0:100:ih:+1/5
</code></pre></div>
</li></ul>

<span id="alphaextract"></span><h3 class="section"><code><a href="#toc-alphaextract">11.2 alphaextract</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлеките альфа-компонент из входных данных в виде видео в градациях серого. </font><font style="vertical-align: inherit;">Это особенно полезно с </font></font><var><code>alphamerge</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром.
</font></font></p>
<span id="alphamerge"></span><h3 class="section"><code><a href="#toc-alphamerge">11.3 alphamerge</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте или замените альфа-компонент основного входа значением оттенков серого второго входа. </font><font style="vertical-align: inherit;">Это предназначено для использования с
 </font></font><var><code>alphaextract</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для обеспечения передачи или хранения последовательностей кадров с альфа-каналом в формате, который не поддерживает альфа-канал.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы реконструировать полные кадры из обычного видео в кодировке YUV и отдельного видео, созданного с помощью </font></font><var><code>alphaextract</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, вы можете использовать:
</font></font></p><div class="example">
<pre class="example"><code>movie=in_alpha.mkv [alpha]; [in][alpha] alphamerge [out]
</code></pre></div>

<span id="amplify"></span><h3 class="section"><code><a href="#toc-amplify">11.4 amplify</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усиление различий между текущим пикселем и пикселями соседних кадров в одном и том же месте пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить радиус кадра. </font><font style="vertical-align: inherit;">Значение по умолчанию — 2. Допустимый диапазон — от 1 до 63. Например, при значении радиуса 3 фильтр будет вычислять среднее значение по 7 кадрам.
</font></font></p>
</dd>
<dt><samp><code>factor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент для усиления разницы. </font><font style="vertical-align: inherit;">По умолчанию 2. Допустимый диапазон от 0 до 65535.
</font></font></p>
</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог для разностного усиления. </font><font style="vertical-align: inherit;">Любая разница, превышающая или равная этому значению, не изменит исходный пиксель. </font><font style="vertical-align: inherit;">По умолчанию 10. Допустимый диапазон от 0 до 65535.
</font></font></p>
</dd>
<dt><samp><code>tolerance</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите допуск для разностного усиления. </font><font style="vertical-align: inherit;">Любая разница ниже этого значения не изменит исходный пиксель. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от 0 до 65535.
</font></font></p>
</dd>
<dt><samp><code>low</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите нижний предел для изменения исходного пикселя. </font><font style="vertical-align: inherit;">По умолчанию 65535. Допустимый диапазон от 0 до 65535. Этот параметр определяет максимально возможное значение, которое уменьшит значение исходного пикселя.
</font></font></p>
</dd>
<dt><samp><code>high</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите верхний предел для изменения исходного пикселя. </font><font style="vertical-align: inherit;">Значение по умолчанию — 65535. Допустимый диапазон — от 0 до 65535. Этот параметр определяет максимально возможное значение, которое увеличит значение исходного пикселя.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию все. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 15.
</font></font></p></dd>
</dl>

<span id="Commands-52"></span><h4 class="subsection"><a href="#toc-Commands-52"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.4.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , соответствующие одноименной опции:
</font></font></p><dl compact="compact">
<dt><samp><code>factor</code></samp></dt>
<dt><samp><code>threshold</code></samp></dt>
<dt><samp><code>tolerance</code></samp></dt>
<dt><samp><code>low</code></samp></dt>
<dt><samp><code>high</code></samp></dt>
<dt><samp><code>planes</code></samp></dt>
</dl>

<span id="ass"></span><h3 class="section"><code><a href="#toc-ass">11.5 ass</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и фильтр </font></font><a href="#subtitles"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">субтитров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , за исключением того, что для работы не требуются libavcodec и libavformat. </font><font style="vertical-align: inherit;">С другой стороны, он ограничен файлами субтитров ASS (Advanced Substation Alpha).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры в дополнение к общим параметрам из </font><font style="vertical-align: inherit;">фильтра
 </font></font><a href="#subtitles"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">субтитров :</font></font></a><font style="vertical-align: inherit;"></font></p>
<dl compact="compact">
<dt><samp><code>shaping</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формирующий движок
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Механизм формирования libass по умолчанию, который является лучшим из доступных.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>simple</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Быстрый, не зависящий от шрифта шейпер, который может делать только замены
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>complex</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более медленный формирователь с использованием OpenType для замен и позиционирования
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="atadenoise"></span><h3 class="section"><code><a href="#toc-atadenoise">11.6 atadenoise</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените Adaptive Temporal Averaging Denoiser к видеовходу.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог A для 1-й плоскости. </font><font style="vertical-align: inherit;">По умолчанию 0,02. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до 0,3.
</font></font></p>
</dd>
<dt><samp><code>0b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог B для 1-й плоскости. </font><font style="vertical-align: inherit;">По умолчанию 0,04. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до 5.
</font></font></p>
</dd>
<dt><samp><code>1a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог A для 2-й плоскости. </font><font style="vertical-align: inherit;">По умолчанию 0,02. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до 0,3.
</font></font></p>
</dd>
<dt><samp><code>1b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог B для 2-й плоскости. </font><font style="vertical-align: inherit;">По умолчанию 0,04. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до 5.
</font></font></p>
</dd>
<dt><samp><code>2a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог A для 3-й плоскости. </font><font style="vertical-align: inherit;">По умолчанию 0,02. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до 0,3.
</font></font></p>
</dd>
<dt><samp><code>2b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог B для 3-й плоскости. </font><font style="vertical-align: inherit;">По умолчанию 0,04. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до 5.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог A предназначен для реагирования на резкие изменения входного сигнала, а порог B предназначен для реагирования на непрерывные изменения входного сигнала.
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество кадров, которое фильтр будет использовать для усреднения. </font><font style="vertical-align: inherit;">По умолчанию 9. Должно быть нечетное число в диапазоне [5, 129].
</font></font></p>
</dd>
<dt><samp><code>p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости кадрового фильтра будут использоваться для усреднения. </font><font style="vertical-align: inherit;">По умолчанию все.
</font></font></p>
</dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какой вариант алгоритма фильтра будет использоваться для усреднения. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параллельно. </font><font style="vertical-align: inherit;">В качестве альтернативы можно установить </font></font><code>s</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">серийный номер.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параллельное может быть быстрее, чем последовательное, а наоборот никогда не бывает. </font><font style="vertical-align: inherit;">Параллельный процесс прервется раньше, если первое изменение превысит пороговое значение, в то время как последовательный продолжит обработку другой стороны кадров, если они равны или ниже порогового значения.
</font></font></p>
</dd>
<dt><samp><code>0s</code></samp></dt>
<dt><samp><code>1s</code></samp></dt>
<dt><samp><code>2s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сигму для 1-й плоскости, 2-й плоскости или 3-й плоскости. </font><font style="vertical-align: inherit;">Значение по умолчанию — 32767. Допустимый диапазон — от 0 до 32767. Эта опция управляет весом каждого пикселя в радиусе, определяемом размером. </font><font style="vertical-align: inherit;">Значение по умолчанию означает, что все пиксели имеют одинаковый вес. </font><font style="vertical-align: inherit;">Установка для этого параметра значения 0 эффективно отключает фильтрацию.
</font></font></p></dd>
</dl>

<span id="Commands-53"></span><h4 class="subsection"><a href="#toc-Commands-53"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.6.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры, за исключением параметра </font></font><code>s</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<span id="avgblur"></span><h3 class="section"><code><a href="#toc-avgblur">11.7 avgblur</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр среднего размытия.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sizeX</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер горизонтального радиуса.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию фильтруются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>sizeY</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер вертикального радиуса, если он равен нулю, он будет таким же, как </font></font><code>sizeX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-54"></span><h4 class="subsection"><a href="#toc-Commands-54"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.7.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же команды, что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="bbox"></span><h3 class="section"><code><a href="#toc-bbox">11.8 bbox</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите ограничивающую рамку для нечерных пикселей в плоскости яркости входного кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр вычисляет ограничивающую рамку, содержащую все пиксели со значением яркости, превышающим минимально допустимое значение. </font><font style="vertical-align: inherit;">Параметры, описывающие ограничивающую рамку, печатаются в журнале фильтрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>min_val</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальное значение яркости. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-55"></span><h4 class="subsection"><a href="#toc-Commands-55"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.8.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="bilateral"></span><h3 class="section"><code><a href="#toc-bilateral">11.9 bilateral</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените двусторонний фильтр, пространственное сглаживание с сохранением краев.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>sigmaS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сигму функции Гаусса для вычисления пространственного веса. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 512. По умолчанию 0,1.
</font></font></p>
</dd>
<dt><samp><code>sigmaR</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сигму функции Гаусса для расчета веса диапазона. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. По умолчанию 0,1.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите самолеты для фильтрации. </font><font style="vertical-align: inherit;">По умолчанию только первый.
</font></font></p></dd>
</dl>

<span id="Commands-56"></span><h4 class="subsection"><a href="#toc-Commands-56"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.9.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="bitplanenoise"></span><h3 class="section"><code><a href="#toc-bitplanenoise">11.10 bitplanenoise</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать и измерить шум битовой плоскости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>bitplane</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какую плоскость анализировать. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>filter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отфильтруйте шумные пиксели из </font></font><code>bitplane</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">набора выше. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p></dd>
</dl>

<span id="blackdetect"></span><h3 class="section"><code><a href="#toc-blackdetect">11.11 blackdetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение интервалов видео, которые (почти) полностью черные. </font><font style="vertical-align: inherit;">Может быть полезно для обнаружения переходов между главами, рекламных роликов или недействительных записей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр выводит свой анализ обнаружения как в журнал, так и в метаданные кадра. </font><font style="vertical-align: inherit;">При обнаружении черного сегмента не менее заданной минимальной продолжительности в журнал с уровнем </font></font><code>info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кроме того, для каждого кадра печатается
 </font><font style="vertical-align: inherit;">строка журнала с уровнем , показывающая количество черного, обнаруженное для этого кадра.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр также прикрепляет метаданные к первому кадру черного сегмента с ключом </font></font><code>lavfi.black_start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и к первому кадру после окончания черного сегмента с ключом </font></font><code>lavfi.black_end</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение представляет собой временную метку кадра. </font><font style="vertical-align: inherit;">Эти метаданные добавляются независимо от указанной минимальной продолжительности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>black_min_duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальную продолжительность обнаружения черного, выраженную в секундах. </font><font style="vertical-align: inherit;">Это должно быть неотрицательное число с плавающей запятой.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — 2,0.
</font></font></p>
</dd>
<dt><samp><code>picture_black_ratio_th, pic_th</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог, по которому изображение будет считаться «черным». </font><font style="vertical-align: inherit;">Выразите минимальное значение отношения:
</font></font></p><div class="example">
<pre class="example"><code><var><code>nb_black_pixels</code></var> / <var><code>nb_pixels</code></var>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для которых изображение считается черным. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,98.
</font></font></p>
</dd>
<dt><samp><code>pixel_black_th, pix_th</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог для того, чтобы считать пиксель «черным».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог выражает максимальное значение яркости пикселя, при котором пиксель считается «черным». </font><font style="vertical-align: inherit;">Предоставленное значение масштабируется в соответствии со следующим уравнением:
</font></font></p><div class="example">
<pre class="example"><code><var><code>absolute_threshold</code></var> = <var><code>luminance_minimum_value</code></var> + <var><code>pixel_black_th</code></var> * <var><code>luminance_range_size</code></var>
</code></pre></div>

<p><var><code>luminance_range_size</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>luminance_minimum_value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">зависит от формата входного видео, диапазон составляет [0–255] для полнодиапазонных форматов YUV и [16–235] для неполнодиапазонных форматов YUV.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — 0,10.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В следующем примере максимальное пороговое значение пикселей устанавливается на минимальное значение и обнаруживаются только черные интервалы продолжительностью 2 и более секунд:
</font></font></p><div class="example">
<pre class="example"><code>blackdetect=d=2:pix_th=0.00
</code></pre></div>

<span id="blackframe"></span><h3 class="section"><code><a href="#toc-blackframe">11.12 blackframe</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение кадров, которые (почти) полностью черные. </font><font style="vertical-align: inherit;">Может быть полезно для обнаружения переходов между главами или рекламных роликов. </font><font style="vertical-align: inherit;">Строки вывода состоят из номера кадра обнаруженного кадра, процента черноты, позиции в файле, если она известна или -1, и метки времени в секундах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы отобразить выходные строки, вам нужно установить уровень логирования как минимум на значение AV_LOG_INFO.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр экспортирует метаданные кадра </font></font><code>lavfi.blackframe.pblack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение представляет собой процент пикселей изображения, которые находятся ниже порогового значения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>amount</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент пикселей, которые должны быть ниже порогового значения; </font><font style="vertical-align: inherit;">по умолчанию это
 </font></font><code>98</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>threshold, thresh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог, ниже которого значение пикселя считается черным; </font><font style="vertical-align: inherit;">по умолчанию это
 </font></font><code>32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="blend"></span><span id="blend-1"></span><h3 class="section"><code><a href="#toc-blend-1">11.13 blend</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешайте два видеокадра друг с другом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>blend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">принимает два входных потока и выводит один поток, первый вход — это «верхний» слой, а второй вход — «нижний» слой. </font><font style="vertical-align: inherit;">По умолчанию вывод завершается, когда завершается самый длинный ввод.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>tblend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(смешивание по времени) берет два последовательных кадра из одного потока и выводит результат, полученный путем наложения нового кадра поверх старого кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>c0_mode</code></samp></dt>
<dt><samp><code>c1_mode</code></samp></dt>
<dt><samp><code>c2_mode</code></samp></dt>
<dt><samp><code>c3_mode</code></samp></dt>
<dt><samp><code>all_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим наложения для определенного компонента пикселя или всех компонентов пикселя в случае </font></font><var><code>all_mode</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения для режимов компонентов:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>addition</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>and</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>average</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bleach</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>burn</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>darken</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>difference</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>divide</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dodge</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>exclusion</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>extremity</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>freeze</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>geometric</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>glow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>grainextract</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>grainmerge</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hardlight</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hardmix</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hardoverlay</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>harmonic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>heat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>interpolate</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lighten</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linearlight</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>multiply</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>multiply128</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>negation</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>normal</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>or</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>overlay</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>phoenix</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pinlight</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>reflect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>screen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>softdifference</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>softlight</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>stain</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>subtract</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vividlight</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>xor</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>c0_opacity</code></samp></dt>
<dt><samp><code>c1_opacity</code></samp></dt>
<dt><samp><code>c2_opacity</code></samp></dt>
<dt><samp><code>c3_opacity</code></samp></dt>
<dt><samp><code>all_opacity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите непрозрачность смешивания для определенного компонента пикселя или всех компонентов пикселя в случае </font></font><var><code>all_opacity</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Используется только в сочетании с режимами наложения компонентов пикселей.
</font></font></p>
</dd>
<dt><samp><code>c0_expr</code></samp></dt>
<dt><samp><code>c1_expr</code></samp></dt>
<dt><samp><code>c2_expr</code></samp></dt>
<dt><samp><code>c3_expr</code></samp></dt>
<dt><samp><code>all_expr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение смешивания для определенного компонента пикселя или всех компонентов пикселя в случае </font></font><var><code>all_expr</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Обратите внимание, что соответствующие параметры режима будут игнорироваться, если они установлены.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В выражениях могут использоваться следующие переменные:
</font></font></p>
<dl compact="compact">
<dt><samp><code>N</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядковый номер отфильтрованного кадра, начиная с </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>X</code></samp></dt>
<dt><samp><code>Y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">координаты текущего образца
</font></font></p>
</dd>
<dt><samp><code>W</code></samp></dt>
<dt><samp><code>H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ширина и высота фильтруемой в данный момент плоскости
</font></font></p>
</dd>
<dt><samp><code>SW</code></samp></dt>
<dt><samp><code>SH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Шкала ширины и высоты фильтруемой плоскости. </font><font style="vertical-align: inherit;">Это отношение размеров текущей плоскости к плоскости яркости, например, для </font></font><code>yuv420p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадра значения относятся </font></font><code>1,1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">к плоскости яркости и плоскости </font></font><code>0.5,0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">цветности.
</font></font></p>
</dd>
<dt><samp><code>T</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время текущего кадра, выраженное в секундах.
</font></font></p>
</dd>
<dt><samp><code>TOP, A</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение компонента пикселя в текущем местоположении для первого видеокадра (верхний слой).
</font></font></p>
</dd>
<dt><samp><code>BOTTOM, B</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение компонента пикселя в текущем местоположении для второго видеокадра (нижний слой).
</font></font></p></dd>
</dl>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>blend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-42"></span><h4 class="subsection"><a href="#toc-Examples-42"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.13.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените переход от нижнего слоя к верхнему слою в первые 10 секунд:
</font></font><div class="example">
<pre class="example"><code>blend=all_expr='A*(if(gte(T,10),1,T/10))+B*(1-(if(gte(T,10),1,T/10)))'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените линейный горизонтальный переход от верхнего слоя к нижнему слою:
</font></font><div class="example">
<pre class="example"><code>blend=all_expr='A*(X/W)+B*(1-X/W)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект шахматной доски 1x1:
</font></font><div class="example">
<pre class="example"><code>blend=all_expr='if(eq(mod(X,2),mod(Y,2)),A,B)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект раскрытия левой части:
</font></font><div class="example">
<pre class="example"><code>blend=all_expr='if(gte(N*SW+X,W),A,B)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект раскрытия вниз:
</font></font><div class="example">
<pre class="example"><code>blend=all_expr='if(gte(Y-N*SH,0),A,B)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект раскрытия вверх-влево:
</font></font><div class="example">
<pre class="example"><code>blend=all_expr='if(gte(T*SH*40+Y,H)*gte((T*40*SW+X)*W/H,W),A,B)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделить видео по диагонали и показать верхний и нижний слои с каждой стороны:
</font></font><div class="example">
<pre class="example"><code>blend=all_expr='if(gt(X,Y*(W/H)),A,B)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение различий между текущим и предыдущим кадром:
</font></font><div class="example">
<pre class="example"><code>tblend=all_mode=grainextract
</code></pre></div>
</li></ul>

<span id="Commands-57"></span><h4 class="subsection"><a href="#toc-Commands-57"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.13.2 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="blockdetect"></span><span id="blockdetect-1"></span><h3 class="section"><code><a href="#toc-blockdetect-1">11.14 blockdetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяет блочность кадров без изменения входных кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">На основе Ремко Муйса и Игоря Киренко: «Измерение артефактов блокировки без ссылок для адаптивной обработки видео». </font><font style="vertical-align: inherit;">2005 13-я Европейская конференция по обработке сигналов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>period_min</code></samp></dt>
<dt><samp><code>period_max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальное и максимальное значения для определения пиксельных сеток (периодов). </font><font style="vertical-align: inherit;">Значения по умолчанию: [3,24].
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите самолеты для фильтрации. </font><font style="vertical-align: inherit;">По умолчанию только первый.
</font></font></p></dd>
</dl>

<span id="Examples-43"></span><h4 class="subsection"><a href="#toc-Examples-43"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.14.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяем блочность для первой плоскости и ищем периоды в пределах [8,32]:
</font></font><div class="example">
<pre class="example"><code>blockdetect=period_min=8:period_max=32:planes=1
</code></pre></div>
</li></ul>

<span id="blurdetect"></span><span id="blurdetect-1"></span><h3 class="section"><code><a href="#toc-blurdetect-1">11.15 blurdetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяет размытость кадров без изменения входных кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">На основании Marziliano, Pina, et al. </font><font style="vertical-align: inherit;">«Метрика перцептивного размытия без ссылки». </font><font style="vertical-align: inherit;">Позволяет использовать блочную аббревиатуру.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>low</code></samp></dt>
<dt><samp><code>high</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите нижнее и верхнее пороговые значения, используемые алгоритмом определения порога Кэнни.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высокий порог выбирает «сильные» краевые пиксели, которые затем соединяются через 8-связность со «слабыми» краевыми пикселями, выбранными с помощью низкого порога.
</font></font></p>
<p><var><code>low</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а </font></font><var><code>high</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пороговые значения должны быть выбраны в диапазоне [0,1] и </font></font><var><code>low</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">должны быть меньше или равны </font></font><var><code>high</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для </font></font><var><code>low</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>20/255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а значение по умолчанию </font></font><var><code>high</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
для </font></font><code>50/255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите радиус для поиска локальных максимумов вокруг краевого пикселя.
</font></font></p>
</dd>
<dt><samp><code>block_pct</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определить размытость только для наиболее значимых блоков, заданных в процентах.
</font></font></p>
</dd>
<dt><samp><code>block_width</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определить размытость для блоков шириной </font></font><var><code>block_width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если установлено любое значение меньше 1, блоки не используются, и все изображение обрабатывается как единое целое независимо от </font></font><var><code>block_height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>block_height</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определить размытость для блоков высоты </font></font><var><code>block_height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если установлено любое значение меньше 1, блоки не используются, и все изображение обрабатывается как единое целое независимо от </font></font><var><code>block_width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите самолеты для фильтрации. </font><font style="vertical-align: inherit;">По умолчанию только первый.
</font></font></p></dd>
</dl>

<span id="Examples-44"></span><h4 class="subsection"><a href="#toc-Examples-44"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.15.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяем размытие для 80% наиболее значимых блоков 32x32:
</font></font><div class="example">
<pre class="example"><code>blurdetect=block_width=32:block_height=32:block_pct=80
</code></pre></div>
</li></ul>

<span id="bm3d"></span><h3 class="section"><code><a href="#toc-bm3d">11.16 bm3d</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите шум из кадров с помощью алгоритма Block-Matching 3D.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры.
</font></font></p>
<dl compact="compact">
<dt><samp><code>sigma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить мощность шумоподавления. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Допустимый диапазон — от 0 до 999,9. </font><font style="vertical-align: inherit;">Алгоритм шумоподавления очень чувствителен к сигме, поэтому настройте его в соответствии с источником.
</font></font></p>
</dd>
<dt><samp><code>block</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер локального патча. </font><font style="vertical-align: inherit;">Это устанавливает размеры в 2D.
</font></font></p>
</dd>
<dt><samp><code>bstep</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите скользящий шаг для обработки блоков. </font><font style="vertical-align: inherit;">Значение по умолчанию — 4. Допустимый диапазон — от 1 до 64. Меньшие значения позволяют обрабатывать больше эталонных блоков и работают медленнее.
</font></font></p>
</dd>
<dt><samp><code>group</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество похожих блоков для 3-го измерения. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Если установлено значение 1, сопоставление блоков не выполняется. </font><font style="vertical-align: inherit;">Большие значения позволяют использовать больше блоков в одной группе. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 256.
</font></font></p>
</dd>
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус для сопоставления поискового блока. </font><font style="vertical-align: inherit;">По умолчанию 9. Допустимый диапазон от 1 до INT32_MAX.
</font></font></p>
</dd>
<dt><samp><code>mstep</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите шаг между двумя местами поиска для сопоставления блоков. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 1 до 64. Чем меньше, тем медленнее.
</font></font></p>
</dd>
<dt><samp><code>thmse</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог среднеквадратичной ошибки для сопоставления блоков. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до INT32_MAX.
</font></font></p>
</dd>
<dt><samp><code>hdthr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите параметр порогового значения для жесткого порогового значения в области 3D-преобразования. </font><font style="vertical-align: inherit;">Большие значения приводят к более сильной жесткой пороговой фильтрации в частотной области.
</font></font></p>
</dd>
<dt><samp><code>estim</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим оценки фильтрации. </font><font style="vertical-align: inherit;">Можно </font></font><code>basic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>final</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>basic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>ref</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если этот параметр включен, фильтр будет использовать второй поток для сопоставления блоков. </font><font style="vertical-align: inherit;">По умолчанию отключено для </font></font><code>basic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения </font></font><var><code>estim</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметра и всегда включено, если значение </font></font><var><code>estim</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно </font></font><code>final</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите самолеты для фильтрации. </font><font style="vertical-align: inherit;">По умолчанию доступны все, кроме альфа.
</font></font></p></dd>
</dl>

<span id="Examples-45"></span><h4 class="subsection"><a href="#toc-Examples-45"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.16.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Базовая фильтрация с bm3d:
</font></font><div class="example">
<pre class="example"><code>bm3d=sigma=3:block=4:bstep=2:group=1:estim=basic
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с фильтрацией только яркости:
</font></font><div class="example">
<pre class="example"><code>bm3d=sigma=3:block=4:bstep=2:group=1:estim=basic:planes=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с обоими режимами оценки:
</font></font><div class="example">
<pre class="example"><code>split[a][b],[a]bm3d=sigma=3:block=4:bstep=2:group=1:estim=basic[a],[b][a]bm3d=sigma=3:block=4:bstep=2:group=16:estim=final:ref=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но вместо этого используйте предварительный фильтр с фильтром </font></font><a href="#nlmeans"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nlmeans</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :
</font></font><div class="example">
<pre class="example"><code>split[a][b],[a]nlmeans=s=3:r=7:p=3[a],[b][a]bm3d=sigma=3:block=4:bstep=2:group=16:estim=final:ref=1
</code></pre></div>
</li></ul>

<span id="boxblur"></span><h3 class="section"><code><a href="#toc-boxblur">11.17 boxblur</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените алгоритм boxblur к входному видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_radius, lr</code></samp></dt>
<dt><samp><code>luma_power, lp</code></samp></dt>
<dt><samp><code>chroma_radius, cr</code></samp></dt>
<dt><samp><code>chroma_power, cp</code></samp></dt>
<dt><samp><code>alpha_radius, ar</code></samp></dt>
<dt><samp><code>alpha_power, ap</code></samp></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_radius, lr</code></samp></dt>
<dt><samp><code>chroma_radius, cr</code></samp></dt>
<dt><samp><code>alpha_radius, ar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение для радиуса окна в пикселях, используемого для размытия соответствующей входной плоскости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение радиуса должно быть неотрицательным числом и не должно превышать значение выражения </font></font><code>min(w,h)/2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для плоскостей яркости и альфа, а </font></font><code>min(cw,ch)/2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также для плоскостей цветности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для</font></font><samp><code>luma_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это "2". </font><font style="vertical-align: inherit;">Если не указано,
</font></font><samp><code>chroma_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>alpha_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">по умолчанию соответствует соответствующему набору значений для</font></font><samp><code>luma_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения могут содержать следующие константы:
</font></font></p><dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота в пикселях.
</font></font></p>
</dd>
<dt><samp><code>cw</code></samp></dt>
<dt><samp><code>ch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота входного изображения цветности в пикселях.
</font></font></p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения подвыборки цветности по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>luma_power, lp</code></samp></dt>
<dt><samp><code>chroma_power, cp</code></samp></dt>
<dt><samp><code>alpha_power, ap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, сколько раз фильтр boxblur применяется к соответствующей плоскости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для</font></font><samp><code>luma_power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2. Если не указано,
</font></font><samp><code>chroma_power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>alpha_power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">по умолчанию соответствует соответствующему набору значений для</font></font><samp><code>luma_power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение 0 отключит эффект.
</font></font></p></dd>
</dl>

<span id="Examples-46"></span><h4 class="subsection"><a href="#toc-Examples-46"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.17.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр boxblur с яркостью, цветностью и альфа-радиусами, установленными на 2:
</font></font><div class="example">
<pre class="example"><code>boxblur=luma_radius=2:luma_power=1<font></font>
boxblur=2:1<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус яркости на 2, а радиус альфа-канала и цветности на 0:
</font></font><div class="example">
<pre class="example"><code>boxblur=2:1:cr=0:ar=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиусы яркости и цветности на долю размера видео:
</font></font><div class="example">
<pre class="example"><code>boxblur=luma_radius=min(h\,w)/10:luma_power=1:chroma_radius=min(cw\,ch)/10:chroma_power=1
</code></pre></div>
</li></ul>

<span id="bwdif"></span><h3 class="section"><code><a href="#toc-bwdif">11.18 bwdif</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсинг входного видео ("bwdif" означает "Фильтр деинтерлейсинга Боба Уивера").
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Адаптивный к движению деинтерлейсинг на основе yadif с использованием алгоритмов w3fdif и кубической интерполяции. </font><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим чересстрочной развертки для принятия. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, send_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите один кадр для каждого кадра.
</font></font></p></dd>
<dt><samp><code>1, send_field</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите по одному кадру для каждого поля.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>send_field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>parity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Четность поля изображения, предполагаемая для входного чересстрочного видео. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, tff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что верхнее поле является первым.
</font></font></p></dd>
<dt><samp><code>1, bff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что нижнее поле является первым.
</font></font></p></dd>
<dt><samp><code>-1, auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите автоматическое определение четности полей.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если чередование неизвестно или декодер не экспортирует эту информацию, сначала предполагается верхнее поле.
</font></font></p>
</dd>
<dt><samp><code>deint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие кадры следует деинтерлейсировать. </font><font style="vertical-align: inherit;">Принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, all</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсировать все кадры.
</font></font></p></dd>
<dt><samp><code>1, interlaced</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Только деинтерлейсные кадры, помеченные как чересстрочные.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="cas"></span><h3 class="section"><code><a href="#toc-cas">11.19 cas</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр Contrast Adaptive Sharpen к видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу заточки. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите самолеты для фильтрации. </font><font style="vertical-align: inherit;">Значение по умолчанию — фильтровать все плоскости, кроме альфа-плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-58"></span><h4 class="subsection"><a href="#toc-Commands-58"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.19.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="chromahold"></span><h3 class="section"><code><a href="#toc-chromahold">11.20 chromahold</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалить всю информацию о цвете для всех цветов, кроме определенного.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет, который не будет заменен нейтральной насыщенностью.
</font></font></p>
</dd>
<dt><samp><code>similarity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент сходства с вышеуказанным цветом. </font><font style="vertical-align: inherit;">0.01 соответствует только точному цвету ключа, а 1.0 соответствует всему.
</font></font></p>
</dd>
<dt><samp><code>blend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент смеси. </font><font style="vertical-align: inherit;">0.0 делает пиксели либо полностью серыми, либо вовсе не серыми. </font><font style="vertical-align: inherit;">Чем выше значение, тем лучше сохраняется цвет.
</font></font></p>
</dd>
<dt><samp><code>yuv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сигналы о том, что переданный цвет уже находится в формате YUV вместо RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Буквенные цвета, такие как «зеленый» или «красный», больше не имеют смысла, когда эта функция включена. </font><font style="vertical-align: inherit;">Это можно использовать для передачи точных значений YUV в виде шестнадцатеричных чисел.
</font></font></p></dd>
</dl>

<span id="Commands-59"></span><h4 class="subsection"><a href="#toc-Commands-59"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.20.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="chromakey"></span><span id="chromakey-1"></span><h3 class="section"><code><a href="#toc-chromakey-1">11.21 chromakey</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цветовая/хроматическая рирпроекция YUV.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет, который будет заменен прозрачностью.
</font></font></p>
</dd>
<dt><samp><code>similarity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент сходства с ключевым цветом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.01 соответствует только точному цвету ключа, а 1.0 соответствует всему.
</font></font></p>
</dd>
<dt><samp><code>blend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент смеси.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0 делает пиксели либо полностью прозрачными, либо непрозрачными вовсе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более высокие значения приводят к полупрозрачным пикселям, причем чем выше прозрачность, тем больше цвет пикселя похож на ключевой цвет.
</font></font></p>
</dd>
<dt><samp><code>yuv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сигналы о том, что переданный цвет уже находится в формате YUV вместо RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Буквенные цвета, такие как «зеленый» или «красный», больше не имеют смысла, когда эта функция включена. </font><font style="vertical-align: inherit;">Это можно использовать для передачи точных значений YUV в виде шестнадцатеричных чисел.
</font></font></p></dd>
</dl>

<span id="Commands-60"></span><h4 class="subsection"><a href="#toc-Commands-60"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.21.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="Examples-47"></span><h4 class="subsection"><a href="#toc-Examples-47"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.21.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте каждый зеленый пиксель во входном изображении прозрачным:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.png -vf chromakey=green out.png
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложение видео с зеленым экраном поверх статического черного фона.
</font></font><div class="example">
<pre class="example"><code>ffmpeg -f lavfi -i color=c=black:s=1280x720 -i video.mp4 -shortest -filter_complex "[1:v]chromakey=0x70de77:0.1:0.2[ckout];[0:v][ckout]overlay[out]" -map "[out]" output.mkv
</code></pre></div>
</li></ul>

<span id="chromakey_005fcuda"></span><h3 class="section"><code><a href="#toc-chromakey_005fcuda">11.22 chromakey_cuda</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUDA ускорила цветокоррекцию цветового пространства YUV.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр работает как обычный фильтр хромакея, но работает с кадрами CUDA. </font><font style="vertical-align: inherit;">подробнее и параметры см . в </font></font><a href="#chromakey"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">хромакей</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-48"></span><h4 class="subsection"><a href="#toc-Examples-48"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.22.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте все зеленые пиксели во входном видео прозрачными и используйте его как наложение для другого видео:

</font></font><div class="example">
<pre class="example"><code>./ffmpeg \<font></font>
    -hwaccel cuda -hwaccel_output_format cuda -i input_green.mp4  \<font></font>
    -hwaccel cuda -hwaccel_output_format cuda -i base_video.mp4 \<font></font>
    -init_hw_device cuda \<font></font>
    -filter_complex \<font></font>
    " \<font></font>
        [0:v]chromakey_cuda=0x25302D:0.1:0.12:1[overlay_video]; \<font></font>
        [1:v]scale_cuda=format=yuv420p[base]; \<font></font>
        [base][overlay_video]overlay_cuda" \<font></font>
    -an -sn -c:v h264_nvenc -cq 20 output.mp4<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обработайте два источника программного обеспечения, явно загружая кадры:

</font></font><div class="example">
<pre class="example"><code>./ffmpeg -init_hw_device cuda=cuda -filter_hw_device cuda \<font></font>
    -f lavfi -i color=size=800x600:color=white,format=yuv420p \<font></font>
    -f lavfi -i yuvtestsrc=size=200x200,format=yuv420p \<font></font>
    -filter_complex \<font></font>
    " \<font></font>
        [0]hwupload[under]; \<font></font>
        [1]hwupload,chromakey_cuda=green:0.1:0.12[over]; \<font></font>
        [under][over]overlay_cuda" \<font></font>
    -c:v hevc_nvenc -cq 18 -preset slow output.mp4<font></font>
</code></pre></div>

</li></ul>

<span id="chromanr"></span><h3 class="section"><code><a href="#toc-chromanr">11.23 chromanr</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите цветной шум.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>thres</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог для усреднения значений цветности. </font><font style="vertical-align: inherit;">При усреднении будет использована сумма абсолютной разности компонентов пикселей Y, U и V текущего пикселя и соседних пикселей ниже этого порога. </font><font style="vertical-align: inherit;">Компонент Luma остается без изменений и копируется в вывод. </font><font style="vertical-align: inherit;">Значение по умолчанию — 30. Допустимый диапазон — от 1 до 200.
</font></font></p>
</dd>
<dt><samp><code>sizew</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите горизонтальный радиус прямоугольника, используемого для усреднения. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 100. Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>sizeh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вертикальный радиус прямоугольника, используемого для усреднения. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 100. Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>stepw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить шаг по горизонтали при усреднении. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Допустимый диапазон — от 1 до 50. В основном полезно для ускорения фильтрации.
</font></font></p>
</dd>
<dt><samp><code>steph</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вертикальный шаг при усреднении. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Допустимый диапазон — от 1 до 50. В основном полезно для ускорения фильтрации.
</font></font></p>
</dd>
<dt><samp><code>threy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговое значение Y для усреднения значений цветности. </font><font style="vertical-align: inherit;">Установите более точное управление максимально допустимой разницей между компонентами Y текущего пикселя и соседними пикселями. </font><font style="vertical-align: inherit;">Значение по умолчанию — 200. Допустимый диапазон — от 1 до 200.
</font></font></p>
</dd>
<dt><samp><code>threu</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговое значение U для усреднения значений цветности. </font><font style="vertical-align: inherit;">Установите более точное управление максимально допустимой разницей между компонентами U текущего пикселя и соседними пикселями. </font><font style="vertical-align: inherit;">Значение по умолчанию — 200. Допустимый диапазон — от 1 до 200.
</font></font></p>
</dd>
<dt><samp><code>threv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговое значение V для усреднения значений цветности. </font><font style="vertical-align: inherit;">Установите более точное управление максимально допустимой разницей между компонентами V текущего пикселя и соседними пикселями. </font><font style="vertical-align: inherit;">Значение по умолчанию — 200. Допустимый диапазон — от 1 до 200.
</font></font></p>
</dd>
<dt><samp><code>distance</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип расстояния, используемый в расчетах.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>manhattan</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Абсолютная разница.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>euclidean</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разница в квадрате.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип расстояния по умолчанию — манхэттен.
</font></font></p></dd>
</dl>

<span id="Commands-61"></span><h4 class="subsection"><a href="#toc-Commands-61"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.23.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<span id="chromashift"></span><h3 class="section"><code><a href="#toc-chromashift">11.24 chromashift</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сдвиг пикселей цветности по горизонтали и/или вертикали.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>cbh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину для смещения синего цвета по горизонтали.
</font></font></p></dd>
<dt><samp><code>cbv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения цветно-синего цвета по вертикали.
</font></font></p></dd>
<dt><samp><code>crh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения цветного красного по горизонтали.
</font></font></p></dd>
<dt><samp><code>crv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения хрома-красного по вертикали.
</font></font></p></dd>
<dt><samp><code>edge</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить граничный режим, может быть </font></font><var><code>smear</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по умолчанию или </font></font><var><code>warp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-62"></span><h4 class="subsection"><a href="#toc-Commands-62"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.24.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="ciescope"></span><h3 class="section"><code><a href="#toc-ciescope">11.25 ciescope</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите цветовую диаграмму CIE с наложенными на нее пикселями.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>system</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовую систему.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ntsc, 470m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ebu, 470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>apple</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>widergb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cie1931</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rec709, hdtv</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>uhdtv, rec2020</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dcip3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>cie</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите систему CIE.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>xyy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ucs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>luv</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>gamuts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие гаммы рисовать.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. </font></font><code>system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции для доступных значений.
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер ciescope, по умолчанию установлено значение 512.
</font></font></p>
</dd>
<dt><samp><code>intensity, i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите интенсивность, используемую для сопоставления значений входных пикселей с диаграммой CIE.
</font></font></p>
</dd>
<dt><samp><code>contrast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите контрастность, используемую для рисования языковых цветов, которые не входят в гамму активной цветовой системы.
</font></font></p>
</dd>
<dt><samp><code>corrgamma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Корректная гамма, отображаемая на прицеле, по умолчанию включена.
</font></font></p>
</dd>
<dt><samp><code>showwhite</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показывать белую точку на диаграмме CIE, по умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>gamma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входную гамму. </font><font style="vertical-align: inherit;">Используется только с входным цветовым пространством XYZ.
</font></font></p>
</dd>
<dt><samp><code>fill</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Залейте цветами CIE. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p></dd>
</dl>

<span id="codecview"></span><h3 class="section"><code><a href="#toc-codecview">11.26 codecview</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Визуализировать информацию, экспортируемую некоторыми кодеками.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые кодеки могут экспортировать информацию через кадры, используя дополнительные данные или другие средства. </font><font style="vertical-align: inherit;">Например, некоторые кодеки на основе MPEG экспортируют векторы движения через
 </font></font><var><code>export_mvs</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">флаг в кодеке</font></font><samp><code>flags2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>block</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите структуру раздела блока, используя плоскость яркости.
</font></font></p>
</dd>
<dt><samp><code>mv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите векторы движения для визуализации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные флаги для </font></font><var><code>mv</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предсказанные вперед MV P-кадров
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предсказанные вперед MV B-кадров
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предсказанные назад MV B-кадров
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите параметры квантования с помощью плоскостей цветности.
</font></font></p>
</dd>
<dt><samp><code>mv_type, mvt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип векторов движения для визуализации. </font><font style="vertical-align: inherit;">Включает MV из всех кадров, если не указано в </font></font><var><code>frame_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные флаги для </font></font><var><code>mv_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предсказанные вперед MV
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MV с обратным предсказанием
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>frame_type, ft</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип кадра для визуализации векторов движения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные флаги для </font></font><var><code>frame_type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>if</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадры с внутренним кодированием (I-кадры)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предсказанные кадры (P-кадры)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">двунаправленно предсказанные кадры (B-кадры)
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Examples-49"></span><h4 class="subsection"><a href="#toc-Examples-49"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.26.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Визуализируйте предсказанные вперед MV всех кадров, используя </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffplay -flags2 +export_mvs input.mp4 -vf codecview=mv_type=fp
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Визуализируйте разнонаправленные MV P и B-кадров, используя </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffplay -flags2 +export_mvs input.mp4 -vf codecview=mv=pf+bf+bb
</code></pre></div>
</li></ul>

<span id="colorbalance"></span><h3 class="section"><code><a href="#toc-colorbalance">11.27 colorbalance</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените интенсивность основных цветов (красный, зеленый и синий) входных кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр позволяет настроить входной кадр в областях теней, средних тонов или светлых участков для баланса красного-голубого, зеленого-пурпурного или сине-желтого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Положительное значение корректировки смещает баланс в сторону основного цвета, отрицательное значение — в сторону дополнительного цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rs</code></samp></dt>
<dt><samp><code>gs</code></samp></dt>
<dt><samp><code>bs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте красные, зеленые и синие тени (самые темные пиксели).
</font></font></p>
</dd>
<dt><samp><code>rm</code></samp></dt>
<dt><samp><code>gm</code></samp></dt>
<dt><samp><code>bm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте средние тона красного, зеленого и синего (средние пиксели).
</font></font></p>
</dd>
<dt><samp><code>rh</code></samp></dt>
<dt><samp><code>gh</code></samp></dt>
<dt><samp><code>bh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте красные, зеленые и синие блики (самые яркие пиксели).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Допустимые диапазоны параметров: </font></font><code>[-1.0, 1.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значения по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>pl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте легкость при изменении цветового баланса. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p></dd>
</dl>

<span id="Examples-50"></span><h4 class="subsection"><a href="#toc-Examples-50"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.27.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте красный оттенок теням:
</font></font><div class="example">
<pre class="example"><code>colorbalance=rs=.3
</code></pre></div>
</li></ul>

<span id="Commands-63"></span><h4 class="subsection"><a href="#toc-Commands-63"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.27.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="colorcontrast"></span><h3 class="section"><code><a href="#toc-colorcontrast">11.28 colorcontrast</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте цветовой контраст между компонентами RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите красно-голубой контраст. </font><font style="vertical-align: inherit;">По умолчанию 0.0. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0.
</font></font></p>
</dd>
<dt><samp><code>gm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите зелено-пурпурный контраст. </font><font style="vertical-align: inherit;">По умолчанию 0.0. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0.
</font></font></p>
</dd>
<dt><samp><code>by</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сине-желтый контраст. </font><font style="vertical-align: inherit;">По умолчанию 0.0. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0.
</font></font></p>
</dd>
<dt><samp><code>rcw</code></samp></dt>
<dt><samp><code>gmw</code></samp></dt>
<dt><samp><code>byw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вес каждого значения параметра </font></font><code>rc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>gm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>by</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,0. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0. </font><font style="vertical-align: inherit;">Если все веса равны 0,0, фильтрация отключена.
</font></font></p>
</dd>
<dt><samp><code>pl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите степень сохранения легкости. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,0. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0.
</font></font></p></dd>
</dl>

<span id="Commands-64"></span><h4 class="subsection"><a href="#toc-Commands-64"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.28.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="colorcorrect"></span><h3 class="section"><code><a href="#toc-colorcorrect">11.29 colorcorrect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выборочная регулировка цветового баланса белого для черного и белого цветов. </font><font style="vertical-align: inherit;">Этот фильтр работает в цветовом пространстве YUV.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите красную точку тени. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>bl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите синюю точку тени. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>rh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите красную точку выделения. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>bh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите красную точку выделения. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>saturation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень насыщенности. </font><font style="vertical-align: inherit;">Допустимый диапазон от -3,0 до 3,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>analyze</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено что-либо, кроме </font></font><code>manual</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">этого, будет анализироваться каждый кадр и использоваться производные параметры для фильтрации выходного кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>manual</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>average</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>minmax</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>median</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>manual</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-65"></span><h4 class="subsection"><a href="#toc-Commands-65"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.29.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="colorchannelmixer"></span><h3 class="section"><code><a href="#toc-colorchannelmixer">11.30 colorchannelmixer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте кадры видеовхода, повторно микшируя цветовые каналы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр изменяет цветовой канал, добавляя значения, связанные с другими каналами тех же пикселей. </font><font style="vertical-align: inherit;">Например, если значение для изменения красное, выходное значение будет:
</font></font></p><div class="example">
<pre class="example"><code><var><code>red</code></var>=<var><code>red</code></var>*<var><code>rr</code></var> + <var><code>blue</code></var>*<var><code>rb</code></var> + <var><code>green</code></var>*<var><code>rg</code></var> + <var><code>alpha</code></var>*<var><code>ra</code></var>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rr</code></samp></dt>
<dt><samp><code>rg</code></samp></dt>
<dt><samp><code>rb</code></samp></dt>
<dt><samp><code>ra</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте вклад входных красного, зеленого, синего и альфа-каналов для выходного красного канала. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>rr</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>rg</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>rb</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>ra</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>gr</code></samp></dt>
<dt><samp><code>gg</code></samp></dt>
<dt><samp><code>gb</code></samp></dt>
<dt><samp><code>ga</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте вклад входных красного, зеленого, синего и альфа-каналов для выходного зеленого канала. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>gg</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>gr</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>gb</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>ga</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>br</code></samp></dt>
<dt><samp><code>bg</code></samp></dt>
<dt><samp><code>bb</code></samp></dt>
<dt><samp><code>ba</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте вклад входных красного, зеленого, синего и альфа-каналов для выходного синего канала. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>bb</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>br</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>bg</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>ba</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>ar</code></samp></dt>
<dt><samp><code>ag</code></samp></dt>
<dt><samp><code>ab</code></samp></dt>
<dt><samp><code>aa</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте вклад входных красного, зеленого, синего и альфа-каналов для выходного альфа-канала. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>aa</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>ar</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>ag</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>ab</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Допустимые диапазоны параметров: </font></font><code>[-2.0, 2.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>pc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим сохранения цвета. </font><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключите сохранение цвета, это значение по умолчанию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lum</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте яркость.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>max</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраните максимальное значение триплета RGB.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>avg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранить среднее значение триплета RGB.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sum</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранить суммарное значение триплета RGB.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nrm</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранить нормализованное значение триплета RGB.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pwr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранение значения мощности триплета RGB.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>pa</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество сохраняемого цвета при смене цветов. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>[0.0, 1.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, поэтому отключено.
</font></font></p></dd>
</dl>

<span id="Examples-51"></span><h4 class="subsection"><a href="#toc-Examples-51"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.30.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование источника в оттенки серого:
</font></font><div class="example">
<pre class="example"><code>colorchannelmixer=.3:.4:.3:0:.3:.4:.3:0:.3:.4:.3
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имитация тонов сепии:
</font></font><div class="example">
<pre class="example"><code>colorchannelmixer=.393:.769:.189:0:.349:.686:.168:0:.272:.534:.131
</code></pre></div>
</li></ul>

<span id="Commands-66"></span><h4 class="subsection"><a href="#toc-Commands-66"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.30.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="colorize"></span><h3 class="section"><code><a href="#toc-colorize">11.31 colorize</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложение сплошного цвета на видеопоток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>hue</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите оттенок цвета. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 360. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>saturation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите насыщенность цвета. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0,5.
</font></font></p>
</dd>
<dt><samp><code>lightness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите яркость цвета. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0,5.
</font></font></p>
</dd>
<dt><samp><code>mix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите смесь исходной яркости. </font><font style="vertical-align: inherit;">По умолчанию установлено значение 1.0. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0.
</font></font></p></dd>
</dl>

<span id="Commands-67"></span><h4 class="subsection"><a href="#toc-Commands-67"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.31.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="colorkey"></span><h3 class="section"><code><a href="#toc-colorkey">11.32 colorkey</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цветовая манипуляция цветового пространства RGB. </font><font style="vertical-align: inherit;">Этот фильтр работает с кадрами 8-битного формата RGB, устанавливая альфа-компонент каждого пикселя, попадающего в радиус сходства ключевого цвета, на 0. Значение альфа-канала для пикселей вне радиуса подобия зависит от значения параметра наложения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет, для которого альфа будет установлена &ZeroWidthSpace;&ZeroWidthSpace;на 0 (полная прозрачность). </font><font style="vertical-align: inherit;">См. </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">раздел (ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>black</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>similarity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус от ключевого цвета, в пределах которого другие цвета также имеют полную прозрачность. </font><font style="vertical-align: inherit;">Вычисленное расстояние связано с дробной единицей расстояния в трехмерном пространстве между значениями RGB ключевого цвета и цветом пикселя. </font><font style="vertical-align: inherit;">Диапазон от 0,01 до 1,0. </font><font style="vertical-align: inherit;">0,01 соответствует очень маленькому радиусу вокруг точного ключевого цвета, а 1,0 соответствует всему. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>blend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, как вычисляется альфа-значение для пикселей, выходящих за пределы радиуса подобия. </font><font style="vertical-align: inherit;">0.0 делает пиксели либо полностью прозрачными, либо полностью непрозрачными. </font><font style="vertical-align: inherit;">Более высокие значения приводят к полупрозрачным пикселям, при этом прозрачность тем больше, чем больше цвет пикселя похож на ключевой цвет. </font><font style="vertical-align: inherit;">Диапазон от 0,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-52"></span><h4 class="subsection"><a href="#toc-Examples-52"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.32.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте каждый зеленый пиксель во входном изображении прозрачным:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.png -vf colorkey=green out.png
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложение видео с зеленым экраном поверх статического фонового изображения.
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i background.png -i video.mp4 -filter_complex "[1:v]colorkey=0x3BBD1E:0.3:0.2[ckout];[0:v][ckout]overlay[out]" -map "[out]" output.flv
</code></pre></div>
</li></ul>

<span id="Commands-68"></span><h4 class="subsection"><a href="#toc-Commands-68"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.32.2 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="colorhold"></span><h3 class="section"><code><a href="#toc-colorhold">11.33 colorhold</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите всю информацию о цвете для всех цветов RGB, кроме определенного.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет, который нельзя заменить нейтральным серым.
</font></font></p>
</dd>
<dt><samp><code>similarity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент сходства с вышеуказанным цветом. </font><font style="vertical-align: inherit;">0.01 соответствует только точному цвету ключа, а 1.0 соответствует всему.
</font></font></p>
</dd>
<dt><samp><code>blend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент смеси. </font><font style="vertical-align: inherit;">0.0 делает пиксели полностью серыми. </font><font style="vertical-align: inherit;">Чем выше значение, тем лучше сохраняется цвет.
</font></font></p></dd>
</dl>

<span id="Commands-69"></span><h4 class="subsection"><a href="#toc-Commands-69"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.33.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="colorlevels"></span><h3 class="section"><code><a href="#toc-colorlevels">11.34 colorlevels</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте кадры видеовхода с помощью уровней.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rimin</code></samp></dt>
<dt><samp><code>gimin</code></samp></dt>
<dt><samp><code>bimin</code></samp></dt>
<dt><samp><code>aimin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте красную, зеленую, синюю и альфа-входную точку черного. </font><font style="vertical-align: inherit;">Допустимые диапазоны параметров: </font></font><code>[-1.0, 1.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значения по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rimax</code></samp></dt>
<dt><samp><code>gimax</code></samp></dt>
<dt><samp><code>bimax</code></samp></dt>
<dt><samp><code>aimax</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте красную, зеленую, синюю и альфа-входную точку белого. </font><font style="vertical-align: inherit;">Допустимые диапазоны параметров: </font></font><code>[-1.0, 1.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значения по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уровни ввода используются для осветления бликов (яркие тона), затемнения теней (темные тона), изменения баланса ярких и темных тонов.
</font></font></p>
</dd>
<dt><samp><code>romin</code></samp></dt>
<dt><samp><code>gomin</code></samp></dt>
<dt><samp><code>bomin</code></samp></dt>
<dt><samp><code>aomin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте красную, зеленую, синюю и альфа-выходную точку черного. </font><font style="vertical-align: inherit;">Допустимые диапазоны параметров: </font></font><code>[0, 1.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значения по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>romax</code></samp></dt>
<dt><samp><code>gomax</code></samp></dt>
<dt><samp><code>bomax</code></samp></dt>
<dt><samp><code>aomax</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте красную, зеленую, синюю и альфа-белую точку вывода. </font><font style="vertical-align: inherit;">Допустимые диапазоны параметров: </font></font><code>[0, 1.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значения по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходные уровни позволяют вручную выбрать ограниченный диапазон выходных уровней.
</font></font></p>
</dd>
<dt><samp><code>preserve</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим сохранения цвета. </font><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключите сохранение цвета, это значение по умолчанию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lum</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте яркость.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>max</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраните максимальное значение триплета RGB.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>avg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранить среднее значение триплета RGB.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sum</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранить суммарное значение триплета RGB.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nrm</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранить нормализованное значение триплета RGB.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pwr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранение значения мощности триплета RGB.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Examples-53"></span><h4 class="subsection"><a href="#toc-Examples-53"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.34.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте видеовыход темнее:
</font></font><div class="example">
<pre class="example"><code>colorlevels=rimin=0.058:gimin=0.058:bimin=0.058
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличить контраст:
</font></font><div class="example">
<pre class="example"><code>colorlevels=rimin=0.039:gimin=0.039:bimin=0.039:rimax=0.96:gimax=0.96:bimax=0.96
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте видеовыход светлее:
</font></font><div class="example">
<pre class="example"><code>colorlevels=rimax=0.902:gimax=0.902:bimax=0.902
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличить яркость:
</font></font><div class="example">
<pre class="example"><code>colorlevels=romin=0.5:gomin=0.5:bomin=0.5
</code></pre></div>
</li></ul>

<span id="Commands-70"></span><h4 class="subsection"><a href="#toc-Commands-70"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.34.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="colormap"></span><h3 class="section"><code><a href="#toc-colormap">11.35 colormap</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применение пользовательских цветовых карт к видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для этого фильтра требуется три входных видеопотока. </font><font style="vertical-align: inherit;">Первый поток — это видеопоток, который будет отфильтрован. </font><font style="vertical-align: inherit;">Второй и третий видеопоток задают цветовые патчи для сопоставления исходного цвета с целевым цветом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>patch_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер патча исходного и целевого видеопотока в пикселях.
</font></font></p>
</dd>
<dt><samp><code>nb_patches</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество используемых патчей из исходного и целевого видеопотока. </font><font style="vertical-align: inherit;">Значение по умолчанию — количество патчей, доступных в дополнительных видеопотоках. </font><font style="vertical-align: inherit;">Максимально допустимое количество патчей </font></font><code>64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите настройки, используемые для целевых цветов. </font><font style="vertical-align: inherit;">Можно </font></font><code>relative</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>absolute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><code>absolute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>kernel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ядро, используемое для измерения цветовых различий между отображаемыми цветами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>euclidean</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>weuclidean</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>euclidean</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="colormatrix"></span><h3 class="section"><code><a href="#toc-colormatrix">11.36 colormatrix</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование цветовой матрицы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>src</code></samp></dt>
<dt><samp><code>dst</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите исходную и конечную цветовую матрицу. </font><font style="vertical-align: inherit;">Оба значения должны быть указаны.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.709
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fcc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ФКК
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt601</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.601
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.470
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.470БГ
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-170М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-240М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.2020
</font></font></p></dd>
</dl>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы преобразовать BT.601 в SMPTE-240M, используйте команду:
</font></font></p><div class="example">
<pre class="example"><code>colormatrix=bt601:smpte240m
</code></pre></div>

<span id="colorspace"></span><h3 class="section"><code><a href="#toc-colorspace">11.37 colorspace</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование цветового пространства, передача характеристик или основных цветов. </font><font style="vertical-align: inherit;">Входное видео должно иметь четный размер.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dd><span id="all"></span></dd>
<dt><samp><code>all</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите сразу все свойства цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.470М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.470БГ
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt601-6-525</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.601-6 525
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt601-6-625</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.601-6 625
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.709
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-170М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-240М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.2020
</font></font></p>
</dd>
</dl>

<span id="space"></span></dd>
<dt><samp><code>space</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите выходное цветовое пространство.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.709
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fcc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ФКК
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BT.470BG или BT.601-6 625
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-170М или БТ.601-6 525
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-240М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ycgco</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YCgCo
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020ncl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BT.2020 с непостоянной яркостью
</font></font></p>
</dd>
</dl>

<span id="trc"></span></dd>
<dt><samp><code>trc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте выходные передаточные характеристики.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.709
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.470М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.470БГ
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gamma22</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Постоянная гамма 2,2
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gamma28</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Постоянная гамма 2,8
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-170М, ВТ.601-6 625 или ВТ.601-6 525
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-240М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>srgb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СРГБ
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>iec61966-2-1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iec61966-2-1
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>iec61966-2-4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iec61966-2-4
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>xvycc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xvycc
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020-10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BT.2020 для 10-битного контента
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020-12</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BT.2020 для 12-битного контента
</font></font></p>
</dd>
</dl>

<span id="primaries"></span></dd>
<dt><samp><code>primaries</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите основные цвета выходного цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.709
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.470М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BT.470BG или BT.601-6 625
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-170М или БТ.601-6 525
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-240М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>film</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильм
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte431</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЕ-431
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte432</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЕ-432
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.2020
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>jedec-p22</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Люминофоры JEDEC P22
</font></font></p>
</dd>
</dl>

<span id="range"></span></dd>
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите выходной цветовой диапазон.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tv</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ТВ (ограниченный) диапазон
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mpeg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MPEG (ограниченный) диапазон
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ПК (полный) ассортимент
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>jpeg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JPEG (полный) диапазон
</font></font></p>
</dd>
</dl>

</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите формат выходного цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv420p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:2:0 планарный 8-бит
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv420p10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:2:0 планарный 10 бит
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv420p12</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:2:0 планарный 12-бит
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv422p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:2:2 планарный 8-бит
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv422p10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:2:2 планарный 10-бит
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv422p12</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:2:2 планарный 12-бит
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv444p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:4:4 планарный 8-битный
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv444p10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:4:4 планарный 10-битный
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv444p12</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YUV 4:4:4 планарный 12-бит
</font></font></p>
</dd>
</dl>

</dd>
<dt><samp><code>fast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте быстрое преобразование, которое пропускает гамма/основную коррекцию. </font><font style="vertical-align: inherit;">Это потребует значительно меньше ресурсов процессора, но будет математически неправильным. </font><font style="vertical-align: inherit;">Чтобы получить вывод, совместимый с результатом, полученным фильтром цветовой матрицы, используйте fast=1.
</font></font></p>
</dd>
<dt><samp><code>dither</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите режим дизеринга.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нет дизеринга
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fsb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дизеринг Флойда-Стейнберга
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>wpadapt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим адаптации точки белого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bradford</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Адаптация Брэдфорда уайтпойнта
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vonkries</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">адаптация белой точки фон Криса
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>identity</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">идентичность адаптации точки белого (т. е. без адаптации точки белого)
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>iall</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переопределить все входные свойства сразу. </font><font style="vertical-align: inherit;">Те же допустимые значения, что и для </font></font><a href="#all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">всех</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>ispace</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переопределить входное цветовое пространство. </font><font style="vertical-align: inherit;">Те же допустимые значения, что и </font></font><a href="#space"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пробел</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>iprimaries</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переопределить основные цвета ввода. </font><font style="vertical-align: inherit;">Те же допустимые значения, что и для </font></font><a href="#primaries"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">основных</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>itrc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переопределить входные передаточные характеристики. </font><font style="vertical-align: inherit;">Те же допустимые значения, что и </font></font><a href="#trc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>irange</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переопределить диапазон цветов ввода. </font><font style="vertical-align: inherit;">Те же допустимые значения, что и для </font></font><a href="#range"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">range</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр преобразует характеристики передачи, цветовое пространство и основные цвета в указанные пользователем значения. </font><font style="vertical-align: inherit;">Выходное значение, если оно не указано, устанавливается на значение по умолчанию на основе свойства «все». </font><font style="vertical-align: inherit;">Если это свойство также не указано, фильтр зарегистрирует ошибку. </font><font style="vertical-align: inherit;">Выходной цветовой диапазон и формат по умолчанию имеют то же значение, что и входной цветовой диапазон и формат. </font><font style="vertical-align: inherit;">Входные характеристики передачи, цветовое пространство, основные цвета и цветовой диапазон должны быть установлены для входных данных. </font><font style="vertical-align: inherit;">Если какой-либо из них отсутствует, фильтр зарегистрирует ошибку, и преобразование не произойдет.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы преобразовать ввод в SMPTE-240M, используйте команду:
</font></font></p><div class="example">
<pre class="example"><code>colorspace=smpte240m
</code></pre></div>

<span id="colortemperature"></span><h3 class="section"><code><a href="#toc-colortemperature">11.38 colortemperature</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте цветовую температуру в видео, чтобы имитировать изменения цветовой температуры окружающей среды.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>temperature</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите температуру в Кельвинах. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1000 до 40000. Значение по умолчанию 6500 К.
</font></font></p>
</dd>
<dt><samp><code>mix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите микширование с отфильтрованным выходом. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>pl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите степень сохранения легкости. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0.
</font></font></p></dd>
</dl>

<span id="Commands-71"></span><h4 class="subsection"><a href="#toc-Commands-71"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.38.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="convolution"></span><h3 class="section"><code><a href="#toc-convolution">11.39 convolution</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применяйте свертки 3x3, 5x5, 7x7 или горизонтально/вертикально до 49 элементов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0m</code></samp></dt>
<dt><samp><code>1m</code></samp></dt>
<dt><samp><code>2m</code></samp></dt>
<dt><samp><code>3m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите матрицу для каждой плоскости. </font><font style="vertical-align: inherit;">Матрица представляет собой последовательность из 9, 25 или 49 целых чисел со знаком в </font></font><var><code>square</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме и от 1 до 49 нечетных целых чисел со знаком в </font></font><var><code>row</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме.
</font></font></p>
</dd>
<dt><samp><code>0rdiv</code></samp></dt>
<dt><samp><code>1rdiv</code></samp></dt>
<dt><samp><code>2rdiv</code></samp></dt>
<dt><samp><code>3rdiv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите множитель для расчетного значения для каждой плоскости. </font><font style="vertical-align: inherit;">Если не установлено или равно 0, это будет сумма всех элементов матрицы.
</font></font></p>
</dd>
<dt><samp><code>0bias</code></samp></dt>
<dt><samp><code>1bias</code></samp></dt>
<dt><samp><code>2bias</code></samp></dt>
<dt><samp><code>3bias</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите смещение для каждой плоскости. </font><font style="vertical-align: inherit;">Это значение добавляется к результату умножения. </font><font style="vertical-align: inherit;">Полезно для того, чтобы сделать общее изображение ярче или темнее. </font><font style="vertical-align: inherit;">По умолчанию 0,0.
</font></font></p>
</dd>
<dt><samp><code>0mode</code></samp></dt>
<dt><samp><code>1mode</code></samp></dt>
<dt><samp><code>2mode</code></samp></dt>
<dt><samp><code>3mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите матричный режим для каждой плоскости. </font><font style="vertical-align: inherit;">Можно </font><font style="vertical-align: inherit;">или </font><font style="vertical-align: inherit;">. </font></font><var><code>square</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_ </font><font style="vertical-align: inherit;">Значение по умолчанию </font><font style="vertical-align: inherit;">.
</font></font><var><code>row</code></var><font style="vertical-align: inherit;"></font><var><code>column</code></var><font style="vertical-align: inherit;"></font><var><code>square</code></var><font style="vertical-align: inherit;"></font></p></dd>
</dl>

<span id="Commands-72"></span><h4 class="subsection"><a href="#toc-Commands-72"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.39.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-54"></span><h4 class="subsection"><a href="#toc-Examples-54"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.39.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить резкость:
</font></font><div class="example">
<pre class="example"><code>convolution="0 -1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0 -1 0"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить размытие:
</font></font><div class="example">
<pre class="example"><code>convolution="1 1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1 1:1/9:1/9:1/9:1/9"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить усиление краев:
</font></font><div class="example">
<pre class="example"><code>convolution="0 0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:5:1:1:1:0:128:128:128"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить обнаружение края:
</font></font><div class="example">
<pre class="example"><code>convolution="0 1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:5:5:5:1:0:128:128:128"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените лапласианский детектор границ, который включает диагонали:
</font></font><div class="example">
<pre class="example"><code>convolution="1 1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:5:5:5:1:0:128:128:0"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить тиснение:
</font></font><div class="example">
<pre class="example"><code>convolution="-2 -1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2"
</code></pre></div>
</li></ul>

<span id="convolve"></span><h3 class="section"><code><a href="#toc-convolve">11.40 convolve</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените 2D-свертку видеопотока в частотной области, используя второй поток в качестве импульса.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости обрабатывать.
</font></font></p>
</dd>
<dt><samp><code>impulse</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить, какие импульсные видеокадры будут обрабатываться, можно </font></font><var><code>first</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
или </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>convolve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="copy"></span><h3 class="section"><code><a href="#toc-copy">11.41 copy</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скопируйте источник входного видео без изменений на выход. </font><font style="vertical-align: inherit;">В основном это полезно для целей тестирования.
</font></font></p>
<span id="coreimage"></span><span id="coreimage-1"></span><h3 class="section"><code><a href="#toc-coreimage-1">11.42 coreimage</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтрация видео на графическом процессоре с использованием Apple CoreImage API на OSX.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аппаратное ускорение основано на контексте OpenGL. </font><font style="vertical-align: inherit;">Обычно это означает, что он обрабатывается видеооборудованием. </font><font style="vertical-align: inherit;">Однако существуют программные реализации OpenGL, что означает отсутствие гарантии аппаратной обработки. </font><font style="vertical-align: inherit;">Это зависит от соответствующей OSX.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apple предлагает множество фильтров и генераторов изображений с широким набором опций. </font><font style="vertical-align: inherit;">На фильтр нужно ссылаться по его имени вместе с его параметрами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр coreimage принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>list_filters</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перечислите все доступные фильтры и генераторы вместе со всеми их соответствующими параметрами, а также возможные минимальные и максимальные значения вместе со значениями по умолчанию.
</font></font></p><div class="example">
<pre class="example"><code>list_filters=true
</code></pre></div>

</dd>
<dt><samp><code>filter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите все фильтры по их имени и параметрам. </font><font style="vertical-align: inherit;">Используется </font></font><var><code>list_filters</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для определения всех допустимых имен и параметров фильтров. </font><font style="vertical-align: inherit;">Числовые параметры задаются значением с плавающей запятой и автоматически фиксируются в соответствующем диапазоне значений. </font><font style="vertical-align: inherit;">Параметры вектора и цвета должны быть указаны списком значений с плавающей запятой, разделенных пробелами. </font><font style="vertical-align: inherit;">Необходимо выполнить экранирование персонажа. </font><font style="vertical-align: inherit;">Доступно специальное имя параметра </font></font><code>default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для использования параметров по умолчанию для фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Необходимо указать один </font></font><code>default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или хотя бы один из параметров фильтра. </font><font style="vertical-align: inherit;">Все пропущенные параметры используются со значениями по умолчанию. </font><font style="vertical-align: inherit;">Синтаксис строки фильтра следующий:
</font></font></p><div class="example">
<pre class="example"><code>filter=&lt;NAME&gt;@&lt;OPTION&gt;=&lt;VALUE&gt;[@&lt;OPTION&gt;=&lt;VALUE&gt;][@...][#&lt;NAME&gt;@&lt;OPTION&gt;=&lt;VALUE&gt;[@&lt;OPTION&gt;=&lt;VALUE&gt;][@...]][#...]
</code></pre></div>

</dd>
<dt><samp><code>output_rect</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте прямоугольник, где выходные данные цепочки фильтров копируются во входное изображение. </font><font style="vertical-align: inherit;">Он задается списком значений с плавающей запятой, разделенных пробелами:
</font></font></p><div class="example">
<pre class="example"><code>output_rect=x\ y\ width\ height
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если не указано, выходной прямоугольник равен размерам входного изображения. </font><font style="vertical-align: inherit;">Выходной прямоугольник автоматически обрезается по границам входного изображения. </font><font style="vertical-align: inherit;">Отрицательные значения действительны для каждого компонента.
</font></font></p><div class="example">
<pre class="example"><code>output_rect=25\ 25\ 100\ 100
</code></pre></div>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Несколько фильтров могут быть объединены в цепочку для последовательной обработки без передачи GPU-HOST, что позволяет быстро обрабатывать сложные цепочки фильтров. </font><font style="vertical-align: inherit;">В настоящее время поддерживаются только фильтры с нулем (генераторы) или ровно одним (фильтры) входным изображением и одним выходным изображением. </font><font style="vertical-align: inherit;">Кроме того, переходные фильтры еще нельзя использовать по назначению.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые фильтры генерируют выходные изображения с дополнительным дополнением в зависимости от соответствующего ядра фильтра. </font><font style="vertical-align: inherit;">Заполнение автоматически удаляется, чтобы выходные данные фильтра имели тот же размер, что и входное изображение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для генераторов изображений размер выходного изображения определяется предыдущим выходным изображением цепочки фильтров или входным изображением всей цепочки фильтров соответственно. </font><font style="vertical-align: inherit;">Генераторы не используют информацию о пикселях этого изображения для создания своего вывода. </font><font style="vertical-align: inherit;">Однако сгенерированный вывод смешивается с этим изображением, что приводит к частичному или полному покрытию выходного изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"></font><a href="#coreimagesrc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Видеоисточник coreimagesrc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> можно </font><font style="vertical-align: inherit;">использовать для генерации входных изображений, которые напрямую подаются в цепочку фильтров. </font><font style="vertical-align: inherit;">При его использовании предоставление входных изображений другим источником видео или входного видео не требуется.
</font></font></p>
<span id="Examples-55"></span><h4 class="subsection"><a href="#toc-Examples-55"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.42.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список всех доступных фильтров:
</font></font><div class="example">
<pre class="example"><code>coreimage=list_filters=true
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте фильтр CIBoxBlur с параметрами по умолчанию, чтобы размыть изображение:
</font></font><div class="example">
<pre class="example"><code>coreimage=filter=CIBoxBlur@default
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте цепочку фильтров с CISepiaTone со значениями по умолчанию и CIVignetteEffect с центром 100x100 и радиусом 50 пикселей:
</font></font><div class="example">
<pre class="example"><code>coreimage=filter=CIBoxBlur@default#CIVignetteEffect@inputCenter=100\ 100@inputRadius=50
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте nullsrc и CIQRCodeGenerator для создания QR-кода для домашней страницы FFmpeg в виде полной и экранированной командной строки для стандартной оболочки Apple bash:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -f lavfi -i nullsrc=s=100x100,coreimage=filter=CIQRCodeGenerator@inputMessage=https\\\\\://FFmpeg.org/@inputCorrectionLevel=H -frames:v 1 QRCode.png
</code></pre></div>
</li></ul>

<span id="cover_005frect"></span><h3 class="section"><code><a href="#toc-cover_005frect">11.43 cover_rect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Накройте прямоугольный предмет
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>cover</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Путь к файлу необязательного изображения обложки должен быть в формате yuv420.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим покрытия.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cover</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">накройте его прилагаемым изображением
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blur</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">покрыть его, интерполируя окружающие пиксели
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>blur</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-56"></span><h4 class="subsection"><a href="#toc-Examples-56"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.43.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Покройте прямоугольный объект предоставленным изображением данного видео, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i file.ts -vf find_rect=newref.pgm,cover_rect=cover.jpg:mode=cover new.mkv
</code></pre></div>
</li></ul>

<span id="crop"></span><h3 class="section"><code><a href="#toc-crop">11.44 crop</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрежьте входное видео до заданных размеров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>w, out_w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина выходного видео. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>iw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это выражение оценивается только один раз во время настройки фильтра или когда '</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' или же '</font></font><samp><code>out_w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' отправляется команда.
</font></font></p>
</dd>
<dt><samp><code>h, out_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высота выходного видео. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>ih</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это выражение оценивается только один раз во время настройки фильтра или когда '</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' или же '</font></font><samp><code>out_h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' отправляется команда.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Горизонтальное положение во входном видео левого края выходного видео. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>(in_w-out_w)/2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это выражение оценивается для каждого кадра.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вертикальное положение во входном видео верхнего края выходного видео. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>(in_h-out_h)/2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это выражение оценивается для каждого кадра.
</font></font></p>
</dd>
<dt><samp><code>keep_aspect</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, соотношение сторон выходного дисплея будет таким же, как и входное, за счет изменения соотношения сторон выходного образца. </font><font style="vertical-align: inherit;">По умолчанию он равен 0.
</font></font></p>
</dd>
<dt><samp><code>exact</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите точную обрезку. </font><font style="vertical-align: inherit;">Если этот параметр включен, субдискретизированные видео будут обрезаны точно по ширине/высоте/x/y, как указано, и не будут округлены до ближайшего меньшего значения. </font><font style="vertical-align: inherit;">По умолчанию он равен 0.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>out_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">представляют собой выражения, содержащие следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисленные значения для </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Они оцениваются для каждого нового кадра.
</font></font></p>
</dd>
<dt><samp><code>in_w</code></samp></dt>
<dt><samp><code>in_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>iw</code></samp></dt>
<dt><samp><code>ih</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>in_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>in_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>out_w</code></samp></dt>
<dt><samp><code>out_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная (обрезанная) ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>ow</code></samp></dt>
<dt><samp><code>oh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>out_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">то же, что </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>ih</code></var>
</p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон входного образца
</font></font></p>
</dd>
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">входное соотношение сторон дисплея, оно такое же, как ( </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>ih</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) *</font></font><var><code>sar</code></var>
</p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения подвыборки цветности по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер входного кадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">позиция в файле входного кадра, NAN, если неизвестно
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени, выраженная в секундах. </font><font style="vertical-align: inherit;">Это NAN, если отметка времени ввода неизвестна.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение для </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может зависеть от значения </font></font><var><code>out_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а выражение для </font></font><var><code>out_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может зависеть от </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, но они не могут зависеть от </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, так как </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вычисляются после </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>out_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">задают выражения для положения верхнего левого угла выходной (необрезанной) области. </font><font style="vertical-align: inherit;">Они оцениваются для каждого кадра. </font><font style="vertical-align: inherit;">Если оцениваемое значение недействительно, оно округляется до ближайшего допустимого значения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение для </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может зависеть от </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а выражение для </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может зависеть от </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="Examples-57"></span><h4 class="subsection"><a href="#toc-Examples-57"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.44.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Область обрезки размером 100x100 в позиции (12,34).
</font></font><div class="example">
<pre class="example"><code>crop=100:100:12:34
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При использовании именованных опций приведенный выше пример становится таким:
</font></font></p><div class="example">
<pre class="example"><code>crop=w=100:h=100:x=12:y=34
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрежьте центральную область ввода размером 100x100:
</font></font><div class="example">
<pre class="example"><code>crop=100:100
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрежьте центральную область ввода размером 2/3 входного видео:
</font></font><div class="example">
<pre class="example"><code>crop=2/3*in_w:2/3*in_h
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрежьте центральный квадрат входного видео:
</font></font><div class="example">
<pre class="example"><code>crop=out_w=in_h<font></font>
crop=in_h<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничьте прямоугольник левым верхним углом, расположенным в позиции 100:100, и правым нижним углом, соответствующим правому нижнему углу входного изображения.
</font></font><div class="example">
<pre class="example"><code>crop=in_w-100:in_h-100:100:100
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезать 10 пикселей от левой и правой границ и 20 пикселей от верхней и нижней границ
</font></font><div class="example">
<pre class="example"><code>crop=in_w-2*10:in_h-2*20
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оставьте только нижнюю правую четверть входного изображения:
</font></font><div class="example">
<pre class="example"><code>crop=in_w/2:in_h/2:in_w/2:in_h/2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высота обрезки для получения греческой гармонии:
</font></font><div class="example">
<pre class="example"><code>crop=in_w:1/PHI*in_w
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект дрожи:
</font></font><div class="example">
<pre class="example"><code>crop=in_w/2:in_h/2:(in_w-out_w)/2+((in_w-out_w)/2)*sin(n/10):(in_h-out_h)/2 +((in_h-out_h)/2)*sin(n/7)
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените неустойчивый эффект камеры в зависимости от метки времени:
</font></font><div class="example">
<pre class="example"><code>crop=in_w/2:in_h/2:(in_w-out_w)/2+((in_w-out_w)/2)*sin(t*10):(in_h-out_h)/2 +((in_h-out_h)/2)*sin(t*13)"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите x в зависимости от значения y:
</font></font><div class="example">
<pre class="example"><code>crop=in_w/2:in_h/2:y:10+10*sin(n/10)
</code></pre></div>
</li></ul>

<span id="Commands-73"></span><h4 class="subsection"><a href="#toc-Commands-73"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.44.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>w, out_w</code></samp></dt>
<dt><samp><code>h, out_h</code></samp></dt>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину/высоту выходного видео и положение по горизонтали/вертикали во входном видео. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p></dd>
</dl>

<span id="cropdetect"></span><h3 class="section"><code><a href="#toc-cropdetect">11.45 cropdetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Автоматическое определение размера обрезки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он рассчитывает необходимые параметры обрезки и распечатывает рекомендуемые параметры через систему протоколирования. </font><font style="vertical-align: inherit;">Обнаруженные размеры соответствуют нечерной области входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>limit</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите более высокий порог значения черного, который можно указать от нуля (0) до всего (255 для 8-битных форматов). </font><font style="vertical-align: inherit;">Значение интенсивности, превышающее установленное значение, считается нечерным. </font><font style="vertical-align: inherit;">По умолчанию оно равно 24. Вы также можете указать значение от 0,0 до 1,0, которое будет масштабироваться в зависимости от разрядности формата пикселей.
</font></font></p>
</dd>
<dt><samp><code>round</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение, на которое должны делиться ширина/высота. </font><font style="vertical-align: inherit;">По умолчанию оно равно 16. Смещение автоматически настраивается по центру видео. </font><font style="vertical-align: inherit;">Используйте 2, чтобы получить только четные размеры (необходимо для видео 4:2:2). </font><font style="vertical-align: inherit;">16 лучше всего подходит для кодирования большинства видеокодеков.
</font></font></p>
</dd>
<dt><samp><code>skip</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество начальных кадров, для которых пропускается оценка. </font><font style="vertical-align: inherit;">По умолчанию 2. Диапазон значений от 0 до INT_MAX.
</font></font></p>
</dd>
<dt><samp><code>reset_count, reset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите счетчик, который определяет, через какое количество кадров кадрирование обнулит ранее обнаруженную наибольшую область видео и начнет заново, чтобы определить текущую оптимальную область обрезки. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это может быть полезно, когда логотипы каналов искажают область видео. </font><font style="vertical-align: inherit;">0 указывает «никогда не сбрасывать» и возвращает наибольшую область, обнаруженную во время воспроизведения.
</font></font></p></dd>
</dl>

<span id="cue"></span><span id="cue-1"></span><h3 class="section"><code><a href="#toc-cue-1">11.46 cue</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отложить фильтрацию видео до заданной временной метки настенных часов. </font><font style="vertical-align: inherit;">Сначала фильтр проходит</font></font><samp><code>preroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество кадров, то он буферизуется максимум
</font></font><samp><code>buffer</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество кадров и ждет сигнала. </font><font style="vertical-align: inherit;">После достижения сигнала он пересылает буферизованные кадры, а также любые последующие кадры, поступающие на его вход.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр можно использовать для синхронизации вывода нескольких процессов ffmpeg для устройств вывода в реальном времени, таких как Decklink. </font><font style="vertical-align: inherit;">Помещая задержку в цепочку фильтрации и предварительно буферизируя кадры, процесс может передавать данные на вывод почти сразу после достижения целевой временной метки настенных часов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Идеальная точность кадров не может быть гарантирована, но в некоторых случаях результат достаточен.
</font></font></p>
<dl compact="compact">
<dt><samp><code>cue</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени реплики, выраженная в отметке времени UNIX в микросекундах. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>preroll</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность контента для передачи в качестве преролла, выраженная в секундах. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>buffer</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальная продолжительность содержимого для буферизации перед ожиданием сигнала, выраженная в секундах. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
</dl>

<span id="curves"></span><span id="curves-1"></span><h3 class="section"><code><a href="#toc-curves-1">11.47 curves</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените корректировку цвета с помощью кривых.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр похож на инструменты кривых Adobe Photoshop и GIMP. </font><font style="vertical-align: inherit;">Каждый компонент (красный, зеленый и синий) имеет свои значения, определяемые </font></font><var><code>N</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ключевыми точками, связанными друг с другом с помощью плавной кривой. </font><font style="vertical-align: inherit;">По оси X представлены значения пикселей из входного кадра, а по оси Y — новые значения пикселей, которые будут установлены для выходного кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию кривая компонента определяется двумя точками </font></font><var><code>(0;0)</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><var><code>(1;1)</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это создает прямую линию, в которой каждое исходное значение пикселя «настраивается» на свое собственное значение, что означает отсутствие изменений в изображении.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр позволяет переопределить эти две точки и добавить еще несколько. </font><font style="vertical-align: inherit;">Новая кривая (использующая естественную интерполяцию кубическим сплайном) будет определена так, чтобы плавно проходить через все эти новые координаты. </font><font style="vertical-align: inherit;">Новые определенные точки должны строго увеличиваться по оси x, а их значения </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">должны находиться в </font></font><var><code>[0;1]</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">интервале. </font><font style="vertical-align: inherit;">Если вычисленные кривые выходят за пределы векторных пространств, значения будут соответствующим образом обрезаны.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>preset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите один из доступных наборов цветов. </font><font style="vertical-align: inherit;">Эту опцию можно использовать в дополнение к</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>g</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметры; </font><font style="vertical-align: inherit;">в этом случае более поздние параметры имеют приоритет над предустановленными значениями. </font><font style="vertical-align: inherit;">Доступные пресеты:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color_negative</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cross_process</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>darker</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>increase_contrast</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lighter</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linear_contrast</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>medium_contrast</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>negative</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>strong_contrast</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vintage</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
<dt><samp><code>master, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите главные ключевые точки. </font><font style="vertical-align: inherit;">Эти точки будут определять отображение второго прохода. </font><font style="vertical-align: inherit;">Иногда его называют отображением «яркости» или «значения». </font><font style="vertical-align: inherit;">Его можно использовать с
</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>g</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или же</font></font><samp><code>all</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">поскольку он действует как LUT постобработки.
</font></font></p></dd>
<dt><samp><code>red, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключевые точки для красного компонента.
</font></font></p></dd>
<dt><samp><code>green, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключевые точки для зеленого компонента.
</font></font></p></dd>
<dt><samp><code>blue, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключевые точки для синего компонента.
</font></font></p></dd>
<dt><samp><code>all</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключевые точки для всех компонентов (не включая мастер). </font><font style="vertical-align: inherit;">Может использоваться в дополнение к другим параметрам компонентов ключевых точек. </font><font style="vertical-align: inherit;">В этом случае неустановленный компонент(ы) будет резервным на этом
</font></font><samp><code>all</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметр.
</font></font></p></dd>
<dt><samp><code>psfile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите файл кривых Photoshop ( </font></font><code>.acv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), из которого нужно импортировать настройки.
</font></font></p></dd>
<dt><samp><code>plot</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраните скрипт кривых Gnuplot в указанный файл.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы избежать некоторых конфликтов синтаксиса графа фильтров, каждый список ключевых точек должен быть определен с использованием следующего синтаксиса: </font></font><code>x0/y0 x1/y1 x2/y2 ...</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="Commands-74"></span><h4 class="subsection"><a href="#toc-Commands-74"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.47.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="Examples-58"></span><h4 class="subsection"><a href="#toc-Examples-58"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.47.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Немного увеличьте средний уровень синего:
</font></font><div class="example">
<pre class="example"><code>curves=blue='0/0 0.5/0.58 1/1'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Винтажный эффект:
</font></font><div class="example">
<pre class="example"><code>curves=r='0/0.11 .42/.51 1/0.95':g='0/0 0.50/0.48 1/1':b='0/0.22 .49/.44 1/0.8'
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Здесь мы получаем следующие координаты для каждой компоненты:
</font></font></p><dl compact="compact">
<dt><var><code>red</code></var></dt>
<dd><p><code>(0;0.11) (0.42;0.51) (1;0.95)</code>
</p></dd>
<dt><var><code>green</code></var></dt>
<dd><p><code>(0;0) (0.50;0.48) (1;1)</code>
</p></dd>
<dt><var><code>blue</code></var></dt>
<dd><p><code>(0;0.22) (0.49;0.44) (1;0.80)</code>
</p></dd>
</dl>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предыдущий пример также может быть достигнут с помощью связанного встроенного пресета:
</font></font><div class="example">
<pre class="example"><code>curves=preset=vintage
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Или просто:
</font></font><div class="example">
<pre class="example"><code>curves=vintage
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте предустановку Photoshop и переопределите точки зеленого компонента:
</font></font><div class="example">
<pre class="example"><code>curves=psfile='MyCurvesPresets/purple.acv':green='0/0 0.45/0.53 1/1'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проверьте кривые </font></font><code>cross_process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">профиля, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
и </font></font><code>gnuplot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -f lavfi -i color -vf curves=cross_process:plot=/tmp/curves.plt -frames:v 1 -f null -<font></font>
gnuplot -p /tmp/curves.plt<font></font>
</code></pre></div>
</li></ul>

<span id="datascope"></span><h3 class="section"><code><a href="#toc-datascope">11.48 datascope</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр анализа видеоданных.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр показывает шестнадцатеричные значения пикселей части видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер выходного видео.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите смещение x от того места, где нужно выбрать пиксели.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите смещение по оси y, откуда следует выбирать пиксели.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим прицела, может быть одним из следующих:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mono</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте шестнадцатеричные значения пикселей белым цветом на черном фоне.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте шестнадцатеричные значения пикселей с цветом входного видеопикселя на черном фоне.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте шестнадцатеричные значения пикселей на цветном фоне, выбранном из входного видео, цвет текста выбран таким образом, чтобы он всегда был виден.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>axis</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте номера строк и столбцов слева и сверху видео.
</font></font></p>
</dd>
<dt><samp><code>opacity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прозрачность фона.
</font></font></p>
</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат отображаемого числа. </font><font style="vertical-align: inherit;">Можно </font></font><code>hex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>dec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>components</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пиксельные компоненты для отображения. </font><font style="vertical-align: inherit;">По умолчанию отображаются все компоненты пикселей.
</font></font></p></dd>
</dl>

<span id="Commands-75"></span><h4 class="subsection"><a href="#toc-Commands-75"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.48.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры, за исключением </font></font><code>size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметра.
</font></font></p>
<span id="dblur"></span><h3 class="section"><code><a href="#toc-dblur">11.49 dblur</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр направленного размытия.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>angle</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить угол направленного размытия. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>45</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить радиус направленного размытия. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию фильтруются все плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-76"></span><h4 class="subsection"><a href="#toc-Commands-76"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.49.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="dctdnoiz"></span><h3 class="section"><code><a href="#toc-dctdnoiz">11.50 dctdnoiz</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кадры шумоподавления с помощью 2D DCT (фильтрация в частотной области).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр не предназначен для реального времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sigma, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите постоянную сигма шума.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это </font></font><var><code>sigma</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определяет жесткий порог </font></font><code>3 * sigma</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">каждый коэффициент DCT (абсолютное значение) ниже этого порога отбрасывается.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если вам нужна более продвинутая фильтрация, см.</font></font><samp><code>expr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество перекрывающихся пикселей для каждого блока. </font><font style="vertical-align: inherit;">Поскольку фильтр может быть медленным, вы можете уменьшить это значение за счет менее эффективного фильтра и риска появления различных артефактов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если значение перекрытия не позволяет обработать всю ширину или высоту ввода, будет отображено предупреждение, и соответствующие границы не будут удалены из шума.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><var><code>blocksize</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-1, что является наилучшей возможной настройкой.
</font></font></p>
</dd>
<dt><samp><code>expr, e</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение коэффициента коэффициента.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для каждого коэффициента блока DCT это выражение будет оцениваться как значение множителя для коэффициента.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если этот параметр установлен,</font></font><samp><code>sigma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опция будет проигнорирована.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступ к абсолютному значению коэффициента можно получить через </font></font><var><code>c</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
переменную.
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите </font></font><var><code>blocksize</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">использование количества битов. </font><font style="vertical-align: inherit;">определяет
 </font><font style="vertical-align: inherit;">, то есть ширину и высоту обрабатываемых блоков.
</font></font><code>1&lt;&lt;<var><code>n</code></var></code><font style="vertical-align: inherit;"></font><var><code>blocksize</code></var><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>3</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(8x8) и может быть увеличено до </font></font><var><code>4</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16x16
 </font></font><var><code>blocksize</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Обратите внимание, что изменение этого параметра сильно влияет на скорость обработки. </font><font style="vertical-align: inherit;">Кроме того, больший размер блока не обязательно означает лучшее шумоподавление.
</font></font></p></dd>
</dl>

<span id="Examples-59"></span><h4 class="subsection"><a href="#toc-Examples-59"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.50.1 Примеры</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените шумоподавление с помощью</font></font><samp><code>sigma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">из </font></font><code>4.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p><div class="example">
<pre class="example"><code>dctdnoiz=4.5
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Та же операция может быть выполнена с использованием системы выражений:
</font></font></p><div class="example">
<pre class="example"><code>dctdnoiz=e='gte(c, 4.5*3)'
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Насильственное шумоподавление с использованием блока размером </font></font><code>16x16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p><div class="example">
<pre class="example"><code>dctdnoiz=15:n=4
</code></pre></div>

<span id="deband"></span><h3 class="section"><code><a href="#toc-deband">11.51 deband</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите артефакты полосатости из входного видео. </font><font style="vertical-align: inherit;">Он работает, заменяя полосатые пиксели средним значением ссылочных пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>1thr</code></samp></dt>
<dt><samp><code>2thr</code></samp></dt>
<dt><samp><code>3thr</code></samp></dt>
<dt><samp><code>4thr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог обнаружения полос для каждой плоскости. </font><font style="vertical-align: inherit;">По умолчанию 0,02. </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0,00003 до 0,5. </font><font style="vertical-align: inherit;">Если разница между текущим пикселем и эталонным пикселем меньше порогового значения, он будет считаться полосатым.
</font></font></p>
</dd>
<dt><samp><code>range, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Диапазон обнаружения полос в пикселях. </font><font style="vertical-align: inherit;">По умолчанию 16. Если положительное, будет использоваться случайное число в диапазоне от 0 до установленного значения. </font><font style="vertical-align: inherit;">Если отрицательное, будет использоваться точное абсолютное значение. </font><font style="vertical-align: inherit;">Диапазон определяет квадрат из четырех пикселей вокруг текущего пикселя.
</font></font></p>
</dd>
<dt><samp><code>direction, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите направление в радианах, с которым будут сравниваться четыре пикселя. </font><font style="vertical-align: inherit;">Если положительный, будет выбрано случайное направление от 0 до заданного направления. </font><font style="vertical-align: inherit;">Если отрицательное, будет выбрано точное абсолютное значение. </font><font style="vertical-align: inherit;">Например, направление 0, -PI или -2*PI в радианах будет выбирать только пиксели в одной строке, а -PI/2 будет выбирать только пиксели в одном столбце.
</font></font></p>
</dd>
<dt><samp><code>blur, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если включено, текущий пиксель сравнивается со средним значением всех четырех окружающих пикселей. </font><font style="vertical-align: inherit;">По умолчанию включено. </font><font style="vertical-align: inherit;">Если отключено, текущий пиксель сравнивается со всеми четырьмя окружающими пикселями. </font><font style="vertical-align: inherit;">Пиксель считается полосатым, если только все четыре различия с окружающими пикселями меньше порогового значения.
</font></font></p>
</dd>
<dt><samp><code>coupling, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если этот параметр включен, текущий пиксель изменяется тогда и только тогда, когда все компоненты пикселя имеют полосы, например порог обнаружения полос срабатывает для всех цветовых компонентов. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p></dd>
</dl>

<span id="Commands-77"></span><h4 class="subsection"><a href="#toc-Commands-77"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.51.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="deblock"></span><h3 class="section"><code><a href="#toc-deblock">11.52 deblock</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите блокирующие артефакты из входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип фильтра, может быть </font></font><var><code>weak</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>strong</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>strong</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это определяет, какой тип деблокировки применяется.
</font></font></p>
</dd>
<dt><samp><code>block</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер блока, допустимый диапазон от 4 до 512. По умолчанию </font></font><var><code>8</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>alpha</code></samp></dt>
<dt><samp><code>beta</code></samp></dt>
<dt><samp><code>gamma</code></samp></dt>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороги обнаружения блокировки. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. По умолчанию: </font></font><var><code>0.098</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><var><code>alpha</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>0.05</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для остальных. </font><font style="vertical-align: inherit;">Использование более высокого порога дает большую силу деблокировки. </font><font style="vertical-align: inherit;">Параметр </font></font><var><code>alpha</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">управляет обнаружением порога на точном краю блока. </font><font style="vertical-align: inherit;">Остальные параметры контролируют обнаружение порога рядом с краем. </font><font style="vertical-align: inherit;">Каждый для нижнего/верхнего или левого/правого. </font><font style="vertical-align: inherit;">Установка любого из них </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отключает деблокировку.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите самолеты для фильтрации. </font><font style="vertical-align: inherit;">По умолчанию фильтруются все доступные плоскости.
</font></font></p></dd>
</dl>

<span id="Examples-60"></span><h4 class="subsection"><a href="#toc-Examples-60"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.52.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разблокируйте, используя слабый фильтр и размер блока 4 пикселя.
</font></font><div class="example">
<pre class="example"><code>deblock=filter=weak:block=4
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деблокировка с использованием сильного фильтра, размер блока 4 пикселя и настраиваемые пороги для деблокировки большего количества краев.
</font></font><div class="example">
<pre class="example"><code>deblock=filter=strong:block=4:alpha=0.12:beta=0.07:gamma=0.06:delta=0.05
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аналогично предыдущему, но отфильтруйте только первую плоскость.
</font></font><div class="example">
<pre class="example"><code>deblock=filter=strong:block=4:alpha=0.12:beta=0.07:gamma=0.06:delta=0.05:planes=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аналогично предыдущему, но отфильтруйте только вторую и третью плоскости.
</font></font><div class="example">
<pre class="example"><code>deblock=filter=strong:block=4:alpha=0.12:beta=0.07:gamma=0.06:delta=0.05:planes=6
</code></pre></div>
</li></ul>

<span id="Commands-78"></span><h4 class="subsection"><a href="#toc-Commands-78"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.52.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="decimate"></span><span id="decimate-1"></span><h3 class="section"><code><a href="#toc-decimate-1">11.53 decimate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отбрасывайте повторяющиеся кадры через равные промежутки времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>cycle</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество кадров, из которых один будет удален. </font><font style="vertical-align: inherit;">Установка этого
 </font></font><var><code>N</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения означает, что один кадр в каждом пакете </font></font><var><code>N</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадров будет отброшен. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>dupthresh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог обнаружения дубликатов. </font><font style="vertical-align: inherit;">Если метрика различия для кадра меньше или равна этому значению, то он объявляется дубликатом. </font><font style="vertical-align: inherit;">По умолчанию</font></font><code>1.1</code>
</p>
</dd>
<dt><samp><code>scthresh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог смены сцены. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>blockx</code></samp></dt>
<dt><samp><code>blocky</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блоков осей x и y, используемых во время расчетов метрик. </font><font style="vertical-align: inherit;">Блоки большего размера обеспечивают лучшее подавление шума, но хуже обнаруживают мелкие движения. </font><font style="vertical-align: inherit;">Должна быть степень двойки. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>ppsrc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте основной ввод как предварительно обработанный ввод и активируйте входной поток чистого источника. </font><font style="vertical-align: inherit;">Это позволяет предварительно обрабатывать входные данные с помощью различных фильтров, чтобы облегчить расчет метрик, сохраняя при этом выбор кадра без потерь. </font><font style="vertical-align: inherit;">Если установлено значение
 </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, первый поток предназначен для предварительно обработанного ввода, а второй поток — это чистый источник, из которого выбираются сохраненные кадры. </font><font style="vertical-align: inherit;">Значение по умолчанию
 </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>chroma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, будет ли цветность учитываться при расчете показателей. </font><font style="vertical-align: inherit;">Значение по умолчанию
 </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="deconvolve"></span><h3 class="section"><code><a href="#toc-deconvolve">11.54 deconvolve</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените 2D-деконволюцию видеопотока в частотной области, используя второй поток в качестве импульса.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости обрабатывать.
</font></font></p>
</dd>
<dt><samp><code>impulse</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить, какие импульсные видеокадры будут обрабатываться, можно </font></font><var><code>first</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
или </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>noise</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить шум при делении. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>0.0000001</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Полезно, когда ширина и высота не совпадают и не являются степенью 2, или если поток до свертки имел шум.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>deconvolve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="dedot"></span><h3 class="section"><code><a href="#toc-dedot">11.55 dedot</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите перекрестную яркость (точка-ползание) и перекрестный цвет (радуга) из видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим работы. </font><font style="vertical-align: inherit;">Может быть комбинацией </font></font><var><code>dotcrawl</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для уменьшения перекрестной яркости и/или
 </font></font><var><code>rainbows</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для уменьшения перекрестного цвета.
</font></font></p>
</dd>
<dt><samp><code>lt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог пространственной яркости. </font><font style="vertical-align: inherit;">Более низкие значения увеличивают уменьшение перекрестной яркости.
</font></font></p>
</dd>
<dt><samp><code>tl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите допуск для временной яркости. </font><font style="vertical-align: inherit;">Более высокие значения увеличивают уменьшение перекрестной яркости.
</font></font></p>
</dd>
<dt><samp><code>tc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите допуск для временного изменения цветности. </font><font style="vertical-align: inherit;">Более высокие значения увеличивают уменьшение перекрестного цвета.
</font></font></p>
</dd>
<dt><samp><code>ct</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите временной порог цветности. </font><font style="vertical-align: inherit;">Более низкие значения увеличивают уменьшение перекрестного цвета.
</font></font></p></dd>
</dl>

<span id="deflate"></span><h3 class="section"><code><a href="#toc-deflate">11.56 deflate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект раздувания к видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр заменяет пиксель локальным (3x3) средним значением, принимая во внимание только значения ниже пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold0</code></samp></dt>
<dt><samp><code>threshold1</code></samp></dt>
<dt><samp><code>threshold2</code></samp></dt>
<dt><samp><code>threshold3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничьте максимальное изменение для каждой плоскости, по умолчанию 65535. Если 0, плоскость останется неизменной.
</font></font></p></dd>
</dl>

<span id="Commands-79"></span><h4 class="subsection"><a href="#toc-Commands-79"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.56.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="deflicker"></span><h3 class="section"><code><a href="#toc-deflicker">11.57 deflicker</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите временные изменения яркости кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер фильтра скользящего среднего в кадрах. </font><font style="vertical-align: inherit;">По умолчанию — 5. Допустимый диапазон — от 2 до 129.
</font></font></p>
</dd>
<dt><samp><code>mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим усреднения, чтобы сгладить временные колебания яркости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>am</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Среднее арифметическое
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gm</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Среднее геометрическое
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hm</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гармоническое среднее
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>qm</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">квадратичное среднее
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cm</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кубическое среднее
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pm</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Средняя мощность
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>median</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">медиана
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>bypass</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">На самом деле не изменяйте кадр. </font><font style="vertical-align: inherit;">Полезно, когда нужны только метаданные.
</font></font></p></dd>
</dl>

<span id="dejudder"></span><h3 class="section"><code><a href="#toc-dejudder">11.58 dejudder</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите дрожание, вызванное частично чересстрочным телесиновым контентом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дрожание может быть введено, например, </font></font><a href="#pullup"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">подтягивающим</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтром. </font><font style="vertical-align: inherit;">Если исходным источником был частично телесинированный контент, выходной сигнал </font></font><code>pullup,dejudder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
будет иметь переменную частоту кадров. </font><font style="vertical-align: inherit;">Может измениться записанная частота кадров контейнера. </font><font style="vertical-align: inherit;">Помимо этого изменения, этот фильтр не повлияет на видео с постоянной частотой кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В этом фильтре доступна следующая опция:
</font></font></p><dl compact="compact">
<dt><samp><code>cycle</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите длину окна, в котором дрожание повторяется.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принимает любое целое число больше 1. Полезные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если оригинал был телесинирован с 24 до 30 кадров в секунду (Film to NTSC).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>5</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если оригинал был телесинирован с 25 до 30 кадров в секунду (от PAL до NTSC).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>20</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если смесь двух.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию '</font></font><samp><code>4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

<span id="delogo"></span><h3 class="section"><code><a href="#toc-delogo">11.59 delogo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Подавить логотип телеканала простой интерполяцией окружающих пикселей. </font><font style="vertical-align: inherit;">Просто установите прямоугольник, закрывающий логотип, и наблюдайте, как он исчезает (а иногда появляется что-то еще более уродливое — ваш пробег может отличаться).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите координаты левого верхнего угла логотипа. </font><font style="vertical-align: inherit;">Они должны быть указаны.
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите ширину и высоту логотипа для очистки. </font><font style="vertical-align: inherit;">Они должны быть указаны.
</font></font></p>
</dd>
<dt><samp><code>show</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При значении 1 на экране отображается зеленый прямоугольник для упрощения поиска нужных параметров </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прямоугольник рисуется на самых внешних пикселях, которые будут (частично) заменены интерполированными значениями. </font><font style="vertical-align: inherit;">Значения следующих пикселей непосредственно за пределами этого прямоугольника в каждом направлении будут использоваться для вычисления интерполированных значений пикселей внутри прямоугольника.
</font></font></p>
</dd>
</dl>

<span id="Examples-61"></span><h4 class="subsection"><a href="#toc-Examples-61"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.59.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прямоугольник, покрывающий область с координатами верхнего левого угла 0,0 и размером 100x77:
</font></font><div class="example">
<pre class="example"><code>delogo=x=0:y=0:w=100:h=77
</code></pre></div>

</li></ul>

<span id="derain"></span><span id="derain-1"></span><h3 class="section"><code><a href="#toc-derain-1">11.60 derain</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите дождь на входном изображении/видео, применив методы удаления на основе сверточных нейронных сетей. </font><font style="vertical-align: inherit;">Поддерживаемые модели:
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Рекуррентная сеть агрегации контекста сжатия и возбуждения (RESCAN). </font><font style="vertical-align: inherit;">См . </font></font><a href="http://openaccess.thecvf.com/content_ECCV_2018/papers/Xia_Li_Recurrent_Squeeze-and-Excitation_Context_ECCV_2018_paper.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://openaccess.thecvf.com/content_ECCV_2018/papers/Xia_Li_Recurrent_Squeeze-and-Excitation_Context_ECCV_2018_paper.pdf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обучение, а также сценарии генерации моделей представлены в репозитории по адресу </font></font><a href="https://github.com/XueweiMeng/derain_filter.git"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/XueweiMeng/derain_filter.git</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Файлы собственных моделей (.model) можно создавать из файлов моделей TensorFlow (.pb) с помощью tools/python/convert.py.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filter_type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какой фильтр использовать. </font><font style="vertical-align: inherit;">Эта опция принимает следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>derain</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дереновый фильтр. </font><font style="vertical-align: inherit;">Чтобы провести фильтр дерен, вам нужно использовать модель дерен.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dehaze</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обезжиривающий фильтр. </font><font style="vertical-align: inherit;">Чтобы провести фильтр удаления дымки, вам необходимо использовать модель удаления дымки.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>derain</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>dnn_backend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какой сервер DNN использовать для загрузки и выполнения модели. </font><font style="vertical-align: inherit;">Эта опция принимает следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>native</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нативная реализация загрузки и выполнения DNN.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tensorflow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Бэкэнд TensorFlow. </font><font style="vertical-align: inherit;">Чтобы включить этот бэкенд, вам необходимо установить библиотеку TensorFlow для C (см.
 </font></font><a href="https://www.tensorflow.org/install/lang_c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.tensorflow.org/install/lang_c</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) и настроить FFmpeg с помощью
</font></font><code>--enable-libtensorflow</code>
</p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>native</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к файлу модели, указав сетевую архитектуру и ее параметры. </font><font style="vertical-align: inherit;">Обратите внимание, что разные серверные части используют разные форматы файлов. </font><font style="vertical-align: inherit;">TensorFlow и собственный бэкэнд могут загружать файлы только для своего формата.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы получить полную функциональность (например, асинхронное выполнение), используйте фильтр </font></font><a href="#dnn_005fprocessing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnn_processing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="deshake"></span><h3 class="section"><code><a href="#toc-deshake">11.61 deshake</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Попытаться исправить небольшие изменения горизонтального и/или вертикального смещения. </font><font style="vertical-align: inherit;">Этот фильтр помогает устранить дрожание камеры при удерживании камеры в руках, ударах о штатив, движении в транспортном средстве и т.&nbsp;д.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите прямоугольную область, в которой нужно ограничить поиск векторов движения. </font><font style="vertical-align: inherit;">При желании поиск векторов движения можно ограничить прямоугольной областью кадра, определяемой его левым верхним углом, шириной и высотой. </font><font style="vertical-align: inherit;">Эти параметры имеют то же значение, что и фильтр drawbox, который можно использовать для визуализации положения ограничительной рамки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это полезно, когда одновременное движение объектов в кадре можно спутать с движением камеры при поиске вектора движения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если для некоторых или всех </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значение -1, то используется полный кадр. </font><font style="vertical-align: inherit;">Это позволяет устанавливать более поздние параметры без указания ограничивающей рамки для поиска вектора движения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию - поиск по всему кадру.
</font></font></p>
</dd>
<dt><samp><code>rx</code></samp></dt>
<dt><samp><code>ry</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите максимальную степень перемещения по осям x и y в диапазоне 0–64 пикселей. </font><font style="vertical-align: inherit;">По умолчанию 16.
</font></font></p>
</dd>
<dt><samp><code>edge</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, как генерировать пиксели для заполнения пробелов на краю кадра. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blank, 0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заполните нули в пустых местах
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>original, 1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходное изображение в пустых местах
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>clamp, 2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение выдавленного края в пустых местах
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mirror, 3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Зеркальный край в пустых местах
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>mirror</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>blocksize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер блока для поиска движения. </font><font style="vertical-align: inherit;">Диапазон 4-128 пикселей, по умолчанию 8.
</font></font></p>
</dd>
<dt><samp><code>contrast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите порог контрастности для блоков. </font><font style="vertical-align: inherit;">Будут учитываться только блоки с контрастом выше указанного (разница между самыми темными и самыми светлыми пикселями). </font><font style="vertical-align: inherit;">Диапазон 1-255, по умолчанию 125.
</font></font></p>
</dd>
<dt><samp><code>search</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите стратегию поиска. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>exhaustive, 0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить исчерпывающий поиск
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>less, 1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите менее полный поиск.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>exhaustive</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>filename</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено, то подробный журнал поиска движения записывается в указанный файл.
</font></font></p>
</dd>
</dl>

<span id="despill"></span><h3 class="section"><code><a href="#toc-despill">11.62 despill</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите нежелательное загрязнение цветов переднего плана, вызванное отраженным цветом зеленого экрана или синего экрана.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какой тип очистки использовать.
</font></font></p>
</dd>
<dt><samp><code>mix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите способ создания карты разливов.
</font></font></p>
</dd>
<dt><samp><code>expand</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, сколько нужно избавиться от еще оставшегося разлива.
</font></font></p>
</dd>
<dt><samp><code>red</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контролирует количество красного цвета в зоне разлива.
</font></font></p>
</dd>
<dt><samp><code>green</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контролирует количество зелени в зоне разлива. </font><font style="vertical-align: inherit;">Должно быть -1 для зеленого экрана.
</font></font></p>
</dd>
<dt><samp><code>blue</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контролирует количество синего в области разлива. </font><font style="vertical-align: inherit;">Должно быть -1 для синего экрана.
</font></font></p>
</dd>
<dt><samp><code>brightness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контролирует яркость области разлива, сохраняя цвета.
</font></font></p>
</dd>
<dt><samp><code>alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените альфу из сгенерированной карты разливов.
</font></font></p></dd>
</dl>

<span id="Commands-80"></span><h4 class="subsection"><a href="#toc-Commands-80"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.62.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="detelecine"></span><h3 class="section"><code><a href="#toc-detelecine">11.63 detelecine</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените точную обратную операцию телесина. </font><font style="vertical-align: inherit;">Для этого требуется предопределенный шаблон, указанный с помощью параметра шаблона, который должен быть таким же, как тот, который передается фильтру телесина.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>first_field</code></samp></dt>
<dd><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>top, t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сначала верхнее поле
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bottom, b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сначала нижнее поле. Значение по умолчанию — </font></font><code>top</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>pattern</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Строка чисел, представляющая шаблон раскрывающегося списка, который вы хотите применить. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>23</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Число, представляющее положение первого кадра относительно шаблона телекино. </font><font style="vertical-align: inherit;">Это должно быть использовано, если поток обрезан. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="dilation"></span><span id="dilation-1"></span><h3 class="section"><code><a href="#toc-dilation-1">11.64 dilation</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект расширения к видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр заменяет пиксель локальным (3x3) максимумом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold0</code></samp></dt>
<dt><samp><code>threshold1</code></samp></dt>
<dt><samp><code>threshold2</code></samp></dt>
<dt><samp><code>threshold3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничьте максимальное изменение для каждой плоскости, по умолчанию 65535. Если 0, плоскость останется неизменной.
</font></font></p>
</dd>
<dt><samp><code>coordinates</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Флаг, указывающий пиксель, на который следует ссылаться. </font><font style="vertical-align: inherit;">По умолчанию 255, т.е. используются все восемь пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Флаги для локальных карт 3x3 координаты, как это:
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 2 3 4 5 6 7 8
</font></font></p></dd>
</dl>

<span id="Commands-81"></span><h4 class="subsection"><a href="#toc-Commands-81"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.64.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="displace"></span><h3 class="section"><code><a href="#toc-displace">11.65 displace</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сместите пиксели, как указано вторым и третьим входным потоком.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает три входных потока и выводит один поток, первый вход — это источник, а второй и третий вход — карты смещения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Второй вход указывает, насколько сместить пиксели по оси x, а третий вход указывает, насколько сместить пиксели по оси y. </font><font style="vertical-align: inherit;">Если один из потоков карты смещения завершается, будет использоваться последний кадр из этой карты смещения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что однажды сгенерированные карты смещения можно повторно использовать снова и снова.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>edge</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите поведение смещения для пикселей, выходящих за пределы допустимого диапазона.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blank</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отсутствующие пиксели заменяются черными пикселями.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соседние пиксели будут расширены, чтобы заменить отсутствующие пиксели.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wrap</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиксели вне диапазона заворачиваются так, чтобы они указывали на пиксели другой стороны.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mirror</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиксели вне диапазона будут заменены зеркальными пикселями.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию '</font></font><samp><code>smear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
</dl>

<span id="Examples-62"></span><h4 class="subsection"><a href="#toc-Examples-62"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.65.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте эффект ряби к входу rgb видео размером hd720:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -f lavfi -i nullsrc=s=hd720,lutrgb=128:128:128 -f lavfi -i nullsrc=s=hd720,geq='r=128+30*sin(2*PI*X/400+T):g=128+30*sin(2*PI*X/400+T):b=128+30*sin(2*PI*X/400+T)' -lavfi '[0][1][2]displace' OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте эффект волны на вход rgb видео размером hd720:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -f lavfi -i nullsrc=hd720,geq='r=128+80*(sin(sqrt((X-W/2)*(X-W/2)+(Y-H/2)*(Y-H/2))/220*2*PI+T)):g=128+80*(sin(sqrt((X-W/2)*(X-W/2)+(Y-H/2)*(Y-H/2))/220*2*PI+T)):b=128+80*(sin(sqrt((X-W/2)*(X-W/2)+(Y-H/2)*(Y-H/2))/220*2*PI+T))' -lavfi '[1]split[x][y],[0][x][y]displace' OUTPUT
</code></pre></div>
</li></ul>

<span id="dnn_005fclassify"></span><h3 class="section"><code><a href="#toc-dnn_005fclassify">11.66 dnn_classify</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выполните классификацию с помощью глубоких нейронных сетей на основе ограничительных рамок.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dnn_backend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какой сервер DNN использовать для загрузки и выполнения модели. </font><font style="vertical-align: inherit;">Эта опция сейчас принимает только openvino, будут добавлены бэкенды tensorflow.
</font></font></p>
</dd>
<dt><samp><code>model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к файлу модели, указав сетевую архитектуру и ее параметры. </font><font style="vertical-align: inherit;">Обратите внимание, что разные серверные части используют разные форматы файлов.
</font></font></p>
</dd>
<dt><samp><code>input</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное имя сети dnn.
</font></font></p>
</dd>
<dt><samp><code>output</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное имя сети dnn.
</font></font></p>
</dd>
<dt><samp><code>confidence</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите доверительный порог (по умолчанию: 0,5).
</font></font></p>
</dd>
<dt><samp><code>labels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к файлу этикетки, указав соответствие между идентификатором этикетки и именем. </font><font style="vertical-align: inherit;">Имя каждой метки записывается в одну строку, пробелы в конце и пустые строки пропускаются. </font><font style="vertical-align: inherit;">Первая строка — это имя этикетки с идентификатором 0, а вторая строка — имя этикетки с идентификатором 1 и т. д. Идентификатор этикетки считается именем, если файл этикетки не предоставлен.
</font></font></p>
</dd>
<dt><samp><code>backend_configs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите конфиги, которые будут переданы в бэкенд
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для бэкэнда тензорного потока вы можете установить его конфигурации с помощью</font></font><samp><code>sess_config</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">варианты, используйте tools/python/tf_sess_config.py, чтобы получить конфигурации для вашей системы.
</font></font></p>
</dd>
</dl>

<span id="dnn_005fdetect"></span><h3 class="section"><code><a href="#toc-dnn_005fdetect">11.67 dnn_detect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выполняйте обнаружение объектов с помощью глубоких нейронных сетей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dnn_backend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какой сервер DNN использовать для загрузки и выполнения модели. </font><font style="vertical-align: inherit;">Эта опция сейчас принимает только openvino, будут добавлены бэкенды tensorflow.
</font></font></p>
</dd>
<dt><samp><code>model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к файлу модели, указав сетевую архитектуру и ее параметры. </font><font style="vertical-align: inherit;">Обратите внимание, что разные серверные части используют разные форматы файлов.
</font></font></p>
</dd>
<dt><samp><code>input</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное имя сети dnn.
</font></font></p>
</dd>
<dt><samp><code>output</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное имя сети dnn.
</font></font></p>
</dd>
<dt><samp><code>confidence</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите доверительный порог (по умолчанию: 0,5).
</font></font></p>
</dd>
<dt><samp><code>labels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к файлу этикетки, указав соответствие между идентификатором этикетки и именем. </font><font style="vertical-align: inherit;">Имя каждой метки записывается в одну строку, пробелы в конце и пустые строки пропускаются. </font><font style="vertical-align: inherit;">Первая строка — это имя этикетки с идентификатором 0 (обычно это «фон»), а вторая строка — это имя этикетки с идентификатором 1 и т. д. Идентификатор этикетки считается именем, если файл этикетки не предоставлен.
</font></font></p>
</dd>
<dt><samp><code>backend_configs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите конфиги, которые будут переданы в бэкенд. </font><font style="vertical-align: inherit;">Чтобы использовать асинхронное выполнение, установите async (по умолчанию: установлено). </font><font style="vertical-align: inherit;">Откат к выполнению синхронизации, если серверная часть не поддерживает асинхронность.
</font></font></p>
</dd>
</dl>

<span id="dnn_005fprocessing"></span><span id="dnn_005fprocessing-1"></span><h3 class="section"><code><a href="#toc-dnn_005fprocessing-1">11.68 dnn_processing</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выполняйте обработку изображений с помощью глубоких нейронных сетей. </font><font style="vertical-align: inherit;">Он работает вместе с другим фильтром, который преобразует формат пикселей кадра в то, что требуется сети dnn.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dnn_backend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какой сервер DNN использовать для загрузки и выполнения модели. </font><font style="vertical-align: inherit;">Эта опция принимает следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>native</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нативная реализация загрузки и выполнения DNN.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tensorflow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Бэкэнд TensorFlow. </font><font style="vertical-align: inherit;">Чтобы включить этот бэкенд, вам необходимо установить библиотеку TensorFlow для C (см.
 </font></font><a href="https://www.tensorflow.org/install/lang_c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.tensorflow.org/install/lang_c</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) и настроить FFmpeg с помощью
</font></font><code>--enable-libtensorflow</code>
</p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>openvino</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Бэкенд OpenVINO. </font><font style="vertical-align: inherit;">Чтобы включить этот бэкенд, вам необходимо собрать и установить библиотеку OpenVINO для C (см.
 </font></font><a href="https://github.com/openvinotoolkit/openvino/blob/master/build-instruction.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/openvinotoolkit/openvino/blob/master/build-instruction.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) и настроить FFmpeg с помощью
 </font></font><code>--enable-libopenvino</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(–extra-cflags=- I... --extra-ldflags=-L... может понадобиться, если заголовочные файлы и библиотеки не установлены в системный путь)
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>native</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к файлу модели, указав сетевую архитектуру и ее параметры. </font><font style="vertical-align: inherit;">Обратите внимание, что разные серверные части используют разные форматы файлов. </font><font style="vertical-align: inherit;">TensorFlow, OpenVINO и собственный бэкэнд могут загружать файлы только для своего формата.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Файл собственной модели (.model) можно создать из файла модели TensorFlow (.pb) с помощью tools/python/convert.py.
</font></font></p>
</dd>
<dt><samp><code>input</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное имя сети dnn.
</font></font></p>
</dd>
<dt><samp><code>output</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное имя сети dnn.
</font></font></p>
</dd>
<dt><samp><code>backend_configs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите конфиги, которые будут переданы в бэкенд. </font><font style="vertical-align: inherit;">Чтобы использовать асинхронное выполнение, установите async (по умолчанию: установлено). </font><font style="vertical-align: inherit;">Откат к выполнению синхронизации, если серверная часть не поддерживает асинхронность.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для бэкэнда тензорного потока вы можете установить его конфигурации с помощью</font></font><samp><code>sess_config</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">варианты, используйте tools/python/tf_sess_config.py, чтобы получить конфигурации серверной части TensorFlow для вашей системы.
</font></font></p>
</dd>
</dl>

<span id="Examples-63"></span><h4 class="subsection"><a href="#toc-Examples-63"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.68.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Убираем дождь в кадре rgb24 с помощью can.pb (см . фильтр </font></font><a href="#derain"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">derain</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):
</font></font><div class="example">
<pre class="example"><code>./ffmpeg -i rain.jpg -vf format=rgb24,dnn_processing=dnn_backend=tensorflow:model=can.pb:input=x:output=y derain.jpg
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите вдвое значение пикселя кадра в формате gray32f:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.jpg -vf format=grayf32,dnn_processing=model=halve_gray_float.model:input=dnn_in:output=dnn_out:dnn_backend=native -y out.native.png
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обработайте канал Y с помощью srcnn.pb (см. фильтр </font></font><a href="#sr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) для кадра с yuv420p (поддерживаются планарные форматы YUV):
</font></font><div class="example">
<pre class="example"><code>./ffmpeg -i 480p.jpg -vf format=yuv420p,scale=w=iw*2:h=ih*2,dnn_processing=dnn_backend=tensorflow:model=srcnn.pb:input=x:output=y -y srcnn.jpg
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обработайте канал Y с помощью espcn.pb (см. фильтр </font></font><a href="#sr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), который изменяет размер кадра, для формата yuv420p (поддерживаются планарные форматы YUV). Используйте tools/python/tf_sess_config.py, чтобы получить конфигурации серверной части TensorFlow для вашей системы.
</font></font><div class="example">
<pre class="example"><code>./ffmpeg -i 480p.jpg -vf format=yuv420p,dnn_processing=dnn_backend=tensorflow:model=espcn.pb:input=x:output=y:backend_configs=sess_config=0x10022805320e09cdccccccccccec3f20012a01303801 -y tmp.espcn.jpg
</code></pre></div>

</li></ul>

<span id="drawbox"></span><h3 class="section"><code><a href="#toc-drawbox">11.69 drawbox</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте цветную рамку на входном изображении.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения, определяющие координаты верхнего левого угла блока. </font><font style="vertical-align: inherit;">По умолчанию он равен 0.
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения, определяющие ширину и высоту блока; </font><font style="vertical-align: inherit;">если 0, они интерпретируются как входная ширина и высота. </font><font style="vertical-align: inherit;">По умолчанию он равен 0.
</font></font></p>
</dd>
<dt><samp><code>color, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет поля для записи. </font><font style="vertical-align: inherit;">Общий синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Если используется специальное значение </font></font><code>invert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, цвет края блока будет таким же, как на видео с инвертированной яркостью.
</font></font></p>
</dd>
<dt><samp><code>thickness, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение, задающее толщину края блока. </font><font style="vertical-align: inherit;">Значение </font></font><code>fill</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">создаст заполненное поле. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. ниже список допустимых констант.
</font></font></p>
</dd>
<dt><samp><code>replace</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применимо, если на входе есть альфа. </font><font style="vertical-align: inherit;">При значении </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пиксели нарисованного прямоугольника перезаписывают цвет видео и альфа-пиксели. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, которое накладывает блок на вход, оставляя альфа-канал видео нетронутым.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры для </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">являются </font></font><var><code>t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражениями, содержащими следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного дисплея такое же, как ( </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) * </font></font><var><code>sar</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения подвыборки цветности по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><samp><code>in_h, ih</code></samp></dt>
<dt><samp><code>in_w, iw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного образца.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Координаты смещения x и y, где нарисован блок.
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота нарисованного прямоугольника.
</font></font></p>
</dd>
<dt><samp><code>box_source</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник блока может быть установлен как side_data_detection_bboxes, если вы хотите использовать данные блока в блоках обнаружения побочных данных.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если </font></font><var><code>box_source</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено, </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будут </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">игнорироваться и по-прежнему будут использовать данные блока в полях обнаружения побочных данных. </font><font style="vertical-align: inherit;">Поэтому, пожалуйста, не используйте этот параметр, если вы не уверены в источнике коробки.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Толщина нарисованной коробки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти константы позволяют выражениям </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и ссылаться друг на друга, </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">поэтому </font></font><var><code>t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вы можете, например, указать </font></font><code>y=x/dar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>h=w/dar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="Examples-64"></span><h4 class="subsection"><a href="#toc-Examples-64"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.69.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте черный прямоугольник по краю входного изображения:
</font></font><div class="example">
<pre class="example"><code>drawbox
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте коробку красного цвета и непрозрачностью 50%:
</font></font><div class="example">
<pre class="example"><code>drawbox=10:20:200:60:red@0.5
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предыдущий пример можно указать как:
</font></font></p><div class="example">
<pre class="example"><code>drawbox=x=10:y=20:w=200:h=60:color=red@0.5
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заполните коробку розовым цветом:
</font></font><div class="example">
<pre class="example"><code>drawbox=x=10:y=10:w=100:h=100:color=pink@0.5:t=fill
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте 2-пиксельную красную маску 2,40:1:
</font></font><div class="example">
<pre class="example"><code>drawbox=x=-t:y=0.5*(ih-iw/2.4)-t:w=iw+t*2:h=iw/2.4+t*2:t=2:c=red
</code></pre></div>
</li></ul>

<span id="Commands-82"></span><h4 class="subsection"><a href="#toc-Commands-82"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.69.2 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же команды, что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="drawgraph"></span><span id="drawgraph-1"></span><h3 class="section"><code><a href="#toc-drawgraph-1">11.70 drawgraph</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте график, используя входные метаданные видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>m1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключ метаданных 1-го кадра, значения метаданных которого будут использоваться для построения графика.
</font></font></p>
</dd>
<dt><samp><code>fg1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите 1-е выражение цвета переднего плана.
</font></font></p>
</dd>
<dt><samp><code>m2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключ метаданных 2-го кадра, значения метаданных которого будут использоваться для построения графика.
</font></font></p>
</dd>
<dt><samp><code>fg2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите второе цветовое выражение переднего плана.
</font></font></p>
</dd>
<dt><samp><code>m3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключ метаданных 3-го кадра, значения метаданных которого будут использоваться для построения графика.
</font></font></p>
</dd>
<dt><samp><code>fg3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите 3-е выражение цвета переднего плана.
</font></font></p>
</dd>
<dt><samp><code>m4</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключ метаданных 4-го кадра, значения метаданных которого будут использоваться для построения графика.
</font></font></p>
</dd>
<dt><samp><code>fg4</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите 4-е выражение цвета переднего плана.
</font></font></p>
</dd>
<dt><samp><code>min</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальное значение значения метаданных.
</font></font></p>
</dd>
<dt><samp><code>max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное значение значения метаданных.
</font></font></p>
</dd>
<dt><samp><code>bg</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить цвет фона графика. </font><font style="vertical-align: inherit;">По умолчанию белый.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим графика.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения для режима:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bar</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dot</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>line</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>line</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>slide</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим слайдов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения для слайда:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте новую рамку, когда будет достигнута правая граница.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>replace</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Замените старые столбцы новыми.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>scroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прокрутите справа налево.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rscroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прокрутите слева направо.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>picture</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте одну картинку.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер графического видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>900x256</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную частоту кадров. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>25</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения цвета переднего плана могут использовать следующие переменные:
</font></font></p><dl compact="compact">
<dt><samp><code>MIN</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Минимальное значение значения метаданных.
</font></font></p>
</dd>
<dt><samp><code>MAX</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальное значение значения метаданных.
</font></font></p>
</dd>
<dt><samp><code>VAL</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текущее значение ключа метаданных.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет определяется как 0xAABBGGRR.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример использования метаданных из фильтра </font></font><a href="#signalstats"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signalstats</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :
</font></font></p><div class="example">
<pre class="example"><code>signalstats,drawgraph=lavfi.signalstats.YAVG:min=0:max=255
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример использования метаданных из фильтра </font></font><a href="#ebur128"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ebur128</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :
</font></font></p><div class="example">
<pre class="example"><code>ebur128=metadata=1,adrawgraph=lavfi.r128.M:min=-120:max=5
</code></pre></div>

<span id="drawgrid"></span><h3 class="section"><code><a href="#toc-drawgrid">11.71 drawgrid</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте сетку на входном изображении.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения, задающие координаты некоторой точки пересечения сетки (предназначенные для настройки смещения). </font><font style="vertical-align: inherit;">Оба значения по умолчанию равны 0.
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения, которые определяют ширину и высоту ячейки сетки, если 0, они интерпретируются как входная ширина и высота соответственно минус </font></font><code>thickness</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, поэтому изображение обрамляется. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>color, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет сетки. </font><font style="vertical-align: inherit;">Общий синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Если используется специальное значение </font></font><code>invert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, цвет сетки будет таким же, как у видео с инвертированной яркостью.
</font></font></p>
</dd>
<dt><samp><code>thickness, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение, задающее толщину линии сетки. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. ниже список допустимых констант.
</font></font></p>
</dd>
<dt><samp><code>replace</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применимо, если на входе есть альфа. </font><font style="vertical-align: inherit;">С </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пикселями нарисованной сетки будут перезаписаны цвет видео и альфа-пиксели. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, которое накладывает сетку на вход, оставляя альфа-канал видео нетронутым.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры для </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">являются </font></font><var><code>t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражениями, содержащими следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного дисплея такое же, как ( </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) * </font></font><var><code>sar</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения подвыборки цветности по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><samp><code>in_h, ih</code></samp></dt>
<dt><samp><code>in_w, iw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота ячейки входной сетки.
</font></font></p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного образца.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Координаты x и y некоторой точки пересечения сетки (предназначены для настройки смещения).
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота рисуемой ячейки.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Толщина нарисованной ячейки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти константы позволяют выражениям </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и ссылаться друг на друга, </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">поэтому </font></font><var><code>t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вы можете, например, указать </font></font><code>y=x/dar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>h=w/dar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="Examples-65"></span><h4 class="subsection"><a href="#toc-Examples-65"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.71.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте сетку с ячейкой 100x100 пикселей, толщиной 2 пикселя, красным цветом и непрозрачностью 50%:
</font></font><div class="example">
<pre class="example"><code>drawgrid=width=100:height=100:thickness=2:color=red@0.5
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте белую сетку 3x3 с непрозрачностью 50%:
</font></font><div class="example">
<pre class="example"><code>drawgrid=w=iw/3:h=ih/3:t=2:c=white@0.5
</code></pre></div>
</li></ul>

<span id="Commands-83"></span><h4 class="subsection"><a href="#toc-Commands-83"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.71.2 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же команды, что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="drawtext"></span><span id="drawtext-1"></span><h3 class="section"><code><a href="#toc-drawtext-1">11.72 drawtext</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте текстовую строку или текст из указанного файла поверх видео, используя библиотеку libfreetype.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам нужно настроить FFmpeg с расширением
 </font></font><code>--enable-libfreetype</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Чтобы включить резервный вариант шрифта по умолчанию и </font></font><var><code>font</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметр, вам необходимо настроить FFmpeg с расширением </font></font><code>--enable-libfontconfig</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Чтобы включить эту </font></font><var><code>text_shaping</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцию, вам нужно настроить FFmpeg с расширением
 </font></font><code>--enable-libfribidi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="Syntax"></span><h4 class="subsection"><a href="#toc-Syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.72.1 Синтаксис</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>box</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используется для рисования рамки вокруг текста с использованием цвета фона. </font><font style="vertical-align: inherit;">Значение должно быть либо 1 (включить), либо 0 (отключить). </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><var><code>box</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.
</font></font></p>
</dd>
<dt><samp><code>boxborderw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину границы, которая должна быть нарисована вокруг блока, используя </font></font><var><code>boxcolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><var><code>boxborderw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.
</font></font></p>
</dd>
<dt><samp><code>boxcolor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет, который будет использоваться для рисования рамки вокруг текста. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>boxcolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— «белый».
</font></font></p>
</dd>
<dt><samp><code>line_spacing</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите межстрочный интервал в пикселях границы, которая будет нарисована вокруг блока, используя </font></font><var><code>box</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><var><code>line_spacing</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.
</font></font></p>
</dd>
<dt><samp><code>borderw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину границы, которая будет нарисована вокруг текста, используя </font></font><var><code>bordercolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><var><code>borderw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.
</font></font></p>
</dd>
<dt><samp><code>bordercolor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет, который будет использоваться для рисования границы вокруг текста. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>bordercolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— «черный».
</font></font></p>
</dd>
<dt><samp><code>expansion</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите способ </font></font><var><code>text</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">расширения. </font><font style="vertical-align: inherit;">Может быть либо </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
 </font></font><code>strftime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(устарело), &ZeroWidthSpace;&ZeroWidthSpace;либо
 </font></font><code>normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(по умолчанию). </font><font style="vertical-align: inherit;">Подробнее см. в разделе </font></font><a href="#drawtext_005fexpansion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расширение текста</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ниже.
</font></font></p>
</dd>
<dt><samp><code>basetime</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите время начала подсчета. </font><font style="vertical-align: inherit;">Значение в микросекундах. </font><font style="vertical-align: inherit;">Применяется только в устаревшем режиме расширения strftime. </font><font style="vertical-align: inherit;">Для эмуляции в обычном режиме расширения используйте </font></font><code>pts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">функцию, указав время начала (в секундах) в качестве второго аргумента.
</font></font></p>
</dd>
<dt><samp><code>fix_bounds</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если да, проверьте и исправьте координаты текста, чтобы избежать обрезки.
</font></font></p>
</dd>
<dt><samp><code>fontcolor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет, который будет использоваться для рисования шрифтов. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>fontcolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— «черный».
</font></font></p>
</dd>
<dt><samp><code>fontcolor_expr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Строка, которая расширяется так же, как </font></font><var><code>text</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для получения динамического
 </font></font><var><code>fontcolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения. </font><font style="vertical-align: inherit;">По умолчанию эта опция имеет пустое значение и не обрабатывается. </font><font style="vertical-align: inherit;">Когда этот параметр установлен, он имеет приоритет над </font></font><var><code>fontcolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметром.
</font></font></p>
</dd>
<dt><samp><code>font</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Семейство шрифтов, которое будет использоваться для рисования текста. </font><font style="vertical-align: inherit;">По умолчанию Санс.
</font></font></p>
</dd>
<dt><samp><code>fontfile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Файл шрифта, который будет использоваться для рисования текста. </font><font style="vertical-align: inherit;">Путь должен быть включен. </font><font style="vertical-align: inherit;">Этот параметр является обязательным, если поддержка fontconfig отключена.
</font></font></p>
</dd>
<dt><samp><code>alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте текст, применяя альфа-смешивание. </font><font style="vertical-align: inherit;">Значение может быть числом от 0,0 до 1,0. </font><font style="vertical-align: inherit;">Выражение также принимает те же переменные </font></font><var><code>x, y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. См </font></font><var><code>fontcolor_expr</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. .
</font></font></p>
</dd>
<dt><samp><code>fontsize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер шрифта, который будет использоваться для рисования текста. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><var><code>fontsize</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.
</font></font></p>
</dd>
<dt><samp><code>text_shaping</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, попытайтесь изменить форму текста (например, изменить порядок текста справа налево и соединить арабские символы) перед его рисованием. </font><font style="vertical-align: inherit;">В противном случае просто нарисуйте текст точно так, как указано. </font><font style="vertical-align: inherit;">По умолчанию 1 (если поддерживается).
</font></font></p>
</dd>
<dt><samp><code>ft_load_flags</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Флаги, которые будут использоваться для загрузки шрифтов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Флаги отображают соответствующие флаги, поддерживаемые libfreetype, и представляют собой комбинацию следующих значений:
</font></font></p><dl compact="compact">
<dt><var><code>default</code></var></dt>
<dt><var><code>no_scale</code></var></dt>
<dt><var><code>no_hinting</code></var></dt>
<dt><var><code>render</code></var></dt>
<dt><var><code>no_bitmap</code></var></dt>
<dt><var><code>vertical_layout</code></var></dt>
<dt><var><code>force_autohint</code></var></dt>
<dt><var><code>crop_bitmap</code></var></dt>
<dt><var><code>pedantic</code></var></dt>
<dt><var><code>ignore_global_advance_width</code></var></dt>
<dt><var><code>no_recurse</code></var></dt>
<dt><var><code>ignore_transform</code></var></dt>
<dt><var><code>monochrome</code></var></dt>
<dt><var><code>linear_design</code></var></dt>
<dt><var><code>no_autohint</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — «по умолчанию».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения дополнительной информации обратитесь к документации по флагам FT_LOAD_* libfreetype.
</font></font></p>
</dd>
<dt><samp><code>shadowcolor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет, который будет использоваться для рисования тени за нарисованным текстом. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>shadowcolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— «черный».
</font></font></p>
</dd>
<dt><samp><code>shadowx</code></samp></dt>
<dt><samp><code>shadowy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смещения x и y для положения тени текста относительно положения текста. </font><font style="vertical-align: inherit;">Они могут быть как положительными, так и отрицательными значениями. </font><font style="vertical-align: inherit;">Значение по умолчанию для обоих — «0».
</font></font></p>
</dd>
<dt><samp><code>start_number</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Начальный номер кадра для переменной n/frame_num. </font><font style="vertical-align: inherit;">Значение по умолчанию — «0».
</font></font></p>
</dd>
<dt><samp><code>tabsize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер в количестве пробелов, используемых для отображения вкладки. </font><font style="vertical-align: inherit;">Значение по умолчанию — 4.
</font></font></p>
</dd>
<dt><samp><code>timecode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное представление тайм-кода в формате «чч:мм:сс[:;.]ff». </font><font style="vertical-align: inherit;">Его можно использовать как с текстовым параметром, так и без него. </font></font><var><code>timecode_rate</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
опция должна быть указана.
</font></font></p>
</dd>
<dt><samp><code>timecode_rate, rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту кадров тайм-кода (только тайм-код). </font><font style="vertical-align: inherit;">Значение будет округлено до ближайшего целого числа. </font><font style="vertical-align: inherit;">Минимальное значение равно "1". </font><font style="vertical-align: inherit;">Тайм-код с пропуском кадров поддерживается для частоты кадров 30 и 60.
</font></font></p>
</dd>
<dt><samp><code>tc24hmax</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, вывод опции тайм-кода будет повторяться через 24 часа. </font><font style="vertical-align: inherit;">По умолчанию 0 (отключено).
</font></font></p>
</dd>
<dt><samp><code>text</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текстовая строка для рисования. </font><font style="vertical-align: inherit;">Текст должен представлять собой последовательность символов в кодировке UTF-8. </font><font style="vertical-align: inherit;">Этот параметр является обязательным, если с параметром не указан файл
 </font></font><var><code>textfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>textfile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текстовый файл, содержащий текст для рисования. </font><font style="vertical-align: inherit;">Текст должен представлять собой последовательность символов в кодировке UTF-8.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр является обязательным, если с параметром не указана текстовая строка </font></font><var><code>text</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указаны оба </font></font><var><code>text</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>textfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, выдается ошибка.
</font></font></p>
</dd>
<dt><samp><code>text_source</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник текста должен быть установлен как side_data_detection_bboxes, если вы хотите использовать текстовые данные в полях обнаружения побочных данных.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если источник текста установлен, </font></font><var><code>text</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">он </font></font><var><code>textfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет игнорироваться и по-прежнему использовать текстовые данные в полях обнаружения побочных данных. </font><font style="vertical-align: inherit;">Поэтому, пожалуйста, не используйте этот параметр, если вы не уверены в источнике текста.
</font></font></p>
</dd>
<dt><samp><code>reload</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Будет </font></font><var><code>textfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">перезагружен через указанный интервал кадров. </font><font style="vertical-align: inherit;">Обязательно обновляйте </font></font><var><code>textfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">атомарно, иначе он может быть прочитан частично или даже не удастся. </font><font style="vertical-align: inherit;">Диапазон от 0 до INT_MAX. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения, определяющие смещения, при которых текст будет отображаться в видеокадре. </font><font style="vertical-align: inherit;">Они относятся к верхней/левой границе выходного изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно "0".
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. ниже список допустимых констант и функций.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры для </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">являются выражениями, содержащими следующие константы и функции:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">входное соотношение сторон дисплея, оно такое же, как ( </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) *</font></font><var><code>sar</code></var>
</p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения подвыборки цветности по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><samp><code>line_h, lh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">высота каждой строки текста
</font></font></p>
</dd>
<dt><samp><code>main_h, h, H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">входная высота
</font></font></p>
</dd>
<dt><samp><code>main_w, w, W</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ширина ввода
</font></font></p>
</dd>
<dt><samp><code>max_glyph_a, ascent</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">максимальное расстояние от базовой линии до наивысшей/верхней координаты сетки, используемой для размещения точки контура глифа для всех отображаемых глифов. </font><font style="vertical-align: inherit;">Это положительное значение из-за ориентации сетки по оси Y вверх.
</font></font></p>
</dd>
<dt><samp><code>max_glyph_d, descent</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">максимальное расстояние от базовой линии до самой нижней координаты сетки, используемой для размещения точки контура глифа для всех отображаемых глифов. </font><font style="vertical-align: inherit;">Это отрицательное значение из-за ориентации сетки с осью Y вверх.
</font></font></p>
</dd>
<dt><samp><code>max_glyph_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">максимальная высота глифа, то есть максимальная высота всех глифов, содержащихся в отображаемом тексте, эквивалентна </font></font><var><code>ascent</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-
 </font></font><var><code>descent</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>max_glyph_w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">максимальная ширина глифа, то есть максимальная ширина всех глифов, содержащихся в отображаемом тексте.
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер входного кадра, начиная с 0
</font></font></p>
</dd>
<dt><samp><code>rand(min, max)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вернуть случайное число между </font></font><var><code>min</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и</font></font><var><code>max</code></var>
</p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного образца.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метка времени, выраженная в секундах, NAN, если метка времени ввода неизвестна
</font></font></p>
</dd>
<dt><samp><code>text_h, th</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">высота отображаемого текста
</font></font></p>
</dd>
<dt><samp><code>text_w, tw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ширина отображаемого текста
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">координаты смещения x и y, в которых рисуется текст.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти параметры позволяют выражениям </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ссылаться друг на друга, поэтому вы можете, например, указать </font></font><code>y=x/dar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>pict_type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Односимвольное описание типа изображения текущего кадра.
</font></font></p>
</dd>
<dt><samp><code>pkt_pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текущая позиция пакета во входном файле или потоке (в байтах, от начала ввода). </font><font style="vertical-align: inherit;">Значение -1 указывает, что эта информация недоступна.
</font></font></p>
</dd>
<dt><samp><code>pkt_duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Длительность текущего пакета в секундах.
</font></font></p>
</dd>
<dt><samp><code>pkt_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текущий размер пакета (в байтах).
</font></font></p></dd>
</dl>

<span id="drawtext_005fexpansion"></span><span id="Text-expansion"></span><h4 class="subsection"><a href="#toc-Text-expansion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.72.2 Расширение текста</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если</font></font><samp><code>expansion</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено значение </font></font><code>strftime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, фильтр распознает последовательности strftime() в предоставленном тексте и соответствующим образом расширяет их. </font><font style="vertical-align: inherit;">Проверьте документацию strftime(). </font><font style="vertical-align: inherit;">Эта функция устарела.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если</font></font><samp><code>expansion</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено значение </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, текст печатается дословно.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если</font></font><samp><code>expansion</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено значение </font></font><code>normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(по умолчанию), используется следующий механизм расширения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Символ обратной косой черты '</font></font><samp><code>\</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', за которым следует любой символ, всегда расширяется до второго символа.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Последовательности формы </font></font><code>%{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">расширены. </font><font style="vertical-align: inherit;">Текст между фигурными скобками — это имя функции, за которым могут следовать аргументы, разделенные символом ':'. </font><font style="vertical-align: inherit;">Если аргументы содержат специальные символы или разделители (':' или '}'), их следует экранировать.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что они, вероятно, также должны быть экранированы как значение для
</font></font><samp><code>text</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option в строке аргумента фильтра и в качестве аргумента фильтра в описании filtergraph, а также, возможно, для оболочки, что обеспечивает до четырех уровней экранирования; </font><font style="vertical-align: inherit;">использование текстового файла позволяет избежать этих проблем.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступны следующие функции:
</font></font></p>
<dl compact="compact">
<dt><code>expr, e</code></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Результат вычисления выражения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он должен принимать один аргумент, определяющий вычисляемое выражение, которое принимает те же константы и функции, что </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения. </font><font style="vertical-align: inherit;">Обратите внимание, что не все константы должны использоваться, например, размер текста неизвестен при вычислении выражения, поэтому константы </font></font><var><code>text_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>text_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будут иметь неопределенное значение.
</font></font></p>
</dd>
<dt><code>expr_int_format, eif</code></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оцените значение выражения и выведите его в виде форматированного целого числа.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первый аргумент — это вычисляемое выражение, как и для </font></font><var><code>expr</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">функции. </font><font style="vertical-align: inherit;">Второй аргумент определяет выходной формат. </font><font style="vertical-align: inherit;">Допустимые значения: '</font></font><samp><code>x</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', '</font></font><samp><code>X</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', '</font></font><samp><code>d</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' а также '</font></font><samp><code>u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'. </font><font style="vertical-align: inherit;">Они обрабатываются точно так же, как в
 </font></font><code>printf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">функции. </font><font style="vertical-align: inherit;">Третий параметр является необязательным и устанавливает количество позиций, занимаемых выходом. </font><font style="vertical-align: inherit;">Его можно использовать для добавления нуля слева.
</font></font></p>
</dd>
<dt><code>gmtime</code></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время работы фильтра, выраженное в формате UTC. </font><font style="vertical-align: inherit;">Он может принимать аргумент: строку формата strftime(). </font><font style="vertical-align: inherit;">Строка формата расширена для поддержки переменной </font></font><var><code>%[1-6]N</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, которая печатает доли секунды с необязательно заданным количеством цифр.
</font></font></p>
</dd>
<dt><code>localtime</code></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время работы фильтра, выраженное в местном часовом поясе. </font><font style="vertical-align: inherit;">Он может принимать аргумент: строку формата strftime(). </font><font style="vertical-align: inherit;">Строка формата расширена для поддержки переменной </font></font><var><code>%[1-6]N</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, которая печатает доли секунды с необязательно заданным количеством цифр.
</font></font></p>
</dd>
<dt><code>metadata</code></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Метаданные кадра. </font><font style="vertical-align: inherit;">Принимает один или два аргумента.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первый аргумент является обязательным и указывает ключ метаданных.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Второй аргумент является необязательным и указывает значение по умолчанию, используемое, когда ключ метаданных не найден или пуст.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные метаданные можно определить, проверив записи, начинающиеся с TAG, включенные в каждый раздел кадра, напечатанный с помощью запуска </font></font><code>ffprobe -show_frames</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Также доступны строковые метаданные, сгенерированные в фильтрах, ведущих к фильтру drawtext.
</font></font></p>
</dd>
<dt><code>n, frame_num</code></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер кадра, начиная с 0.
</font></font></p>
</dd>
<dt><code>pict_type</code></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Односимвольное описание текущего типа изображения.
</font></font></p>
</dd>
<dt><code>pts</code></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная метка текущего кадра. </font><font style="vertical-align: inherit;">Может принимать до трех аргументов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первый аргумент — это формат метки времени; </font><font style="vertical-align: inherit;">по умолчанию </font></font><code>flt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
секунды представляют собой десятичное число с точностью до микросекунды; </font></font><code>hms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обозначает отформатированную </font></font><var><code>[-]HH:MM:SS.mmm</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метку времени с точностью до миллисекунды.
</font></font><code>gmtime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обозначает временную метку кадра, отформатированную как время UTC;
</font></font><code>localtime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обозначает временную метку кадра, отформатированную как местное время часового пояса.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Второй аргумент — это смещение, добавляемое к метке времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если формат установлен на </font></font><code>hms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, может быть предоставлен третий аргумент </font></font><code>24HH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для представления часовой части отформатированной метки времени в 24-часовом формате (00-23).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если задан формат </font></font><code>localtime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>gmtime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, может быть предоставлен третий аргумент: строка формата strftime(). </font><font style="vertical-align: inherit;">По умолчанию </font></font><var><code>YYYY-MM-DD HH:MM:SS</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет использоваться формат.
</font></font></p></dd>
</dl>

<span id="Commands-84"></span><h4 class="subsection"><a href="#toc-Commands-84"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.72.3 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает изменение параметров с помощью команд:
</font></font></p><dl compact="compact">
<dt><samp><code>reinit</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить существующие параметры фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синтаксис аргумента такой же, как и для вызова фильтра, например
</font></font></p>
<div class="example">
<pre class="example"><code>fontsize=56:fontcolor=green:text='Hello World'
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный вызов фильтра с помощью sendcmd будет выглядеть так:
</font></font></p>
<div class="example">
<pre class="example"><code>sendcmd=c='56.0 drawtext reinit fontsize=56\:fontcolor=green\:text=Hello\\ World'
</code></pre></div>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если весь аргумент не может быть проанализирован или применен как допустимые значения, фильтр продолжит работу с существующими параметрами.
</font></font></p>
<span id="Examples-66"></span><h4 class="subsection"><a href="#toc-Examples-66"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.72.4 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте «Тестовый текст» шрифтом FreeSerif, используя значения по умолчанию для дополнительных параметров.

</font></font><div class="example">
<pre class="example"><code>drawtext="fontfile=/usr/share/fonts/truetype/freefont/FreeSerif.ttf: text='Test Text'"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте «Тестовый текст» шрифтом FreeSerif размером 24 в позициях x=100 и y=50 (считая от верхнего левого угла экрана), текст будет желтым с красной рамкой вокруг него. </font><font style="vertical-align: inherit;">И текст, и поле имеют непрозрачность 20%.

</font></font><div class="example">
<pre class="example"><code>drawtext="fontfile=/usr/share/fonts/truetype/freefont/FreeSerif.ttf: text='Test Text':\<font></font>
          x=100: y=50: fontsize=24: fontcolor=yellow@0.2: box=1: boxcolor=red@0.2"<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что двойные кавычки не нужны, если в списке параметров не используются пробелы.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать текст в центре кадра видео:
</font></font><div class="example">
<pre class="example"><code>drawtext="fontsize=30:fontfile=FreeSerif.ttf:text='hello world':x=(w-text_w)/2:y=(h-text_h)/2"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать текст в произвольной позиции, переключаясь на новую позицию каждые 30 секунд:
</font></font><div class="example">
<pre class="example"><code>drawtext="fontsize=30:fontfile=FreeSerif.ttf:text='hello world':x=if(eq(mod(t\,30)\,0)\,rand(0\,(w-text_w))\,x):y=if(eq(mod(t\,30)\,0)\,rand(0\,(h-text_h))\,y)"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Покажите текстовую строку, скользящую справа налево в последней строке видеокадра. </font><font style="vertical-align: inherit;">Файл</font></font><samp><code>LONG_LINE</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предполагается, что он содержит одну строку без символов новой строки.
</font></font><div class="example">
<pre class="example"><code>drawtext="fontsize=15:fontfile=FreeSerif.ttf:text=LONG_LINE:y=h-line_h:x=-50*t"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать содержимое файла</font></font><samp><code>CREDITS</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от нижней части кадра и прокрутите вверх.
</font></font><div class="example">
<pre class="example"><code>drawtext="fontsize=20:fontfile=FreeSerif.ttf:textfile=CREDITS:y=h-20*t"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте одну зеленую букву «g» в центре входного видео. </font><font style="vertical-align: inherit;">Базовая линия глифа располагается на половине высоты экрана.
</font></font><div class="example">
<pre class="example"><code>drawtext="fontsize=60:fontfile=FreeSerif.ttf:fontcolor=green:text=g:x=(w-max_glyph_w)/2:y=h/2-ascent"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показывать текст на 1 секунду каждые 3 секунды:
</font></font><div class="example">
<pre class="example"><code>drawtext="fontfile=FreeSerif.ttf:fontcolor=white:x=100:y=x/dar:enable=lt(mod(t\,3)\,1):text='blink'"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте fontconfig для установки шрифта. </font><font style="vertical-align: inherit;">Обратите внимание, что двоеточия должны быть экранированы.
</font></font><div class="example">
<pre class="example"><code>drawtext='fontfile=Linux Libertine O-40\:style=Semibold:text=FFmpeg'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте «Тестовый текст» с размером шрифта, зависящим от высоты видео.
</font></font><div class="example">
<pre class="example"><code>drawtext="text='Test Text': fontsize=h/30: x=(w-text_w)/2: y=(h-text_h*2)"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вывести дату кодирования в реальном времени (см. strftime(3)):
</font></font><div class="example">
<pre class="example"><code>drawtext='fontfile=FreeSans.ttf:text=%{localtime\:%a %b %d %Y}'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показывать появление и исчезновение текста (появление/исчезновение):
</font></font><div class="example">
<pre class="example"><code>#!/bin/sh<font></font>
DS=1.0 # display start<font></font>
DE=10.0 # display end<font></font>
FID=1.5 # fade in duration<font></font>
FOD=5 # fade out duration<font></font>
ffplay -f lavfi "color,drawtext=text=TEST:fontsize=50:fontfile=FreeSerif.ttf:fontcolor_expr=ff0000%{eif\\\\: clip(255*(1*between(t\\, $DS + $FID\\, $DE - $FOD) + ((t - $DS)/$FID)*between(t\\, $DS\\, $DS + $FID) + (-(t - $DE)/$FOD)*between(t\\, $DE - $FOD\\, $DE) )\\, 0\\, 255) \\\\: x\\\\: 2 }"<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Горизонтальное выравнивание нескольких отдельных текстов. </font><font style="vertical-align: inherit;">Обратите внимание, что</font></font><samp><code>max_glyph_a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
и</font></font><samp><code>fontsize</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">стоимость входит в</font></font><samp><code>y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">компенсировать.
</font></font><div class="example">
<pre class="example"><code>drawtext=fontfile=FreeSans.ttf:text=DOG:fontsize=24:x=10:y=20+24-max_glyph_a,<font></font>
drawtext=fontfile=FreeSans.ttf:text=cow:fontsize=24:x=80:y=20+24-max_glyph_a<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нанесите специальные </font></font><var><code>lavf.image2dec.source_basename</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метаданные на каждый кадр, если такие метаданные существуют. </font><font style="vertical-align: inherit;">В противном случае нарисуйте строку «NA». </font><font style="vertical-align: inherit;">Обратите внимание, что демультиплексор image2 должен иметь опцию</font></font><samp><code>-export_path_metadata 1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чтобы специальные поля метаданных были доступны для фильтров.
</font></font><div class="example">
<pre class="example"><code>drawtext="fontsize=20:fontcolor=white:fontfile=FreeSans.ttf:text='%{metadata\:lavf.image2dec.source_basename\:NA}':x=10:y=10"
</code></pre></div>

</li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения дополнительной информации о libfreetype посетите:
 </font></font><a href="http://www.freetype.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.freetype.org/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения дополнительной информации о fontconfig посетите:
 </font></font><a href="http://freedesktop.org/software/fontconfig/fontconfig-user.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://freedesktop.org/software/fontconfig/fontconfig-user.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения дополнительной информации о libfribidi посетите:
 </font></font><a href="http://fribidi.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://fribidi.org/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="edgedetect"></span><h3 class="section"><code><a href="#toc-edgedetect">11.73 edgedetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение и рисование краев. </font><font style="vertical-align: inherit;">Фильтр использует алгоритм Canny Edge Detection.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>low</code></samp></dt>
<dt><samp><code>high</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите нижнее и верхнее пороговые значения, используемые алгоритмом определения порога Кэнни.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высокий порог выбирает «сильные» краевые пиксели, которые затем соединяются через 8-связность со «слабыми» краевыми пикселями, выбранными с помощью низкого порога.
</font></font></p>
<p><var><code>low</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а </font></font><var><code>high</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пороговые значения должны быть выбраны в диапазоне [0,1] и </font></font><var><code>low</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">должны быть меньше или равны </font></font><var><code>high</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для </font></font><var><code>low</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>20/255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а значение по умолчанию </font></font><var><code>high</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
для </font></font><code>50/255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите режим рисования.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wires</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте белые/серые провода на черном фоне.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>colormix</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешайте цвета, чтобы создать эффект краски/мультфильма.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>canny</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените детектор краев Canny ко всем выбранным плоскостям.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>wires</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите плоскости для фильтрации. </font><font style="vertical-align: inherit;">По умолчанию фильтруются все доступные плоскости.
</font></font></p></dd>
</dl>

<span id="Examples-67"></span><h4 class="subsection"><a href="#toc-Examples-67"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.73.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стандартное обнаружение краев с пользовательскими значениями порога гистерезиса:
</font></font><div class="example">
<pre class="example"><code>edgedetect=low=0.1:high=0.4
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эффект рисования без порога:
</font></font><div class="example">
<pre class="example"><code>edgedetect=mode=colormix:high=0
</code></pre></div>
</li></ul>

<span id="elbg"></span><h3 class="section"><code><a href="#toc-elbg">11.74 elbg</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект постеризации, используя алгоритм ELBG (Enhanced LBG).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для каждого входного изображения фильтр будет вычислять оптимальное отображение входных данных в выходные данные с учетом длины кодовой книги, то есть количества различных выходных цветов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры.
</font></font></p>
<dl compact="compact">
<dt><samp><code>codebook_length, l</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить длину кодовой книги. </font><font style="vertical-align: inherit;">Значение должно быть положительным целым числом и представлять количество различных выходных цветов. </font><font style="vertical-align: inherit;">Значение по умолчанию — 256.
</font></font></p>
</dd>
<dt><samp><code>nb_steps, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество итераций для расчета оптимального отображения. </font><font style="vertical-align: inherit;">Чем выше значение, тем лучше результат и тем выше время вычисления. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>seed, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите случайное начальное число, это должно быть целое число от 0 до UINT32_MAX. </font><font style="vertical-align: inherit;">Если не указано или явно задано значение -1, фильтр попытается использовать хорошее случайное начальное число в максимально возможной степени.
</font></font></p>
</dd>
<dt><samp><code>pal8</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат выходных пикселей pal8. </font><font style="vertical-align: inherit;">Эта опция не работает, если длина кодовой книги больше 256. По умолчанию отключена.
</font></font></p>
</dd>
<dt><samp><code>use_alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите альфа-значения в расчет квантования. </font><font style="vertical-align: inherit;">Позволяет создавать выходные изображения с палитрой (например, PNG8) с несколькими сглаженными альфа-каналами.
</font></font></p></dd>
</dl>

<span id="entropy"></span><h3 class="section"><code><a href="#toc-entropy">11.75 entropy</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измерьте энтропию уровня серого в гистограмме цветовых каналов видеокадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть или </font></font><var><code>normal</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>diff</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>normal</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><var><code>diff</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">измеряет энтропию значений дельты гистограммы, абсолютные различия между соседними значениями гистограммы.
</font></font></p></dd>
</dl>

<span id="epx"></span><h3 class="section"><code><a href="#toc-epx">11.76 epx</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр увеличения EPX, разработанный для пиксельной графики.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размерность масштабирования: </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><code>2xEPX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для
 </font></font><code>3xEPX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="eq"></span><h3 class="section"><code><a href="#toc-eq">11.77 eq</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите яркость, контрастность, насыщенность и примерную регулировку гаммы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>contrast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите контрастное выражение. </font><font style="vertical-align: inherit;">Значение должно быть значением с плавающей запятой в диапазоне
 </font></font><code>-1000.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>1000.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — «1».
</font></font></p>
</dd>
<dt><samp><code>brightness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение яркости. </font><font style="vertical-align: inherit;">Значение должно быть значением с плавающей запятой в диапазоне </font></font><code>-1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — «0».
</font></font></p>
</dd>
<dt><samp><code>saturation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение насыщенности. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой в диапазоне </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>3.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — «1».
</font></font></p>
</dd>
<dt><samp><code>gamma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите гамма-выражение. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой в диапазоне
 </font></font><code>0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>10.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — «1».
</font></font></p>
</dd>
<dt><samp><code>gamma_r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите гамма-выражение для красного цвета. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой в диапазоне </font></font><code>0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>10.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — «1».
</font></font></p>
</dd>
<dt><samp><code>gamma_g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите гамма-выражение для зеленого цвета. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой в диапазоне
 </font></font><code>0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>10.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — «1».
</font></font></p>
</dd>
<dt><samp><code>gamma_b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте гамма-выражение для синего цвета. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой в диапазоне
 </font></font><code>0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>10.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — «1».
</font></font></p>
</dd>
<dt><samp><code>gamma_weight</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение гамма-веса. </font><font style="vertical-align: inherit;">Его можно использовать для уменьшения эффекта высокого значения гаммы на ярких участках изображения, например, для предотвращения их чрезмерного усиления и просто белого цвета. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой в диапазоне </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">полностью снижает гамма-коррекцию, </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оставляя ее в полной силе. </font><font style="vertical-align: inherit;">По умолчанию "1".
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, когда оцениваются выражения для яркости, контраста, насыщенности и гаммы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивайте выражения только один раз во время инициализации фильтра или при обработке команды
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивать выражения для каждого входящего кадра
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения принимают следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество кадров входного кадра, начиная с 0
</font></font></p>
</dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">позиция байта соответствующего пакета во входном файле, NAN, если не указано
</font></font></p>
</dd>
<dt><samp><code>r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота кадров входного видео, NAN, если частота кадров входного сигнала неизвестна
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метка времени, выраженная в секундах, NAN, если метка времени ввода неизвестна
</font></font></p></dd>
</dl>

<span id="Commands-85"></span><h4 class="subsection"><a href="#toc-Commands-85"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.77.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр поддерживает следующие команды:
</font></font></p>
<dl compact="compact">
<dt><samp><code>contrast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите контрастное выражение.
</font></font></p>
</dd>
<dt><samp><code>brightness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение яркости.
</font></font></p>
</dd>
<dt><samp><code>saturation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение насыщенности.
</font></font></p>
</dd>
<dt><samp><code>gamma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите гамма-выражение.
</font></font></p>
</dd>
<dt><samp><code>gamma_r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение gamma_r.
</font></font></p>
</dd>
<dt><samp><code>gamma_g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение gamma_g.
</font></font></p>
</dd>
<dt><samp><code>gamma_b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение gamma_b.
</font></font></p>
</dd>
<dt><samp><code>gamma_weight</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение gamma_weight.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
</dd>
</dl>

<span id="erosion"></span><span id="erosion-1"></span><h3 class="section"><code><a href="#toc-erosion-1">11.78 erosion</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект эрозии к видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр заменяет пиксель локальным (3x3) минимумом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold0</code></samp></dt>
<dt><samp><code>threshold1</code></samp></dt>
<dt><samp><code>threshold2</code></samp></dt>
<dt><samp><code>threshold3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничьте максимальное изменение для каждой плоскости, по умолчанию 65535. Если 0, плоскость останется неизменной.
</font></font></p>
</dd>
<dt><samp><code>coordinates</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Флаг, указывающий пиксель, на который следует ссылаться. </font><font style="vertical-align: inherit;">По умолчанию 255, т.е. используются все восемь пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Флаги для локальных карт 3x3 координаты, как это:
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 2 3 4 5 6 7 8
</font></font></p></dd>
</dl>

<span id="Commands-86"></span><h4 class="subsection"><a href="#toc-Commands-86"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.78.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="estdif"></span><h3 class="section"><code><a href="#toc-estdif">11.79 estdif</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсинг входного видео («estdif» означает «Фильтр деинтерлейсинга трассировки наклона края»).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Только пространственный фильтр, использующий алгоритм трассировки наклона краев для интерполяции отсутствующих линий. </font><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим чересстрочной развертки для принятия. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите один кадр для каждого кадра.
</font></font></p></dd>
<dt><samp><code>field</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите по одному кадру для каждого поля.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>parity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Четность поля изображения, предполагаемая для входного чересстрочного видео. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>tff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что верхнее поле является первым.
</font></font></p></dd>
<dt><samp><code>bff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что нижнее поле является первым.
</font></font></p></dd>
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите автоматическое определение четности полей.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если чередование неизвестно или декодер не экспортирует эту информацию, сначала предполагается верхнее поле.
</font></font></p>
</dd>
<dt><samp><code>deint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие кадры следует деинтерлейсировать. </font><font style="vertical-align: inherit;">Принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>all</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсировать все кадры.
</font></font></p></dd>
<dt><samp><code>interlaced</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Только деинтерлейсные кадры, помеченные как чересстрочные.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rslope</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите радиус поиска для трассировки уклона кромки. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Допустимый диапазон — от 1 до 15.
</font></font></p>
</dd>
<dt><samp><code>redge</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите радиус поиска для наилучшего сопоставления краев. </font><font style="vertical-align: inherit;">Значение по умолчанию — 2. Допустимый диапазон — от 0 до 15.
</font></font></p>
</dd>
<dt><samp><code>ecost</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите стоимость ребра для сопоставления ребер. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1,0. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 9.
</font></font></p>
</dd>
<dt><samp><code>mcost</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите среднюю стоимость для сопоставления ребер. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,5. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>dcost</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите стоимость расстояния для сопоставления ребер. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,5. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>interp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите используемую интерполяцию. </font><font style="vertical-align: inherit;">По умолчанию используется 4-точечная интерполяция. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>2p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Двухточечная интерполяция.
</font></font></p></dd>
<dt><samp><code>4p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Четырехточечная интерполяция.
</font></font></p></dd>
<dt><samp><code>6p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Шеститочечная интерполяция.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-87"></span><h4 class="subsection"><a href="#toc-Commands-87"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.79.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="exposure"></span><h3 class="section"><code><a href="#toc-exposure">11.80 exposure</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте экспозицию видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>exposure</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коррекцию экспозиции в EV. </font><font style="vertical-align: inherit;">Допустимый диапазон: от -3,0 до 3,0 EV. Значение по умолчанию: 0 EV.
</font></font></p>
</dd>
<dt><samp><code>black</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коррекцию уровня черного. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1,0 до 1,0. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p></dd>
</dl>

<span id="Commands-88"></span><h4 class="subsection"><a href="#toc-Commands-88"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.80.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="extractplanes"></span><h3 class="section"><code><a href="#toc-extractplanes">11.81 extractplanes</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлечение компонентов цветового канала из входного видеопотока в отдельные видеопотоки в градациях серого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите плоскость(и) для извлечения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения для плоскостей:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>v</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>g</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выбор плоскостей, недоступных во входных данных, приведет к ошибке. </font><font style="vertical-align: inherit;">Это означает, что вы не можете одновременно выбирать </font></font><code>r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>g</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">плоскости с </font></font><code>y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>u</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">плоскостями.
</font></font></p></dd>
</dl>

<span id="Examples-68"></span><h4 class="subsection"><a href="#toc-Examples-68"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.81.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлеките компоненты цветового канала яркости, u и v из входного видеокадра в 3 выхода в градациях серого:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i video.avi -filter_complex 'extractplanes=y+u+v[y][u][v]' -map '[y]' y.avi -map '[u]' u.avi -map '[v]' v.avi
</code></pre></div>
</li></ul>

<span id="fade"></span><h3 class="section"><code><a href="#toc-fade">11.82 fade</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект постепенного появления/затухания к входному видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип эффекта может быть либо «in» для постепенного появления, либо «out» для эффекта постепенного исчезновения. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>in</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start_frame, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите номер кадра, с которого следует начать применять эффект затухания. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>nb_frames, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество кадров, в течение которых длится эффект затухания. </font><font style="vertical-align: inherit;">В конце эффекта нарастания выходное видео будет иметь ту же интенсивность, что и входное видео. </font><font style="vertical-align: inherit;">В конце перехода затухания выходное видео будет заполнено выбранным</font></font><samp><code>color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию 25.
</font></font></p>
</dd>
<dt><samp><code>alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, затемнять только альфа-канал, если он существует на входе. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>start_time, st</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите временную метку (в секундах) кадра, чтобы начать применять эффект затухания. </font><font style="vertical-align: inherit;">Если указаны и start_frame, и start_time, затухание начнется в зависимости от того, что наступит последним. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество секунд, в течение которых должен длиться эффект затухания. </font><font style="vertical-align: inherit;">В конце эффекта затухания выходное видео будет иметь ту же интенсивность, что и входное видео, в конце перехода затухания выходное видео будет заполнено выбранным</font></font><samp><code>color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если указаны и длительность, и nb_frames, используется длительность. </font><font style="vertical-align: inherit;">По умолчанию 0 (по умолчанию используется nb_frames).
</font></font></p>
</dd>
<dt><samp><code>color, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет затухания. </font><font style="vertical-align: inherit;">По умолчанию «черный».
</font></font></p></dd>
</dl>

<span id="Examples-69"></span><h4 class="subsection"><a href="#toc-Examples-69"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.82.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затухание первых 30 кадров видео:
</font></font><div class="example">
<pre class="example"><code>fade=in:0:30
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Приведенная выше команда эквивалентна:
</font></font></p><div class="example">
<pre class="example"><code>fade=t=in:s=0:n=30
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затемнение последних 45 кадров 200-кадрового видео:
</font></font><div class="example">
<pre class="example"><code>fade=out:155:45<font></font>
fade=type=out:start_frame=155:nb_frames=45<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затемнение первых 25 кадров и исчезновение последних 25 кадров 1000-кадрового видео:
</font></font><div class="example">
<pre class="example"><code>fade=in:0:25, fade=out:975:25
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте первые 5 кадров желтыми, затем постепенно добавляйте кадры с 5 по 24:
</font></font><div class="example">
<pre class="example"><code>fade=in:5:20:color=yellow
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затухание в альфа-канале первых 25 кадров видео:
</font></font><div class="example">
<pre class="example"><code>fade=in:0:25:alpha=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте первые 5,5 секунд черными, затем постепенно увеличивайте яркость на 0,5 секунды:
</font></font><div class="example">
<pre class="example"><code>fade=t=in:st=5.5:d=0.5
</code></pre></div>

</li></ul>

<span id="feedback"></span><h3 class="section"><code><a href="#toc-feedback">11.83 feedback</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить видео фильтр обратной связи.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр передает обрезанные входные кадры на второй выход. </font><font style="vertical-align: inherit;">Оттуда его можно отфильтровать с помощью других видеофильтров. </font><font style="vertical-align: inherit;">После того, как фильтр получает кадр со 2-го входа, этот кадр объединяется поверх исходного кадра с 1-го входа и передается на 1-й выход.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Типичное использование — фильтровать только часть кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите верхнее левое положение обрезки.
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер обрезки.
</font></font></p></dd>
</dl>

<span id="Examples-70"></span><h4 class="subsection"><a href="#toc-Examples-70"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.83.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размытие только верхней левой прямоугольной части видеокадра размером 100x100 с помощью фильтра gblur.
</font></font><div class="example">
<pre class="example"><code>[in][blurin]feedback=x=0:y=0:w=100:h=100[out][blurout];[blurout]gblur=8[blurin]
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте черный ящик в верхней левой части видеокадра размером 100x100 с фильтром drawbox.
</font></font><div class="example">
<pre class="example"><code>[in][blurin]feedback=x=0:y=0:w=100:h=100[out][blurout];[blurout]drawbox=x=0:y=0:w=100:h=100:t=100[blurin]
</code></pre></div>
</li></ul>

<span id="fftdnoiz"></span><h3 class="section"><code><a href="#toc-fftdnoiz">11.84 fftdnoiz</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кадры шумоподавления с помощью 3D FFT (фильтрация в частотной области).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sigma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите постоянную сигма шума. </font><font style="vertical-align: inherit;">Это устанавливает силу шумоподавления. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Допустимый диапазон — от 0 до 30. Использование очень высокого сигма с низким перекрытием может привести к блокирующим артефактам.
</font></font></p>
</dd>
<dt><samp><code>amount</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество шумоподавления. </font><font style="vertical-align: inherit;">По умолчанию все обнаруженные шумы уменьшаются. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1. Допустимый диапазон — от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>block</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока в пикселях, по умолчанию 32, может быть от 8 до 256.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить перекрытие блоков. </font><font style="vertical-align: inherit;">По умолчанию 0,5. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,2 до 0,8.
</font></font></p>
</dd>
<dt><samp><code>method</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить метод шумоподавления. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><code>wiener</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, также может быть </font></font><code>hard</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>prev</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество предыдущих кадров для шумоподавления. </font><font style="vertical-align: inherit;">По умолчанию установлено значение 0.
</font></font></p>
</dd>
<dt><samp><code>next</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество следующих кадров для шумоподавления. </font><font style="vertical-align: inherit;">По умолчанию установлено значение 0.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите плоскости, которые будут отфильтрованы, по умолчанию все доступные фильтры, кроме альфа.
</font></font></p></dd>
</dl>

<span id="fftfilt"></span><h3 class="section"><code><a href="#toc-fftfilt">11.85 fftfilt</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применение произвольных выражений к образцам в частотной области
</font></font></p>
<dl compact="compact">
<dt><samp><code>dc_Y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте значение постоянного тока (усиление) плоскости яркости изображения. </font><font style="vertical-align: inherit;">Фильтр принимает целочисленное значение в диапазоне </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>1000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию установлено значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>dc_U</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте значение постоянного тока (усиление) 1-й плоскости цветности изображения. </font><font style="vertical-align: inherit;">Фильтр принимает целочисленное значение в диапазоне </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>1000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию установлено значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>dc_V</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте значение постоянного тока (усиление) 2-й плоскости цветности изображения. </font><font style="vertical-align: inherit;">Фильтр принимает целочисленное значение в диапазоне </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>1000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию установлено значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>weight_Y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите весовое выражение частотной области для плоскости яркости.
</font></font></p>
</dd>
<dt><samp><code>weight_U</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите весовое выражение частотной области для 1-й плоскости цветности.
</font></font></p>
</dd>
<dt><samp><code>weight_V</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите весовое выражение частотной области для 2-й плоскости цветности.
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, когда выражения оцениваются.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценивайте выражения только один раз во время инициализации фильтра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оцените выражения для каждого входящего кадра.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие переменные:
</font></font></p></dd>
<dt><samp><code>X</code></samp></dt>
<dt><samp><code>Y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Координаты текущего образца.
</font></font></p>
</dd>
<dt><samp><code>W</code></samp></dt>
<dt><samp><code>H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота изображения.
</font></font></p>
</dd>
<dt><samp><code>N</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер входного кадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>WS</code></samp></dt>
<dt><samp><code>HS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер массива БПФ для горизонтальной и вертикальной обработки.
</font></font></p></dd>
</dl>

<span id="Examples-71"></span><h4 class="subsection"><a href="#toc-Examples-71"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.85.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высокая частота:
</font></font><div class="example">
<pre class="example"><code>fftfilt=dc_Y=128:weight_Y='squish(1-(Y+X)/100)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">НЧ:
</font></font><div class="example">
<pre class="example"><code>fftfilt=dc_Y=0:weight_Y='squish((Y+X)/100-1)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Резкость:
</font></font><div class="example">
<pre class="example"><code>fftfilt=dc_Y=0:weight_Y='1+squish(1-(Y+X)/100)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размытие:
</font></font><div class="example">
<pre class="example"><code>fftfilt=dc_Y=0:weight_Y='exp(-4 * ((Y+X)/(W+H)))'
</code></pre></div>

</li></ul>

<span id="field"></span><h3 class="section"><code><a href="#toc-field">11.86 field</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлеките одно поле из чересстрочного изображения, используя арифметику шага, чтобы не тратить процессорное время. </font><font style="vertical-align: inherit;">Выходные кадры помечаются как не чересстрочные.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, следует ли извлекать верхнее (если значение равно </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или
 </font></font><code>top</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) или нижнее поле (если значение равно </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или
 </font></font><code>bottom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
</dl>

<span id="fieldhint"></span><h3 class="section"><code><a href="#toc-fieldhint">11.87 fieldhint</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте новые фреймы, скопировав верхнее и нижнее поля из окружающих фреймов, представленных в виде чисел файлом подсказки.
</font></font></p>
<dl compact="compact">
<dt><samp><code>hint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить файл с подсказками: абсолютные/относительные номера кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для каждого кадра в клипе должна быть одна строка. </font><font style="vertical-align: inherit;">Каждая строка должна содержать два числа, разделенных запятой, за которыми может следовать </font></font><code>-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Числа, указанные в каждой строке файла, не могут быть за пределами [N-1,N+1], где N — номер текущего кадра для </font></font><code>absolute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режима, или из диапазона [-1, 1] для </font></font><code>relative</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режима. </font><font style="vertical-align: inherit;">Первое число указывает, из какого кадра брать верхнее поле, а второе число указывает, из какого кадра брать нижнее поле.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если за ним необязательно следует </font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выходной кадр, он будет помечен как чересстрочный, в противном случае, если за ним следует </font></font><code>-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выходной кадр, он будет помечен как прогрессивный, в противном случае он будет помечен так же, как входной кадр. </font><font style="vertical-align: inherit;">Если за ним необязательно следует </font></font><code>t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выходной кадр, будет использоваться только верхнее поле, или, в случае </font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">его наличия, будет использоваться только нижнее поле. </font><font style="vertical-align: inherit;">Если строка начинается с </font></font><code>#</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">эта строка пропускается.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть пунктом </font></font><code>absolute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>relative</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>pattern</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>absolute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Режим </font></font><code>pattern</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">такой же, как и </font></font><code>relative</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим, за исключением последней записи файла, если имеется больше кадров для обработки, чем </font></font><code>hint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">файл ищет обратно к началу.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример первых нескольких строк </font></font><code>hint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">файла для </font></font><code>relative</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режима:
</font></font></p><div class="example">
<pre class="example"><code>0,0 - # first frame<font></font>
1,0 - # second frame, use third's frame top field and second's frame bottom field<font></font>
1,0 - # third frame, use fourth's frame top field and third's frame bottom field<font></font>
1,0 -<font></font>
0,0 -<font></font>
0,0 -<font></font>
1,0 -<font></font>
1,0 -<font></font>
1,0 -<font></font>
0,0 -<font></font>
0,0 -<font></font>
1,0 -<font></font>
1,0 -<font></font>
1,0 -<font></font>
0,0 -<font></font>
</code></pre></div>

<span id="fieldmatch"></span><h3 class="section"><code><a href="#toc-fieldmatch">11.88 fieldmatch</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр согласования полей для обратного телесина. </font><font style="vertical-align: inherit;">Он предназначен для восстановления прогрессивных кадров из телесинового потока. </font><font style="vertical-align: inherit;">Фильтр не отбрасывает дублированные кадры, поэтому для достижения полного обратного телесина </font></font><code>fieldmatch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">необходимо, чтобы за ним следовал фильтр прореживания, такой как прореживание </font></font><a href="#decimate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> графе фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделение сопоставления полей и прореживания особенно мотивировано возможностью вставки резервного фильтра деинтерлейсинга между ними. </font><font style="vertical-align: inherit;">Если в источнике смешано телесиновое и реальное чересстрочное содержимое,
 </font></font><code>fieldmatch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">невозможно будет сопоставить поля для чересстрочных частей. </font><font style="vertical-align: inherit;">Но эти оставшиеся гребенчатые кадры будут помечены как чересстрочные, и, таким образом, могут быть деинтерлейсированы более поздним фильтром, таким как </font></font><a href="#yadif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yadif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , до прореживания.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В дополнение к различным параметрам конфигурации </font></font><code>fieldmatch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">можно использовать дополнительный второй поток, активируемый через</font></font><samp><code>ppsrc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант. </font><font style="vertical-align: inherit;">Если включено, реконструкция кадров будет основываться на полях и кадрах из этого второго потока. </font><font style="vertical-align: inherit;">Это позволяет предварительно обрабатывать первый ввод, чтобы помочь различным алгоритмам фильтра, сохраняя при этом вывод без потерь (при условии, что поля сопоставляются правильно). </font><font style="vertical-align: inherit;">Как правило, может помочь полевой шумоподавитель или настройки яркости/контрастности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что этот фильтр использует те же алгоритмы, что и TIVTC/TFM (проект AviSynth) и VIVTC/VFM (проект VapourSynth). </font><font style="vertical-align: inherit;">Последний является легким клоном TFM, на котором </font></font><code>fieldmatch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">он основан. </font><font style="vertical-align: inherit;">Хотя семантика и использование очень близки, некоторые имена поведения и опций могут различаться.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Десятичный </font></font><a href="#decimate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> в настоящее время работает только для ввода с постоянной частотой кадров. </font><font style="vertical-align: inherit;">Если ваш вход содержит смешанный телесин (30 кадров в секунду) и прогрессивный контент с более низкой частотой кадров, например 24 кадра в секунду, используйте следующую цепочку фильтров для создания необходимого потока cfr: </font></font><code>dejudder,fps=30000/1001,fieldmatch,decimate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите предполагаемый порядок полей входного потока. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Автоматическое определение четности (используйте внутреннее значение четности FFmpeg).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сначала предположим, что нижнее поле.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сначала предположим, что верхнее поле.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что иногда рекомендуется не доверять четности, объявленной потоком.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>auto</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим сопоставления или стратегию для использования.</font></font><samp><code>pc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим является самым безопасным в том смысле, что он не будет рисковать созданием рывков из-за дублирования кадров, когда это возможно, но если есть плохие изменения или смешанные поля, он в конечном итоге выведет гребенчатые кадры, когда на самом деле может существовать хорошее совпадение. </font><font style="vertical-align: inherit;">С другой стороны,</font></font><samp><code>pcn_ub</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим является наиболее рискованным с точки зрения создания рывков, но почти всегда найдет хороший кадр, если он есть. </font><font style="vertical-align: inherit;">Все остальные значения находятся где-то посередине.</font></font><samp><code>pc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>pcn_ub</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с точки зрения риска рывков и создания дубликатов кадров по сравнению с поиском хороших совпадений в разделах с плохими правками, потерянными полями, смешанными полями и т. д.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более подробная информация о p/c/n/u/b доступна в </font><font style="vertical-align: inherit;">разделе
 </font></font><a href="#p_002fc_002fn_002fu_002fb-meaning"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения p/c/n/u/b .</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-стороннее сопоставление (p/c)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pc_n</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-стороннее сопоставление и попытка 3-го сопоставления, если все еще прочесаны (p/c + n)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pc_u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-стороннее сопоставление и попытка 3-го сопоставления (в том же порядке), если все еще прочесаны (p/c + u)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pc_n_ub</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-стороннее сопоставление, попытка 3-го совпадения, если все еще прочесана, и попытка 4-го/5-го совпадения, если все еще прочесана (p/c + n + u/b)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pcn</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3-стороннее сопоставление (p/c/n)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pcn_ub</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3-стороннее сопоставление и попытка 4-го/5-го совпадения, если все 3 исходных совпадения обнаружены как прочесанные (p/c/n + u/b)
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скобки в конце указывают совпадения, которые будут использоваться для этого режима, предполагая, что</font></font><samp><code>order</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>tff</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(и</font></font><samp><code>field</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">на </font></font><var><code>auto</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или
 </font></font><var><code>top</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">С точки зрения скорости</font></font><samp><code>pc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режим, безусловно, самый быстрый и</font></font><samp><code>pcn_ub</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">является самым медленным.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>pc_n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>ppsrc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте основной поток ввода как предварительно обработанный ввод и включите вторичный поток ввода в качестве чистого источника для выбора полей. </font><font style="vertical-align: inherit;">Подробнее см. во введении к фильтру. </font><font style="vertical-align: inherit;">Это похоже на</font></font><samp><code>clip2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">функция от VFM/TFM.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(отключено).
</font></font></p>
</dd>
<dt><samp><code>field</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите поле для сопоставления. </font><font style="vertical-align: inherit;">Рекомендуется установить это значение равным
</font></font><samp><code>order</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">если вы не столкнетесь с ошибками сопоставления с этим параметром. </font><font style="vertical-align: inherit;">В определенных обстоятельствах изменение поля, используемого для сопоставления, может сильно повлиять на производительность сопоставления. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Автоматически (то же значение, что и</font></font><samp><code>order</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bottom</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соответствие из нижнего поля.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>top</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совпадение с верхнего поля.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>auto</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mchroma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, будет ли цветность включена во время сравнения совпадений. </font><font style="vertical-align: inherit;">В большинстве случаев рекомендуется оставлять это включенным. </font><font style="vertical-align: inherit;">Вы должны установить это значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
только в том случае, если в вашем клипе есть проблемы с цветностью, такие как сильная радуга или другие артефакты. </font><font style="vertical-align: inherit;">Установка этого </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметра также может быть использована для ускорения работы за счет некоторой точности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>y0</code></samp></dt>
<dt><samp><code>y1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Они определяют полосу исключения, которая исключает линии между</font></font><samp><code>y0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также
</font></font><samp><code>y1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от включения в решение о сопоставлении полей. </font><font style="vertical-align: inherit;">Полоса исключения может использоваться для игнорирования субтитров, логотипа или других вещей, которые могут помешать сопоставлению.</font></font><samp><code>y0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливает начальную строку сканирования и
</font></font><samp><code>y1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливает конечную линию; </font><font style="vertical-align: inherit;">все линии между</font></font><samp><code>y0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также
</font></font><samp><code>y1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(включая</font></font><samp><code>y0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>y1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) будет игнорироваться. </font><font style="vertical-align: inherit;">Параметр
</font></font><samp><code>y0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>y1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">на то же значение отключит эту функцию.
</font></font><samp><code>y0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>y1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>scthresh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог обнаружения изменения сцены в процентах от максимального изменения на плоскости яркости. </font><font style="vertical-align: inherit;">Хорошие значения находятся в </font></font><code>[8.0, 14.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">диапазоне. </font><font style="vertical-align: inherit;">Обнаружение смены сцены актуально только в случае</font></font><samp><code>combmatch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>sc</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Диапазон для
</font></font><samp><code>scthresh</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">есть </font></font><code>[0.0, 100.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>12.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>combmatch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Когда</font></font><samp><code>combatch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is not </font></font><var><code>none</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>fieldmatch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">при принятии решения о том, какое совпадение использовать в качестве финального, будет учитываться прочесанный счет матчей. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нет окончательного сопоставления на основе гребенчатых оценок.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Комбинированные оценки используются только при обнаружении смены сцены.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>full</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте гребенчатые оценки все время.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>sc</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>combdbg</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заставить </font></font><code>fieldmatch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вычислять гребенчатые метрики для определенных совпадений и печатать их. </font><font style="vertical-align: inherit;">Этот параметр известен как</font></font><samp><code>micout</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в словаре TFM/VFM. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Без принудительного расчета.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pcn</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительные расчеты p/c/n.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pcnub</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительные расчеты p/c/n/u/b.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>none</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>cthresh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это пороговое значение прочесывания области, используемое для обнаружения прочесываемых кадров. </font><font style="vertical-align: inherit;">По сути, это определяет, насколько «сильным» или «видимым» расчесыванием должно быть обнаружено. </font><font style="vertical-align: inherit;">Большие значения означают, что расчесывание должно быть более заметным, а меньшие значения означают, что расчесывание может быть менее заметным или сильным, но все же обнаруживаемым. </font><font style="vertical-align: inherit;">Допустимые настройки: от
 </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(каждый пиксель будет распознан как гребенчатый) до </font></font><code>255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ни один пиксель не будет распознан как гребенчатый). </font><font style="vertical-align: inherit;">Это в основном значение разницы в пикселях. </font><font style="vertical-align: inherit;">Хороший ассортимент есть </font></font><code>[8, 12]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>chroma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устанавливает, учитывается ли цветность при решении гребенчатого кадра. </font><font style="vertical-align: inherit;">Отключите это только в том случае, если у вашего источника есть проблемы с цветностью (радуга и т. д.), которые вызывают проблемы для обнаружения гребенчатого кадра с включенной цветностью. </font><font style="vertical-align: inherit;">Собственно, используя</font></font><samp><code>chroma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обычно надежнее, за исключением случая, когда в исходнике цветность только прочесывается.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>blockx</code></samp></dt>
<dt><samp><code>blocky</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соответственно установите размер окна по оси x и по оси y, используемого при обнаружении гребенчатого кадра. </font><font style="vertical-align: inherit;">Это связано с размером территории, на которой
</font></font><samp><code>combpel</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пиксели должны быть определены как гребенчатые, чтобы кадр был объявлен гребенчатым. </font><font style="vertical-align: inherit;">См.</font></font><samp><code>combpel</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">описание параметра для получения дополнительной информации. </font><font style="vertical-align: inherit;">Возможные значения — любое число, являющееся степенью двойки, начиная с 4 и заканчивая 512.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>combpel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество прочесанных пикселей внутри любого из</font></font><samp><code>blocky</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">по
</font></font><samp><code>blockx</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">блоки размера на кадре для того, чтобы кадр был обнаружен как прочесанный. </font><font style="vertical-align: inherit;">Пока</font></font><samp><code>cthresh</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">управляет тем, насколько «видимым» должно быть расчесывание, этот параметр определяет, «сколько» расчесывания должно быть в любой локализованной области (окно, определяемое</font></font><samp><code>blockx</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>blocky</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">настройки) на раме. </font><font style="vertical-align: inherit;">Минимальное значение равно, </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а максимальное равно </font></font><code>blocky x blockx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(при этом никакие кадры не будут определяться как прочесанные). </font><font style="vertical-align: inherit;">Этот параметр известен как</font></font><samp><code>MI</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в словаре TFM/VFM.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="p_002fc_002fn_002fu_002fb-meaning"></span><span id="p_002fc_002fn_002fu_002fb-meaning-1"></span><h4 class="subsection"><a href="#toc-p_002fc_002fn_002fu_002fb-meaning-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.88.1 значение p/c/n/u/b</font></font></a></h4>

<span id="p_002fc_002fn"></span><h4 class="subsubsection"><a href="#toc-p_002fc_002fn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.88.1.1 п/к/н</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Мы предполагаем следующий телесиновый поток:
</font></font></p>
<div class="example">
<pre class="example"><code>Top fields:     1 2 2 3 4<font></font>
Bottom fields:  1 2 3 4 4<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цифры соответствуют прогрессивному кадру, к которому относятся поля. </font><font style="vertical-align: inherit;">Здесь первые два кадра прогрессивные, 3-й и 4-й гребенчатые и так далее.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Когда </font></font><code>fieldmatch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">настроен запуск сопоставления снизу (</font></font><samp><code>field</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>bottom</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) вот как этот входной поток преобразуется:
</font></font></p>
<div class="example">
<pre class="example"><code>Input stream:<font></font>
                T     1 2 2 3 4<font></font>
                B     1 2 3 4 4   &lt;-- matching reference<font></font>
<font></font>
Matches:              c c n n c<font></font>
<font></font>
Output stream:<font></font>
                T     1 2 3 4 4<font></font>
                B     1 2 3 4 4<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В результате сопоставления полей мы видим, что некоторые кадры дублируются. </font><font style="vertical-align: inherit;">Чтобы выполнить полный обратный телесин, после этой операции необходимо использовать фильтр прореживания. </font><font style="vertical-align: inherit;">См., например, </font></font><a href="#decimate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">децимативный</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Та же операция теперь сопоставляется с верхними полями (</font></font><samp><code>field</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>top</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) выглядит так:
</font></font></p>
<div class="example">
<pre class="example"><code>Input stream:<font></font>
                T     1 2 2 3 4   &lt;-- matching reference<font></font>
                B     1 2 3 4 4<font></font>
<font></font>
Matches:              c c p p c<font></font>
<font></font>
Output stream:<font></font>
                T     1 2 2 3 4<font></font>
                B     1 2 2 3 4<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В этих примерах мы можем видеть </font></font><var><code>p</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что </font></font><var><code>c</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">означают; </font><font style="vertical-align: inherit;">в основном они относятся к кадру и полю противоположной четности:
</font></font></p>
<ul>
<li> <var><code>p</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соответствует полю противоположной четности в предыдущем кадре
</font></font></li><li> <var><code>c</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соответствует полю противоположной четности в текущем кадре
</font></font></li><li> <var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соответствует полю противоположной четности в следующем кадре
</font></font></li></ul>

<span id="u_002fb"></span><h4 class="subsubsection"><a href="#toc-u_002fb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.88.1.2 в/б</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставление </font></font><var><code>u</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>b</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">немного отличается в том смысле, что они совпадают с противоположным флагом четности. </font><font style="vertical-align: inherit;">В следующих примерах мы предполагаем, что в настоящее время мы сопоставляем второй кадр (верхний: 2, нижний: 2). </font><font style="vertical-align: inherit;">В соответствии с совпадением над и под каждым совпавшим полем ставится крестик.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">С нижним согласованием (</font></font><samp><code>field</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>bottom</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):
</font></font></p><div class="example">
<pre class="example"><code>Match:           c         p           n          b          u<font></font>
<font></font>
                 x       x               x        x          x<font></font>
  Top          1 2 2     1 2 2       1 2 2      1 2 2      1 2 2<font></font>
  Bottom       1 2 3     1 2 3       1 2 3      1 2 3      1 2 3<font></font>
                 x         x           x        x              x<font></font>
<font></font>
Output frames:<font></font>
                 2          1          2          2          2<font></font>
                 2          2          2          1          3<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">С верхним соответствием (</font></font><samp><code>field</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>top</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):
</font></font></p><div class="example">
<pre class="example"><code>Match:           c         p           n          b          u<font></font>
<font></font>
                 x         x           x        x              x<font></font>
  Top          1 2 2     1 2 2       1 2 2      1 2 2      1 2 2<font></font>
  Bottom       1 2 3     1 2 3       1 2 3      1 2 3      1 2 3<font></font>
                 x       x               x        x          x<font></font>
<font></font>
Output frames:<font></font>
                 2          2          2          1          2<font></font>
                 2          1          3          2          2<font></font>
</code></pre></div>

<span id="Examples-72"></span><h4 class="subsection"><a href="#toc-Examples-72"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.88.2 Примеры</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Простой IVTC первого телесин-потока верхнего поля:
</font></font></p><div class="example">
<pre class="example"><code>fieldmatch=order=tff:combmatch=none, decimate
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расширенный IVTC, с откатом на </font></font><a href="#yadif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yadif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для еще прочесанных кадров:
</font></font></p><div class="example">
<pre class="example"><code>fieldmatch=order=tff:combmatch=full, yadif=deint=interlaced, decimate
</code></pre></div>

<span id="fieldorder"></span><h3 class="section"><code><a href="#toc-fieldorder">11.89 fieldorder</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте порядок полей входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядок выходного поля. </font><font style="vertical-align: inherit;">Допустимые значения: </font></font><var><code>tff</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сначала верхнее поле или сначала </font></font><var><code>bff</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
нижнее поле.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>tff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование выполняется путем сдвига содержимого изображения вверх или вниз на одну строку и заполнения оставшейся строки соответствующим содержанием изображения. </font><font style="vertical-align: inherit;">Этот метод совместим с большинством широковещательных преобразователей порядка полей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если входное видео не помечено как чересстрочное или оно уже помечено как имеющее требуемый порядок выходных полей, то этот фильтр не изменяет входящее видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это очень полезно при преобразовании в или из материала PAL DV, который находится первым в нижнем поле.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i in.vob -vf "fieldorder=bff" out.dv
</code></pre></div>

<span id="fifo_002c-afifo"></span><h3 class="section"><code><a href="#toc-fifo_002c-afifo">11.90 fifo, afifo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Буферизируйте входные изображения и отправляйте их по запросу.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В основном это полезно при автоматической вставке фреймворком libavfilter.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он не принимает параметры.
</font></font></p>
<span id="fillborders"></span><h3 class="section"><code><a href="#toc-fillborders">11.91 fillborders</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заполните границы входного видео, не изменяя размеры видеопотока. </font><font style="vertical-align: inherit;">Иногда видео может иметь мусор по четырем краям, и вы можете не захотеть обрезать видеовход, чтобы сохранить размер, кратный некоторому числу.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>left</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество пикселей для заполнения от левой границы.
</font></font></p>
</dd>
<dt><samp><code>right</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество пикселей для заполнения от правой границы.
</font></font></p>
</dd>
<dt><samp><code>top</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество пикселей для заполнения от верхней границы.
</font></font></p>
</dd>
<dt><samp><code>bottom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество пикселей для заполнения от нижней границы.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим заполнения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заполнить пиксели, используя крайние пиксели
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mirror</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заполнить пиксели с помощью зеркального отображения (симметричная половина выборки)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fixed</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заполнить пиксели постоянным значением
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>reflect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заполнить пиксели с помощью отражения (весь образец симметричен)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wrap</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заполнить пиксели с помощью переноса
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fade</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">затухание пикселей до постоянного значения
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>margins</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заполнить пиксели сверху и снизу средневзвешенными пикселями рядом с границами
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>smear</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет для пикселей в фиксированном режиме или в режиме затухания. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>black</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-89"></span><h4 class="subsection"><a href="#toc-Commands-89"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.91.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="find_005frect"></span><h3 class="section"><code><a href="#toc-find_005frect">11.92 find_rect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Найдите прямоугольный предмет
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>object</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Путь к файлу изображения объекта должен быть выделен серым цветом8.
</font></font></p>
</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог обнаружения, по умолчанию 0,5.
</font></font></p>
</dd>
<dt><samp><code>mipmaps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество MIP-карт, по умолчанию 3.
</font></font></p>
</dd>
<dt><samp><code>xmin, ymin, xmax, ymax</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяет прямоугольник, в котором нужно искать.
</font></font></p>
</dd>
<dt><samp><code>discard</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отбрасывать кадры, в которых объект не обнаружен. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p></dd>
</dl>

<span id="Examples-73"></span><h4 class="subsection"><a href="#toc-Examples-73"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.92.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Покройте прямоугольный объект предоставленным изображением данного видео, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i file.ts -vf find_rect=newref.pgm,cover_rect=cover.jpg:mode=cover new.mkv
</code></pre></div>
</li></ul>

<span id="floodfill"></span><h3 class="section"><code><a href="#toc-floodfill">11.93 floodfill</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Область заливки значениями одних и тех же компонентов пикселей с другими значениями.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите координату пикселя x.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите координату y пикселя.
</font></font></p>
</dd>
<dt><samp><code>s0</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение компонента источника #0.
</font></font></p>
</dd>
<dt><samp><code>s1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение компонента источника №1.
</font></font></p>
</dd>
<dt><samp><code>s2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение компонента источника #2.
</font></font></p>
</dd>
<dt><samp><code>s3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение компонента источника #3.
</font></font></p>
</dd>
<dt><samp><code>d0</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение компонента назначения #0.
</font></font></p>
</dd>
<dt><samp><code>d1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение компонента назначения #1.
</font></font></p>
</dd>
<dt><samp><code>d2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение компонента назначения #2.
</font></font></p>
</dd>
<dt><samp><code>d3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение компонента назначения #3.
</font></font></p></dd>
</dl>

<span id="format"></span><span id="format-1"></span><h3 class="section"><code><a href="#toc-format-1">11.94 format</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте входное видео в один из указанных форматов пикселей. </font><font style="vertical-align: inherit;">Libavfilter попытается выбрать тот, который подходит в качестве входных данных для следующего фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>pix_fmts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный символом '|' список имен форматов пикселей, например "pix_fmts=yuv420p|monow|rgb24".
</font></font></p>
</dd>
</dl>

<span id="Examples-74"></span><h4 class="subsection"><a href="#toc-Examples-74"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.94.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование входного видео в </font></font><var><code>yuv420p</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">формат
</font></font><div class="example">
<pre class="example"><code>format=pix_fmts=yuv420p
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Конвертируйте входное видео в любой из форматов в списке
</font></font></p><div class="example">
<pre class="example"><code>format=pix_fmts=yuv420p|yuv444p|yuv410p
</code></pre></div>
</li></ul>

<span id="fps"></span><span id="fps-1"></span><h3 class="section"><code><a href="#toc-fps-1">11.95 fps</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте видео в указанную постоянную частоту кадров, дублируя или удаляя кадры по мере необходимости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>fps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Желаемая частота кадров на выходе. </font><font style="vertical-align: inherit;">Он принимает выражения, содержащие следующие константы:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>source_fps</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота кадров на входе
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ntsc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота кадров NTSC</font></font><code>30000/1001</code>
</p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pal</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота кадров PAL</font></font><code>25.0</code>
</p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>film</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота кадров фильма</font></font><code>24.0</code>
</p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ntsc_film</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота кадров NTSC-фильма</font></font><code>24000/1001</code>
</p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>25</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start_time</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что первой PTS должно быть заданное значение в секундах. </font><font style="vertical-align: inherit;">Это позволяет заполнять/обрезать в начале потока. </font><font style="vertical-align: inherit;">По умолчанию никаких предположений об ожидаемой PTS для первого кадра не делается, поэтому заполнение или обрезка не выполняются. </font><font style="vertical-align: inherit;">Например, можно установить значение 0, чтобы заполнить начало дубликатами первого кадра, если видеопоток начинается после аудиопотока, или чтобы обрезать любые кадры с отрицательным значением PTS.
</font></font></p>
</dd>
<dt><samp><code>round</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Метод округления метки времени (PTS).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><samp><code>zero</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">округлить до 0
</font></font></p></dd>
<dt><samp><code>inf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">округлить от 0
</font></font></p></dd>
<dt><samp><code>down</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">округлить до -бесконечности
</font></font></p></dd>
<dt><samp><code>up</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">округлить до +бесконечности
</font></font></p></dd>
<dt><samp><code>near</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">округлить до ближайшего
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>near</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>eof_action</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Действие, выполняемое при чтении последнего кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><samp><code>round</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте тот же метод округления метки времени, что и для других кадров.
</font></font></p></dd>
<dt><samp><code>pass</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пропустить последний кадр, если продолжительность ввода еще не достигнута.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>round</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кроме того, параметры могут быть указаны в виде простой строки:
 </font></font><var><code>fps</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[: </font></font><var><code>start_time</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[: </font></font><var><code>round</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]].
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. также фильтр </font></font><a href="#setpts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">настроек</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-75"></span><h4 class="subsection"><a href="#toc-Examples-75"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.95.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Типичное использование для установки fps на 25:
</font></font><div class="example">
<pre class="example"><code>fps=fps=25
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устанавливает fps на 24, используя метод сокращения и округления до ближайшего:
</font></font><div class="example">
<pre class="example"><code>fps=fps=film:round=near
</code></pre></div>
</li></ul>

<span id="framepack"></span><h3 class="section"><code><a href="#toc-framepack">11.96 framepack</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Упакуйте два разных видеопотока в стереоскопическое видео, установив правильные метаданные для поддерживаемых кодеков. </font><font style="vertical-align: inherit;">Два представления должны иметь одинаковый размер и частоту кадров, и обработка остановится, когда закончится более короткое видео. </font><font style="vertical-align: inherit;">Обратите внимание, что вы можете удобно настроить свойства вида с помощью </font><font style="vertical-align: inherit;">фильтров
 </font></font><a href="#scale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштаба</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> и
 </font></font><a href="#fps"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частоты кадров .</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Желаемый формат упаковки. </font><font style="vertical-align: inherit;">Поддерживаемые значения:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sbs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Виды расположены рядом друг с другом (по умолчанию).
</font></font></p>
</dd>
<dt><samp><code>tab</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Виды накладываются друг на друга.
</font></font></p>
</dd>
<dt><samp><code>lines</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Представления упакованы построчно.
</font></font></p>
</dd>
<dt><samp><code>columns</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Представления упакованы по столбцам.
</font></font></p>
</dd>
<dt><samp><code>frameseq</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Представления чередуются во времени.
</font></font></p>
</dd>
</dl>

</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые примеры:
</font></font></p>
<div class="example">
<pre class="example"><code># Convert left and right views into a frame-sequential video<font></font>
ffmpeg -i LEFT -i RIGHT -filter_complex framepack=frameseq OUTPUT<font></font>
<font></font>
# Convert views into a side-by-side video with the same output resolution as the input<font></font>
ffmpeg -i LEFT -i RIGHT -filter_complex [0:v]scale=w=iw/2[left],[1:v]scale=w=iw/2[right],[left][right]framepack=sbs OUTPUT<font></font>
</code></pre></div>

<span id="framerate"></span><h3 class="section"><code><a href="#toc-framerate">11.97 framerate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените частоту кадров, интерполируя новые кадры вывода видео из исходных кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр не предназначен для правильной работы с чересстрочной разверткой. </font><font style="vertical-align: inherit;">Если вы хотите изменить частоту кадров чересстрочного мультимедиа, вам необходимо выполнить деинтерлейсинг перед этим фильтром и выполнить повторный чересстрочности после этого фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>fps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите выходные кадры в секунду. </font><font style="vertical-align: inherit;">Этот параметр также может быть указан как отдельное значение. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>50</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>interp_start</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите начало диапазона, в котором выходной кадр будет создан как линейная интерполяция двух кадров. </font><font style="vertical-align: inherit;">Диапазон — [ </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">], значение по умолчанию — </font></font><code>15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>interp_end</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите конец диапазона, в котором выходной кадр будет создан как линейная интерполяция двух кадров. </font><font style="vertical-align: inherit;">Диапазон — [ </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">], значение по умолчанию — </font></font><code>240</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>scene</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите уровень, при котором изменение сцены обнаруживается как значение от 0 до 100, чтобы указать новую сцену; </font><font style="vertical-align: inherit;">низкое значение отражает низкую вероятность того, что текущий кадр представит новую сцену, в то время как более высокое значение означает, что текущий кадр, скорее всего, будет одним. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>8.2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>flags</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите флаги, влияющие на процесс фильтрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступное значение для </font></font><var><code>flags</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p>
<dl compact="compact">
<dt><samp><code>scene_change_detect, scd</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите обнаружение смены сцены, используя значение параметра </font></font><var><code>scene</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Этот флаг включен по умолчанию.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="framestep"></span><h3 class="section"><code><a href="#toc-framestep">11.98 framestep</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите один кадр в каждом N-м кадре.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>step</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите кадр после каждого </font></font><code>step</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадра. </font><font style="vertical-align: inherit;">Допустимые значения — положительные целые числа больше 0. Значение по умолчанию — </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="freezedetect"></span><h3 class="section"><code><a href="#toc-freezedetect">11.99 freezedetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение зависшего видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр регистрирует сообщение и устанавливает метаданные кадра, когда обнаруживает, что входное видео не претерпевает существенных изменений в содержании в течение заданного времени. </font><font style="vertical-align: inherit;">Обнаружение зависания видео вычисляет среднюю абсолютную разницу всех компонентов видеокадров и сравнивает ее с минимальным уровнем шума.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Печатное время и продолжительность выражены в секундах. </font><font style="vertical-align: inherit;">Ключ
 </font></font><code>lavfi.freezedetect.freeze_start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метаданных устанавливается для первого кадра, временная метка которого равна или превышает продолжительность обнаружения, и содержит временную метку первого кадра стоп-кадра. </font><font style="vertical-align: inherit;">Ключи
 метаданных </font></font><code>lavfi.freezedetect.freeze_duration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><code>lavfi.freezedetect.freeze_end</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливаются на первом кадре после стоп-кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>noise, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить устойчивость к шуму. </font><font style="vertical-align: inherit;">Может быть указан в дБ (в случае, если к указанному значению добавляется «дБ») или как отношение разницы между 0 и 1. По умолчанию -60 дБ или 0,001.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность приостановки до уведомления (по умолчанию 2 секунды).
</font></font></p></dd>
</dl>

<span id="freezeframes"></span><h3 class="section"><code><a href="#toc-freezeframes">11.100 freezeframes</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заморозить кадры видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр замораживает кадры видео, используя кадр из второго входа.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>first</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите номер первого кадра, с которого следует начать стоп-кадр.
</font></font></p>
</dd>
<dt><samp><code>last</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите номер последнего кадра, с которого следует закончить стоп-кадр.
</font></font></p>
</dd>
<dt><samp><code>replace</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество кадров из 2-го входа, которые будут использоваться вместо замененных кадров.
</font></font></p></dd>
</dl>

<span id="frei0r"></span><span id="frei0r-1"></span><h3 class="section"><code><a href="#toc-frei0r-1">11.101 frei0r</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект frei0r к входному видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо установить заголовок frei0r и настроить FFmpeg с расширением </font></font><code>--enable-frei0r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filter_name</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имя загружаемого эффекта frei0r. </font><font style="vertical-align: inherit;">Если переменная среды
 </font></font><code>FREI0R_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определена, эффект frei0r ищется в каждом из каталогов, указанных в списке, разделенном двоеточием, в </font></font><code>FREI0R_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В противном случае выполняется поиск стандартных путей frei0r в следующем порядке:
</font></font><samp><code>HOME/.frei0r-1/lib/</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>/usr/local/lib/frei0r-1/</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
</font></font><samp><code>/usr/lib/frei0r-1/</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>filter_params</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный символом '|' список параметров для передачи в эффект frei0r.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр эффекта frei0r может быть логическим (его значение равно «y» или «n»), двойным значением, цветом (задается как
 </font></font><var><code>R</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>G</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>B</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, где </font></font><var><code>R</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>G</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и </font></font><var><code>B</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— числами с плавающей запятой от 0,0 до 1,0 включительно) или описание цвета, как указано в разделе
 </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , позиция (указанная как </font></font><var><code>X</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>Y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, где
 </font></font><var><code>X</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>Y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— числа с плавающей запятой) и/или строка.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество и типы параметров зависят от загруженного эффекта. </font><font style="vertical-align: inherit;">Если параметр эффекта не указан, устанавливается значение по умолчанию.
</font></font></p>
<span id="Examples-76"></span><h4 class="subsection"><a href="#toc-Examples-76"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.101.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект искажения, установив первые два параметра типа double:
</font></font><div class="example">
<pre class="example"><code>frei0r=filter_name=distort0r:filter_params=0.5|0.01
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект colordistance, взяв цвет в качестве первого параметра:
</font></font><div class="example">
<pre class="example"><code>frei0r=colordistance:0.2/0.3/0.4<font></font>
frei0r=colordistance:violet<font></font>
frei0r=colordistance:0x112233<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект перспективы, указав верхнюю левую и верхнюю правую позиции изображения:
</font></font><div class="example">
<pre class="example"><code>frei0r=perspective:0.2/0.2|0.8/0.2
</code></pre></div>
</li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения дополнительной информации см.
 </font></font><a href="http://frei0r.dyne.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://frei0r.dyne.org</font></font></a>
</p>
<span id="Commands-90"></span><h4 class="subsection"><a href="#toc-Commands-90"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.101.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает</font></font><samp><code>filter_params</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант как </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="fspp"></span><h3 class="section"><code><a href="#toc-fspp">11.102 fspp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применяйте быструю и простую постобработку. </font><font style="vertical-align: inherit;">Это более быстрая версия </font></font><a href="#spp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он разбивает (I)DCT на горизонтальные/вертикальные проходы. </font><font style="vertical-align: inherit;">В отличие от простого фильтра постобработки, один из них выполняется один раз на блок, а не на пиксель. </font><font style="vertical-align: inherit;">Это позволяет значительно увеличить скорость.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>quality</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить качество. </font><font style="vertical-align: inherit;">Эта опция определяет количество уровней для усреднения. </font><font style="vertical-align: inherit;">Он принимает целое число в диапазоне 4-5. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите постоянный параметр квантования. </font><font style="vertical-align: inherit;">Он принимает целое число в диапазоне 0-63. </font><font style="vertical-align: inherit;">Если не установлено, фильтр будет использовать QP из видеопотока (если он доступен).
</font></font></p>
</dd>
<dt><samp><code>strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить силу фильтра. </font><font style="vertical-align: inherit;">Он принимает целое число в диапазоне от -15 до 32. Меньшие значения означают больше деталей, но также и больше артефактов, в то время как более высокие значения делают изображение более гладким, но и более размытым. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— оптимальное PSNR.
</font></font></p>
</dd>
<dt><samp><code>use_bframe_qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите использование QP из B-кадров, если установлено значение </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Использование этой опции может вызвать мерцание, так как B-кадры часто имеют большее значение QP. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(не включено).
</font></font></p>
</dd>
</dl>

<span id="gblur"></span><h3 class="section"><code><a href="#toc-gblur">11.103 gblur</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр размытия по Гауссу.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sigma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите горизонтальную сигму, стандартное отклонение размытия по Гауссу. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>steps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество шагов для гауссовой аппроксимации. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию фильтруются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>sigmaV</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вертикальную сигму, если она отрицательная, она будет такой же, как </font></font><code>sigma</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-91"></span><h4 class="subsection"><a href="#toc-Commands-91"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.103.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же команды, что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="geq"></span><h3 class="section"><code><a href="#toc-geq">11.104 geq</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените общее уравнение к каждому пикселю.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>lum_expr, lum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение яркости.
</font></font></p></dd>
<dt><samp><code>cb_expr, cb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветность синего выражения.
</font></font></p></dd>
<dt><samp><code>cr_expr, cr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите красное выражение цветности.
</font></font></p></dd>
<dt><samp><code>alpha_expr, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите альфа-выражение.
</font></font></p></dd>
<dt><samp><code>red_expr, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите красное выражение.
</font></font></p></dd>
<dt><samp><code>green_expr, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите зеленое выражение.
</font></font></p></dd>
<dt><samp><code>blue_expr, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите синее выражение.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цветовое пространство выбирается в соответствии с указанными параметрами. </font><font style="vertical-align: inherit;">Если один из</font></font><samp><code>lum_expr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>cb_expr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, или же</font></font><samp><code>cr_expr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
options, фильтр автоматически выберет цветовое пространство YCbCr. </font><font style="vertical-align: inherit;">Если один из</font></font><samp><code>red_expr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>green_expr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, или же
</font></font><samp><code>blue_expr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options, будет выбрано цветовое пространство RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если одно из выражений цветности не определено, оно возвращается к другому. </font><font style="vertical-align: inherit;">Если альфа-выражение не указано, оно будет оцениваться как непрозрачное значение. </font><font style="vertical-align: inherit;">Если ни одно из выражений цветности не указано, они будут оцениваться как выражение яркости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В выражениях могут использоваться следующие переменные и функции:
</font></font></p>
<dl compact="compact">
<dt><samp><code>N</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядковый номер отфильтрованного кадра, начиная с </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>X</code></samp></dt>
<dt><samp><code>Y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Координаты текущего образца.
</font></font></p>
</dd>
<dt><samp><code>W</code></samp></dt>
<dt><samp><code>H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота изображения.
</font></font></p>
</dd>
<dt><samp><code>SW</code></samp></dt>
<dt><samp><code>SH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштаб ширины и высоты зависит от текущей фильтруемой плоскости. </font><font style="vertical-align: inherit;">Это отношение между количеством пикселей в соответствующей плоскости яркости и в текущей плоскости. </font><font style="vertical-align: inherit;">Например, для YUV4:2:0 значения относятся </font></font><code>1,1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">к плоскости яркости и плоскости
 </font></font><code>0.5,0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">цветности.
</font></font></p>
</dd>
<dt><samp><code>T</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время текущего кадра, выраженное в секундах.
</font></font></p>
</dd>
<dt><samp><code>p(x, y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение пикселя в местоположении ( </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) текущей плоскости.
</font></font></p>
</dd>
<dt><samp><code>lum(x, y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение пикселя в местоположении ( </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) плоскости яркости.
</font></font></p>
</dd>
<dt><samp><code>cb(x, y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение пикселя в местоположении ( </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) плоскости цветности синего различия. </font><font style="vertical-align: inherit;">Вернуть 0, если такой плоскости нет.
</font></font></p>
</dd>
<dt><samp><code>cr(x, y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение пикселя в местоположении ( </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) плоскости цветности красного цвета. </font><font style="vertical-align: inherit;">Вернуть 0, если такой плоскости нет.
</font></font></p>
</dd>
<dt><samp><code>r(x, y)</code></samp></dt>
<dt><samp><code>g(x, y)</code></samp></dt>
<dt><samp><code>b(x, y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение пикселя в местоположении ( </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) красного/зеленого/синего компонента. </font><font style="vertical-align: inherit;">Вернуть 0, если такого компонента нет.
</font></font></p>
</dd>
<dt><samp><code>alpha(x, y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение пикселя в местоположении ( </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) альфа-плоскости. </font><font style="vertical-align: inherit;">Вернуть 0, если такой плоскости нет.
</font></font></p>
</dd>
<dt><samp><code>psum(x,y), lumsum(x, y), cbsum(x,y), crsum(x,y), rsum(x,y), gsum(x,y), bsum(x,y), alphasum(x,y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сумма выборочных значений в прямоугольнике от (0,0) до (x,y), это позволяет получить суммы выборок внутри прямоугольника. </font><font style="vertical-align: inherit;">См. функции без постфикса суммы.
</font></font></p>
</dd>
<dt><samp><code>interpolation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите один из методов интерполяции:
</font></font></p><dl compact="compact">
<dt><samp><code>nearest, n</code></samp></dt>
<dt><samp><code>bilinear, b</code></samp></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию билинейный.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для функций, если </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">находятся за пределами области, значение будет автоматически обрезано до ближнего края.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что этот фильтр может использовать несколько потоков, и в этом случае каждый срез будет иметь свое собственное состояние выражения. </font><font style="vertical-align: inherit;">Если вы хотите использовать только одно состояние выражения, поскольку ваши выражения зависят от предыдущего состояния, вам следует ограничить количество потоков фильтра до 1.
</font></font></p>
<span id="Examples-77"></span><h4 class="subsection"><a href="#toc-Examples-77"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.104.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отразить изображение по горизонтали:
</font></font><div class="example">
<pre class="example"><code>geq=p(W-X\,Y)
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте двумерную синусоиду с углом </font></font><code>PI/3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и длиной волны 100 пикселей:
</font></font><div class="example">
<pre class="example"><code>geq=128 + 100*sin(2*(PI/100)*(cos(PI/3)*(X-50*T) + sin(PI/3)*Y)):128:128
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте причудливый загадочный движущийся свет:
</font></font><div class="example">
<pre class="example"><code>nullsrc=s=256x256,geq=random(1)/hypot(X-cos(N*0.07)*W/2-W/2\,Y-sin(N*0.09)*H/2-H/2)^2*1000000*sin(N*0.02):128:128
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте эффект быстрого тиснения:
</font></font><div class="example">
<pre class="example"><code>format=gray,geq=lum_expr='(p(X,Y)+(256-p(X-4,Y-4)))/2'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените компоненты RGB в зависимости от положения пикселя:
</font></font><div class="example">
<pre class="example"><code>geq=r='X/W*r(X,Y)':g='(1-X/W)*g(X,Y)':b='(H-Y)/H*b(X,Y)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте радиальный градиент того же размера, что и входные данные (см. также </font><font style="vertical-align: inherit;">фильтр
 </font></font><a href="#vignette"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">виньетирования ):</font></font></a><font style="vertical-align: inherit;"></font><div class="example">
<pre class="example"><code>geq=lum=255*gauss((X/W-0.5)*3)*gauss((Y/H-0.5)*3)/gauss(0)/gauss(0),format=gray
</code></pre></div>
</li></ul>

<span id="gradfun"></span><h3 class="section"><code><a href="#toc-gradfun">11.105 gradfun</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исправьте артефакты полос, которые иногда возникают в почти плоских областях, путем усечения до 8-битной глубины цвета. </font><font style="vertical-align: inherit;">Интерполируйте градиенты, которые должны проходить там, где находятся полосы, и смешайте их.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он предназначен только для воспроизведения. </font><font style="vertical-align: inherit;">Не используйте его перед сжатием с потерями, потому что сжатие имеет тенденцию терять дизеринг и возвращать полосы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальная величина, на которую фильтр изменит любой один пиксель. </font><font style="vertical-align: inherit;">Это также порог для обнаружения почти плоских областей. </font><font style="vertical-align: inherit;">Допустимые значения находятся в диапазоне от 0,51 до 64; </font><font style="vertical-align: inherit;">значение по умолчанию — 1,2. </font><font style="vertical-align: inherit;">Значения вне диапазона будут обрезаны до допустимого диапазона.
</font></font></p>
</dd>
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Окрестность, к которой подходит градиент. </font><font style="vertical-align: inherit;">Больший радиус обеспечивает более плавные градиенты, но также не позволяет фильтру изменять пиксели вблизи детализированных областей. </font><font style="vertical-align: inherit;">Приемлемые значения 8-32; </font><font style="vertical-align: inherit;">значение по умолчанию — 16. Значения вне диапазона будут обрезаны до допустимого диапазона.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кроме того, параметры могут быть указаны в виде простой строки:
 </font></font><var><code>strength</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[: </font></font><var><code>radius</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]
</font></font></p>
<span id="Examples-78"></span><h4 class="subsection"><a href="#toc-Examples-78"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.105.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр с </font></font><code>3.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">силой и радиусом </font></font><code>8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>gradfun=3.5:8
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите радиус, опуская силу (которая вернется к значению по умолчанию):
</font></font><div class="example">
<pre class="example"><code>gradfun=radius=8
</code></pre></div>

</li></ul>

<span id="graphmonitor"></span><span id="graphmonitor-1"></span><h3 class="section"><code><a href="#toc-graphmonitor-1">11.106 graphmonitor</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать различную статистику filtergraph.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">С помощью этого фильтра можно отлаживать полный график фильтра. </font><font style="vertical-align: inherit;">Особенно проблемы с заполнением ссылок кадрами из очереди.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видеовыхода. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>hd720</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>opacity, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить непрозрачность видео. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>0.9</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим вывода, может быть </font></font><var><code>fulll</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>compact</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В </font></font><var><code>compact</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме только фильтры с некоторыми кадрами в очереди отображали статистику.
</font></font></p>
</dd>
<dt><samp><code>flags, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите флаги, которые позволяют отображать статистику в видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения для флагов:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>queue</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение количества кадров в очереди в каждой ссылке.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame_count_in</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение количества кадров, взятых из фильтра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame_count_out</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение количества кадров, выданных фильтром.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame_count_delta</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение дельты количества кадров между двумя указанными выше значениями.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pts</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение текущих отфильтрованных точек кадра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pts_delta</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение разницы в точках между текущим и предыдущим кадром.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>time</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение текущего отфильтрованного времени кадра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>time_delta</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение временной разницы между текущим и предыдущим кадром.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>timebase</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение временной базы для ссылки на фильтр.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>format</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать используемый формат для ссылки на фильтр.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>size</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение размера видео или количества аудиоканалов, если аудио используется по ссылке фильтра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rate</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение частоты кадров видео или частоты дискретизации в случае использования аудио по ссылке фильтра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>eof</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать статус вывода ссылки.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sample_count_in</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение количества выборок, взятых из фильтра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sample_count_out</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение количества образцов, выданных фильтром.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sample_count_delta</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение дельты количества выборок между двумя вышеуказанными значениями.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите верхний предел скорости видео для выходного потока. Значение по умолчанию — </font></font><var><code>25</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это гарантирует, что частота кадров выходного видео не будет выше этого значения.
</font></font></p></dd>
</dl>

<span id="grayworld"></span><h3 class="section"><code><a href="#toc-grayworld">11.107 grayworld</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр постоянства цвета, который применяет коррекцию цвета на основе предположения серого мира.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См.: </font></font><a href="https://www.researchgate.net/publication/275213614_A_New_Color_Correction_Method_for_Underwater_Imaging"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.researchgate.net/publication/275213614_A_New_Color_Correction_Method_for_Underwater_Imaging .</font></font></a>
</p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм использует линейный свет, поэтому входные данные должны быть заранее линеаризованы (и, возможно, правильно помечены).
</font></font></p>
<div class="example">
<pre class="example"><code>ffmpeg -i INPUT -vf zscale=transfer=linear,grayworld,zscale=transfer=bt709,format=yuv420p OUTPUT
</code></pre></div>

<span id="greyedge"></span><h3 class="section"><code><a href="#toc-greyedge">11.108 greyedge</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр изменения постоянства цвета, который оценивает освещенность сцены с помощью алгоритма серого края и соответствующим образом корректирует цвета сцены.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См.: </font></font><a href="https://staff.science.uva.nl/th.gevers/pub/GeversTIP07.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://staff.science.uva.nl/th.gevers/pub/GeversTIP07.pdf .</font></font></a>
</p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>difford</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядок дифференциации, применяемый к сцене. </font><font style="vertical-align: inherit;">Должен быть выбран в диапазоне [0,2], значение по умолчанию равно 1.
</font></font></p>
</dd>
<dt><samp><code>minknorm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр Минковского, используемый для расчета расстояния Минковского. </font><font style="vertical-align: inherit;">Должен быть выбран в диапазоне [0,20], а значение по умолчанию равно 1. Установите значение 0 для получения максимального значения вместо вычисления расстояния Минковского.
</font></font></p>
</dd>
<dt><samp><code>sigma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стандартное отклонение размытия по Гауссу, применяемое к сцене. </font><font style="vertical-align: inherit;">Должен быть выбран в диапазоне [0,1024,0] и значение по умолчанию = 1. floor( </font></font><var><code>sigma</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* break_off_sigma(3)) не может быть равен 0, если </font></font><var><code>difford</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">больше 0.
</font></font></p></dd>
</dl>

<span id="Examples-79"></span><h4 class="subsection"><a href="#toc-Examples-79"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.108.1 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Серый край:
</font></font><div class="example">
<pre class="example"><code>greyedge=difford=1:minknorm=5:sigma=2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальный край:
</font></font><div class="example">
<pre class="example"><code>greyedge=difford=1:minknorm=0:sigma=2
</code></pre></div>

</li></ul>

<span id="guided"></span><h3 class="section"><code><a href="#toc-guided">11.109 guided</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените направленный фильтр для сглаживания, устранения дымки и т. д. с сохранением краев.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус окна в пикселях. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 20. По умолчанию 3.
</font></font></p>
</dd>
<dt><samp><code>eps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите параметр регуляризации (с квадратом). </font><font style="vertical-align: inherit;">Допустимый диапазон: от 0 до 1. Значение по умолчанию: 0,01.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим фильтра. </font><font style="vertical-align: inherit;">Можно </font></font><code>basic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>fast</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>basic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент подвыборки для </font></font><code>fast</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режима. </font><font style="vertical-align: inherit;">Диапазон: от 2 до 64. Значение по умолчанию: 4. В режиме субдискретизация не выполняется </font></font><code>basic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>guidance</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим навигации. </font><font style="vertical-align: inherit;">Можно </font></font><code>off</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>on</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>off</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если </font></font><code>off</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, требуется одиночный ввод. </font><font style="vertical-align: inherit;">Если </font></font><code>on</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, требуются два входа с одинаковым разрешением и форматом пикселей. </font><font style="vertical-align: inherit;">Второй вход служит ориентиром.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите самолеты для фильтрации. </font><font style="vertical-align: inherit;">По умолчанию только первый.
</font></font></p></dd>
</dl>

<span id="Commands-92"></span><h4 class="subsection"><a href="#toc-Commands-92"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.109.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-80"></span><h4 class="subsection"><a href="#toc-Examples-80"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.109.2 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сглаживание с сохранением границ с управляемым фильтром:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.png -vf guided out.png
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устранение дымки, фильтрация с передачей структуры, улучшение детализации с помощью управляемого фильтра. </font><font style="vertical-align: inherit;">Информацию о создании направляющего изображения см. в статье «Фильтрация управляемого изображения». </font><font style="vertical-align: inherit;">См.: </font></font><a href="http://kaiminghe.com/publications/pami12guidedfilter.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://kaiminghe.com/publications/pami12guidedfilter.pdf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.png -i guidance.png -filter_complex guided=guidance=on out.png
</code></pre></div>

</li></ul>

<span id="haldclut"></span><span id="haldclut-1"></span><h3 class="section"><code><a href="#toc-haldclut-1">11.110 haldclut</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените Hald CLUT к видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первый вход — это видеопоток для обработки, а второй — Hald CLUT. </font><font style="vertical-align: inherit;">Вход Hald CLUT может быть простым изображением или полным видеопотоком.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>clut</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить, какие видеокадры CLUT будут обрабатываться из второго входного потока, можно </font></font><var><code>first</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительное завершение при завершении самого короткого ввода. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
<dt><samp><code>repeatlast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжайте применять последний CLUT после окончания потока. </font><font style="vertical-align: inherit;">Значение
 </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отключения фильтра после достижения последнего кадра CLUT. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p><code>haldclut</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также имеет те же параметры интерполяции, что и </font></font><a href="#lut3d"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lut3d</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (оба фильтра имеют одинаковые внутренние компоненты).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дополнительную информацию о Hald CLUT можно найти на веб-сайте Эскила Стинберга (автора Hald CLUT) по адресу </font></font><a href="http://www.quelsolaar.com/technology/clut.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.quelsolaar.com/technology/clut.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Commands-93"></span><h4 class="subsection"><a href="#toc-Commands-93"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.110.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает </font></font><code>interp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцию в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Workflow-examples"></span><h4 class="subsection"><a href="#toc-Workflow-examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.110.2 Примеры рабочего процесса</font></font></a></h4>

<span id="Hald-CLUT-video-stream"></span><h4 class="subsubsection"><a href="#toc-Hald-CLUT-video-stream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.110.2.1 Половинный видеопоток CLUT</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте поток Hald CLUT идентификации, измененный с различными эффектами:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -f lavfi -i <a href="#haldclutsrc">haldclutsrc</a>=8 -vf "hue=H=2*PI*t:s=sin(2*PI*t)+1, curves=cross_process" -t 10 -c:v ffv1 clut.nut
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примечание: убедитесь, что вы используете кодек без потерь.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затем используйте его </font></font><code>haldclut</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, чтобы применить его к некоторому случайному потоку:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -f lavfi -i mandelbrot -i clut.nut -filter_complex '[0][1] haldclut' -t 20 mandelclut.mkv
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hald CLUT будет применяться к 10 первым секундам (длительность
</font></font><samp><code>clut.nut</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), то самое последнее изображение этого потока CLUT будет применено к оставшимся кадрам </font></font><code>mandelbrot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">потока.
</font></font></p>
<span id="Hald-CLUT-with-preview"></span><h4 class="subsubsection"><a href="#toc-Hald-CLUT-with-preview"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.110.2.2 Половина CLUT с предварительным просмотром</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предполагается, что Hald CLUT представляет собой квадратное изображение </font></font><code>Level*Level*Level</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пикселей
 </font></font><code>Level*Level*Level</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Для данного Hald CLUT FFmpeg выберет максимально возможный квадрат, начиная с левого верхнего угла изображения. </font><font style="vertical-align: inherit;">Остальные пиксели заполнения (внизу или справа) будут игнорироваться. </font><font style="vertical-align: inherit;">Эту область можно использовать для предварительного просмотра Hald CLUT.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Как правило, фильтр поддерживает следующие сгенерированные Hald CLUT
 </font></font><code>haldclut</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p>
<div class="example">
<pre class="example"><code>ffmpeg -f lavfi -i <a href="#haldclutsrc">haldclutsrc</a>=8 -vf "<font></font>
   pad=iw+320 [padded_clut];<font></font>
   smptebars=s=320x256, split [a][b];<font></font>
   [padded_clut][a] overlay=W-320:h, curves=color_negative [main];<font></font>
   [main][b] overlay=W-320" -frames:v 1 clut.png<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он содержит оригинал и предварительный просмотр эффекта CLUT: цветные полосы SMPTE отображаются справа вверху, а внизу такие же цветные полосы, обработанные изменением цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затем эффект этого Hald CLUT можно визуализировать с помощью:
</font></font></p><div class="example">
<pre class="example"><code>ffplay input.mkv -vf "movie=clut.png, [in] haldclut"
</code></pre></div>

<span id="hflip"></span><h3 class="section"><code><a href="#toc-hflip">11.111 hflip</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отразите входное видео по горизонтали.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы перевернуть входное видео по горизонтали с помощью </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i in.avi -vf "hflip" out.avi
</code></pre></div>

<span id="histeq"></span><h3 class="section"><code><a href="#toc-histeq">11.112 histeq</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр применяет глобальное выравнивание цветовой гистограммы для каждого кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Его можно использовать для исправления видео со сжатым диапазоном интенсивности пикселей. </font><font style="vertical-align: inherit;">Фильтр перераспределяет интенсивности пикселей, чтобы выровнять их распределение по всему диапазону интенсивности. </font><font style="vertical-align: inherit;">Его можно рассматривать как «автоматически настраиваемый контрастный фильтр». </font><font style="vertical-align: inherit;">Этот фильтр полезен только для исправления ухудшенного или плохо захваченного исходного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите величину выравнивания, которое необходимо применить. </font><font style="vertical-align: inherit;">По мере уменьшения интенсивности распределение интенсивности пикселей все больше и больше приближается к распределению входного кадра. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой в диапазоне [0,1] и по умолчанию равно 0,200.
</font></font></p>
</dd>
<dt><samp><code>intensity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальную интенсивность, которая может быть сгенерирована, и соответствующим образом масштабируйте выходные значения. </font><font style="vertical-align: inherit;">Сила должна быть установлена &ZeroWidthSpace;&ZeroWidthSpace;по желанию, а затем интенсивность может быть ограничена, если это необходимо, чтобы избежать вымывания. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой в диапазоне [0,1] и по умолчанию равно 0,210.
</font></font></p>
</dd>
<dt><samp><code>antibanding</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень подавления полос. </font><font style="vertical-align: inherit;">Если фильтр включен, он будет случайным образом изменять яркость выходных пикселей на небольшую величину, чтобы избежать появления полос на гистограмме. </font><font style="vertical-align: inherit;">Возможные значения </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>weak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или
 </font></font><code>strong</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="histogram"></span><span id="histogram-1"></span><h3 class="section"><code><a href="#toc-histogram-1">11.113 histogram</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите и нарисуйте гистограмму распределения цветов для входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисленная гистограмма представляет собой представление распределения компонентов цвета в изображении.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стандартная гистограмма отображает распределение компонентов цвета в изображении. </font><font style="vertical-align: inherit;">Отображает цветовой график для каждого цветового компонента. </font><font style="vertical-align: inherit;">Показывает распределение компонентов Y, U, V, A или R, G, B, в зависимости от формата ввода, в текущем кадре. </font><font style="vertical-align: inherit;">Под каждым графиком показан измеритель шкалы компонентов цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level_height</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить высоту уровня. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>200</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон: [50, 2048].
</font></font></p>
</dd>
<dt><samp><code>scale_height</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить высоту цветовой шкалы. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>12</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон: [0, 40].
</font></font></p>
</dd>
<dt><samp><code>display_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим отображения. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>stack</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Графики компонентов цвета располагаются друг под другом.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parade</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Графики компонентов цвета расположены рядом.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>overlay</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Представляет информацию, идентичную представленной в </font></font><code>parade</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, за исключением того, что графики, представляющие компоненты цвета, накладываются непосредственно друг на друга.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>stack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>levels_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим. </font><font style="vertical-align: inherit;">Можно или </font></font><code>linear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, или </font></font><code>logarithmic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>linear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>components</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие компоненты цвета отображать. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fgopacity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите непрозрачность переднего плана. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bgopacity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прозрачность фона. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>colors_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить цветовой режим. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>whiteonblack</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackonwhite</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>whiteongray</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackongray</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>coloronblack</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>coloronwhite</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>colorongray</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackoncolor</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>whiteoncolor</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>grayoncolor</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>whiteonblack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-81"></span><h4 class="subsection"><a href="#toc-Examples-81"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.113.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Рассчитаем и нарисуем гистограмму:
</font></font><div class="example">
<pre class="example"><code>ffplay -i input -vf histogram
</code></pre></div>

</li></ul>

<span id="hqdn3d"></span><span id="hqdn3d-1"></span><h3 class="section"><code><a href="#toc-hqdn3d-1">11.114 hqdn3d</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это высокоточный/качественный 3D шумоподавляющий фильтр. </font><font style="vertical-align: inherit;">Он направлен на уменьшение шума изображения, создание плавных изображений и создание неподвижных изображений. </font><font style="vertical-align: inherit;">Это должно повысить сжимаемость.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие необязательные параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_spatial</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Неотрицательное число с плавающей запятой, указывающее силу пространственной яркости. </font><font style="vertical-align: inherit;">По умолчанию это 4.0.
</font></font></p>
</dd>
<dt><samp><code>chroma_spatial</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Неотрицательное число с плавающей запятой, указывающее силу пространственной цветности. </font><font style="vertical-align: inherit;">По умолчанию 3.0* </font></font><var><code>luma_spatial</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/4.0.
</font></font></p>
</dd>
<dt><samp><code>luma_tmp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Число с плавающей запятой, указывающее временную силу яркости. </font><font style="vertical-align: inherit;">По умолчанию 6.0* </font></font><var><code>luma_spatial</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/4.0.
</font></font></p>
</dd>
<dt><samp><code>chroma_tmp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Число с плавающей запятой, указывающее временную силу цветности. </font><font style="vertical-align: inherit;">По умолчанию это
 </font></font><var><code>luma_tmp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* </font></font><var><code>chroma_spatial</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>luma_spatial</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-94"></span><h4 class="subsection"><a href="#toc-Commands-94"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.114.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="hwdownload"></span><span id="hwdownload-1"></span><h3 class="section"><code><a href="#toc-hwdownload-1">11.115 hwdownload</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Загрузите аппаратные фреймы в системную память.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ввод должен быть в аппаратных фреймах, а вывод - в неаппаратном формате. </font><font style="vertical-align: inherit;">На выходе будут поддерживаться не все форматы - возможно, потребуется вставить дополнительный</font></font><samp><code>format</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отфильтруйте сразу после графика, чтобы получить вывод в поддерживаемом формате.
</font></font></p>
<span id="hwmap"></span><h3 class="section"><code><a href="#toc-hwmap">11.116 hwmap</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставьте аппаратные фреймы с системной памятью или с другим устройством.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр имеет несколько различных режимов работы; </font><font style="vertical-align: inherit;">какой из них используется, зависит от входных и выходных форматов:
</font></font></p><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аппаратный ввод кадров, обычный вывод кадров

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставьте входные кадры с системной памятью и передайте их на выход. </font><font style="vertical-align: inherit;">Если впоследствии потребуется исходный аппаратный каркас (например, после наложения на него чего-либо другого),</font></font><samp><code>hwmap</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filter можно использовать снова в следующем режиме, чтобы получить его.
</font></font></p></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обычный ввод кадров, аппаратный вывод кадров

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если входные данные на самом деле являются аппаратным фреймом, отображаемым программным обеспечением, то отмените его сопоставление, то есть верните исходный аппаратный фрейм.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В противном случае необходимо предоставить устройство. </font><font style="vertical-align: inherit;">Создайте новые аппаратные поверхности на этом устройстве для вывода, затем сопоставьте их обратно с программным форматом на входе и передайте эти кадры предыдущему фильтру. </font><font style="vertical-align: inherit;">Затем это будет действовать как
</font></font><samp><code>hwupload</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filter, но может избежать дополнительной копии, когда ввод уже находится в совместимом формате.
</font></font></p></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аппаратный ввод и вывод кадров

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устройство должно поставляться для вывода либо напрямую, либо с
</font></font><samp><code>derive_device</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант. </font><font style="vertical-align: inherit;">Устройства ввода и вывода должны быть разных типов и совместимы — точное значение этого зависит от системы, но обычно это означает, что они должны относиться к одному и тому же основному аппаратному контексту (например, к одной и той же видеокарте).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если входные кадры изначально были созданы на устройстве вывода, отмените сопоставление, чтобы получить исходные кадры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В противном случае сопоставьте кадры с устройством вывода — создайте новые аппаратные кадры на выходе, соответствующие кадрам на входе.
</font></font></p></li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принимаются следующие дополнительные параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим сопоставления кадров. </font><font style="vertical-align: inherit;">Некоторая комбинация:
</font></font></p><dl compact="compact">
<dt><var><code>read</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставленный фрейм должен быть читаемым.
</font></font></p></dd>
<dt><var><code>write</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставленный фрейм должен быть доступен для записи.
</font></font></p></dd>
<dt><var><code>overwrite</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение всегда будет перезаписывать весь кадр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В некоторых случаях это может улучшить производительность, поскольку исходное содержимое фрейма не нужно загружать.
</font></font></p></dd>
<dt><var><code>direct</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение не должно включать никакого копирования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Косвенные сопоставления с копиями фреймов создаются в некоторых случаях, когда прямое сопоставление невозможно или оно может иметь неожиданные свойства. </font><font style="vertical-align: inherit;">Установка этого флага гарантирует, что сопоставление является прямым и завершится ошибкой, если это невозможно.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию, </font></font><var><code>read+write</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">если не указано.
</font></font></p>
</dd>
<dt><samp><code>derive_device <var><code>type</code></var></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вместо того, чтобы использовать устройство, предоставленное при инициализации, вместо этого получите новое устройство типа </font></font><var><code>type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">из устройства, на котором существуют входные кадры.
</font></font></p>
</dd>
<dt><samp><code>reverse</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При сопоставлении аппаратных средств с аппаратными средствами сопоставляйте в обратном порядке — создавайте кадры в приемнике и сопоставляйте их обратно с источником. </font><font style="vertical-align: inherit;">Это может быть необходимо в некоторых случаях, когда требуется отображение в одном направлении, но используемые устройства поддерживают только противоположное направление.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эта опция опасна — она может нарушить работу предыдущего фильтра неопределенным образом, если есть какие-либо дополнительные ограничения на выходные данные этого фильтра. </font><font style="vertical-align: inherit;">Не используйте его без полного понимания последствий его использования.
</font></font></p></dd>
</dl>

<span id="hwupload"></span><span id="hwupload-1"></span><h3 class="section"><code><a href="#toc-hwupload-1">11.117 hwupload</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Загружать фреймы системной памяти на аппаратные поверхности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устройство для загрузки должно быть указано при инициализации фильтра. </font><font style="vertical-align: inherit;">При использовании ffmpeg выберите соответствующее устройство с</font></font><samp><code>-filter_hw_device</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
вариант или с помощью</font></font><samp><code>derive_device</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант. </font><font style="vertical-align: inherit;">Устройства ввода и вывода должны быть разных типов и совместимы — точное значение этого зависит от системы, но обычно это означает, что они должны относиться к одному и тому же основному аппаратному контексту (например, к одной и той же видеокарте).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принимаются следующие дополнительные параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>derive_device <var><code>type</code></var></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вместо того, чтобы использовать устройство, предоставленное при инициализации, вместо этого получите новое устройство типа </font></font><var><code>type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">из устройства, на котором существуют входные кадры.
</font></font></p></dd>
</dl>

<span id="hwupload_005fcuda"></span><span id="hwupload_005fcuda-1"></span><h3 class="section"><code><a href="#toc-hwupload_005fcuda-1">11.118 hwupload_cuda</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Загрузите фреймы системной памяти на устройство CUDA.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие необязательные параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>device</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер используемого устройства CUDA
</font></font></p></dd>
</dl>

<span id="hqx"></span><h3 class="section"><code><a href="#toc-hqx">11.119 hqx</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените высококачественный фильтр увеличения, разработанный для пиксельной графики. </font><font style="vertical-align: inherit;">Изначально этот фильтр был создан Максимом Степиным.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размерность масштабирования: </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><code>hq2x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для
 </font></font><code>hq3x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><code>hq4x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="hstack"></span><h3 class="section"><code><a href="#toc-hstack">11.120 hstack</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Складывать входные видео горизонтально.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все потоки должны иметь одинаковый формат пикселей и одинаковую высоту.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что этот фильтр работает быстрее, чем использование </font></font><a href="#overlay"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">наложенного</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> и </font></font><a href="#pad"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">подушечного</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтров для создания одного и того же вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество входных потоков. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, принудительное завершение вывода при завершении кратчайшего ввода. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p></dd>
</dl>

<span id="hsvhold"></span><h3 class="section"><code><a href="#toc-hsvhold">11.121 hsvhold</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Превращает определенный диапазон HSV в значения серого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр измеряет разницу в цвете между установленным цветом HSV в параметрах и цветом, измеренным в видеопотоке. </font><font style="vertical-align: inherit;">В зависимости от параметров выходные цвета могут быть изменены на серые или нет.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>hue</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение оттенка, которое будет использоваться при расчете цветового различия. </font><font style="vertical-align: inherit;">Допустимый диапазон от -360 до 360. Значение по умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>sat</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение насыщенности, которое будет использоваться при расчете цветового различия. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1 до 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>val</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет использоваться при расчете цветового различия. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1 до 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>similarity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите процент сходства с ключевым цветом. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0,01.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.00001 соответствует только точному ключевому цвету, а 1.0 соответствует всему.
</font></font></p>
</dd>
<dt><samp><code>blend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент смеси. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0 делает пиксели либо полностью серыми, либо вовсе не серыми.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более высокие значения приводят к большему количеству серых пикселей, чем выше значение серого пикселя, тем больше цвет пикселя похож на ключевой цвет.
</font></font></p></dd>
</dl>

<span id="hsvkey"></span><h3 class="section"><code><a href="#toc-hsvkey">11.122 hsvkey</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Превращает определенный диапазон HSV в прозрачность.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр измеряет разницу в цвете между установленным цветом HSV в параметрах и цветом, измеренным в видеопотоке. </font><font style="vertical-align: inherit;">В зависимости от параметров выходные цвета можно изменить на прозрачные, добавив альфа-канал.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>hue</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение оттенка, которое будет использоваться при расчете цветового различия. </font><font style="vertical-align: inherit;">Допустимый диапазон от -360 до 360. Значение по умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>sat</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение насыщенности, которое будет использоваться при расчете цветового различия. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1 до 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>val</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет использоваться при расчете цветового различия. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1 до 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>similarity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите процент сходства с ключевым цветом. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0,01.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.00001 соответствует только точному ключевому цвету, а 1.0 соответствует всему.
</font></font></p>
</dd>
<dt><samp><code>blend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент смеси. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0 делает пиксели либо полностью прозрачными, либо непрозрачными вовсе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более высокие значения приводят к полупрозрачным пикселям, причем чем выше прозрачность, тем больше цвет пикселя похож на ключевой цвет.
</font></font></p></dd>
</dl>

<span id="hue"></span><h3 class="section"><code><a href="#toc-hue">11.123 hue</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените оттенок и/или насыщенность ввода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите угол оттенка в градусах. </font><font style="vertical-align: inherit;">Он принимает выражение и по умолчанию равен "0".
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите насыщенность в диапазоне [-10,10]. </font><font style="vertical-align: inherit;">Он принимает выражение и по умолчанию равен "1".
</font></font></p>
</dd>
<dt><samp><code>H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите угол оттенка в радианах. </font><font style="vertical-align: inherit;">Он принимает выражение и по умолчанию равен "0".
</font></font></p>
</dd>
<dt><samp><code>b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите яркость в диапазоне [-10,10]. </font><font style="vertical-align: inherit;">Он принимает выражение и по умолчанию равен "0".
</font></font></p></dd>
</dl>

<p><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>H</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">являются взаимоисключающими и не могут быть указаны одновременно.
</font></font></p>
<p>The <samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>H</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>s</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения параметров представляют собой выражения, содержащие следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество кадров входного кадра, начиная с 0
</font></font></p>
</dd>
<dt><samp><code>pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">временная метка представления входного кадра, выраженная в базовых единицах времени
</font></font></p>
</dd>
<dt><samp><code>r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота кадров входного видео, NAN, если частота кадров входного сигнала неизвестна
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метка времени, выраженная в секундах, NAN, если метка времени ввода неизвестна
</font></font></p>
</dd>
<dt><samp><code>tb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">временная база входного видео
</font></font></p></dd>
</dl>

<span id="Examples-82"></span><h4 class="subsection"><a href="#toc-Examples-82"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.123.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите оттенок на 90 градусов и насыщенность на 1,0:
</font></font><div class="example">
<pre class="example"><code>hue=h=90:s=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Та же команда, но с выражением оттенка в радианах:
</font></font><div class="example">
<pre class="example"><code>hue=H=PI/2:s=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните оттенок и сделайте так, чтобы насыщенность колебалась между 0 и 2 в течение 1 секунды:
</font></font><div class="example">
<pre class="example"><code>hue="H=2*PI*t: s=sin(2*PI*t)+1"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените 3-секундный эффект нарастания насыщенности, начиная с 0:
</font></font><div class="example">
<pre class="example"><code>hue="s=min(t/3\,1)"
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Общее выражение постепенного появления может быть записано как:
</font></font></p><div class="example">
<pre class="example"><code>hue="s=min(0\, max((t-START)/DURATION\, 1))"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект затухания насыщения на 3 секунды, начиная с 5 секунды:
</font></font><div class="example">
<pre class="example"><code>hue="s=max(0\, min(1\, (8-t)/3))"
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Общее выражение затухания может быть записано как:
</font></font></p><div class="example">
<pre class="example"><code>hue="s=max(0\, min(1\, (START+DURATION-t)/DURATION))"
</code></pre></div>

</li></ul>

<span id="Commands-95"></span><h4 class="subsection"><a href="#toc-Commands-95"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.123.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>b</code></samp></dt>
<dt><samp><code>s</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dt><samp><code>H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените оттенок и/или насыщенность и/или яркость входного видео. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p></dd>
</dl>

<span id="huesaturation"></span><h3 class="section"><code><a href="#toc-huesaturation">11.124 huesaturation</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените настройки оттенка-насыщенности-интенсивности к входному видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр работает в цветовом пространстве RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>hue</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите изменение оттенка в градусах для применения. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -180 до 180.
</font></font></p>
</dd>
<dt><samp><code>saturation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сдвиг насыщенности. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>intensity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сдвиг интенсивности. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>colors</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие основные и дополнительные цвета будут корректироваться. </font><font style="vertical-align: inherit;">Эти параметры устанавливаются путем предоставления одного или нескольких значений. </font><font style="vertical-align: inherit;">Это может выбрать несколько цветов одновременно. </font><font style="vertical-align: inherit;">По умолчанию выбраны все цвета.
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте красные.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте желтые.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>g</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте зелень.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>c</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте голубые.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте блюз.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрегулируйте пурпурный цвет.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте все цвета.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить силу фильтрации. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 100. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>rw, gw, bw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вес для каждого компонента RGB. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. По умолчанию установлено 0,333, 0,334, 0,333. </font><font style="vertical-align: inherit;">Эти параметры используются при обработке насыщенности и осветления.
</font></font></p>
</dd>
<dt><samp><code>lightness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить сохранение светлоты, по умолчанию отключено. </font><font style="vertical-align: inherit;">Регулировка оттенков может изменить яркость по сравнению с исходным триплетом RGB, при включении этой опции яркость сохраняется на том же значении.
</font></font></p></dd>
</dl>

<span id="hysteresis"></span><h3 class="section"><code><a href="#toc-hysteresis">11.125 hysteresis</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Превратите первый поток во второй поток, соединив компоненты. </font><font style="vertical-align: inherit;">Это позволяет создавать более надежные краевые маски.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны как растровые, необработанные плоскости будут скопированы из первого потока. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p>
</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог, который используется при фильтрации. </font><font style="vertical-align: inherit;">Если значение компонента пикселя выше этого значения, активируется алгоритм фильтрации соединения компонентов. </font><font style="vertical-align: inherit;">По умолчанию значение равно 0.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>hysteresis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="iccdetect"></span><h3 class="section"><code><a href="#toc-iccdetect">11.126 iccdetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите цветовое пространство из встроенного профиля ICC (если он есть) и соответствующим образом обновите теги кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>force</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если задано значение true, существующие теги цветового пространства фрейма всегда будут переопределяться значениями, обнаруженными в профиле ICC. </font><font style="vertical-align: inherit;">В противном случае они будут назначены только в том случае, если они содержат </font></font><code>unknown</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Включено по умолчанию.
</font></font></p></dd>
</dl>

<span id="iccgen"></span><h3 class="section"><code><a href="#toc-iccgen">11.127 iccgen</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте профили ICC и прикрепите их к фреймам.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>color_primaries</code></samp></dt>
<dt><samp><code>color_trc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте цветовое пространство, для которого будет создан профиль ICC. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выводит значение из метаданных входного кадра, по умолчанию используется BT.709/sRGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список возможных значений
 </font><font style="vertical-align: inherit;">см. в фильтре </font></font><a href="#setparams"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setparams</font></font></a><font style="vertical-align: inherit;"></font><code>unknown</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , но обратите внимание, что это недопустимые значения для этого фильтра.
</font></font></p>
</dd>
<dt><samp><code>force</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение true, будет создан профиль ICC, даже если он перезапишет уже существующий профиль ICC. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p></dd>
</dl>

<span id="identity"></span><h3 class="section"><code><a href="#toc-identity">11.128 identity</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите оценку идентичности между двумя входными видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает два входных видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба входных видео должны иметь одинаковое разрешение и формат пикселей, чтобы этот фильтр работал правильно. </font><font style="vertical-align: inherit;">Также предполагается, что оба входа имеют одинаковое количество кадров, которые сравниваются один за другим.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученная по компоненту средняя, &ZeroWidthSpace;&ZeroWidthSpace;минимальная и максимальная оценка идентичности распечатывается через систему регистрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр сохраняет вычисленные оценки идентичности каждого кадра в метаданных кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В приведенном ниже примере входной файл</font></font><samp><code>main.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обрабатываемый файл сравнивается с эталонным файлом</font></font><samp><code>ref.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<div class="example">
<pre class="example"><code>ffmpeg -i main.mpg -i ref.mpg -lavfi identity -f null -
</code></pre></div>

<span id="idet"></span><h3 class="section"><code><a href="#toc-idet">11.129 idet</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение типа чересстрочной развертки видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр пытается определить, являются ли входные кадры чересстрочными, прогрессивными, верхними или нижними полями. </font><font style="vertical-align: inherit;">Он также попытается обнаружить поля, которые повторяются между соседними кадрами (признак телесина).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение одиночного кадра учитывает только непосредственно соседние кадры при классификации каждого кадра. </font><font style="vertical-align: inherit;">Обнаружение нескольких кадров включает в себя историю классификации предыдущих кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр будет регистрировать следующие значения метаданных:
</font></font></p>
<dl compact="compact">
<dt><samp><code>single.current_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаруженный тип текущего кадра с помощью обнаружения одиночного кадра. </font><font style="vertical-align: inherit;">Один из: «tff» (сначала верхнее поле), «bff» (сначала нижнее поле), «прогрессивный» или «неопределенный»
</font></font></p>
</dd>
<dt><samp><code>single.tff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, обнаруженных как верхнее поле, сначала с использованием однокадрового обнаружения.
</font></font></p>
</dd>
<dt><samp><code>multiple.tff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, обнаруженных как верхнее поле, сначала с использованием обнаружения нескольких кадров.
</font></font></p>
</dd>
<dt><samp><code>single.bff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, обнаруженных как нижнее поле, сначала с использованием однокадрового обнаружения.
</font></font></p>
</dd>
<dt><samp><code>multiple.current_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаруженный тип текущего кадра с использованием обнаружения нескольких кадров. </font><font style="vertical-align: inherit;">Один из: «tff» (сначала верхнее поле), «bff» (сначала нижнее поле), «прогрессивный» или «неопределенный»
</font></font></p>
</dd>
<dt><samp><code>multiple.bff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, обнаруженных как нижнее поле, сначала с использованием обнаружения нескольких кадров.
</font></font></p>
</dd>
<dt><samp><code>single.progressive</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, обнаруженных как прогрессивные с использованием однокадрового обнаружения.
</font></font></p>
</dd>
<dt><samp><code>multiple.progressive</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, обнаруженных как прогрессивные с использованием обнаружения нескольких кадров.
</font></font></p>
</dd>
<dt><samp><code>single.undetermined</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, которые не удалось классифицировать с помощью обнаружения одиночных кадров.
</font></font></p>
</dd>
<dt><samp><code>multiple.undetermined</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, которые не удалось классифицировать с помощью обнаружения нескольких кадров.
</font></font></p>
</dd>
<dt><samp><code>repeated.current_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Какое поле в текущем кадре повторяется с последнего. </font><font style="vertical-align: inherit;">Один из «ни», «верхний» или «нижний».
</font></font></p>
</dd>
<dt><samp><code>repeated.neither</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров без повторяющегося поля.
</font></font></p>
</dd>
<dt><samp><code>repeated.top</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров, в которых верхнее поле повторяется из верхнего поля предыдущего кадра.
</font></font></p>
</dd>
<dt><samp><code>repeated.bottom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совокупное количество кадров с нижним полем, повторяющимся из нижнего поля предыдущего кадра.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>intl_thres</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить порог чересстрочной развертки.
</font></font></p></dd>
<dt><samp><code>prog_thres</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прогрессивный порог.
</font></font></p></dd>
<dt><samp><code>rep_thres</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог для повторного обнаружения поля.
</font></font></p></dd>
<dt><samp><code>half_life</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество кадров, после которых вклад данного кадра в статистику уменьшается вдвое (т. е. он вносит только 0,5 вклада в свою классификацию). </font><font style="vertical-align: inherit;">Значение по умолчанию 0 означает, что всем просматриваемым кадрам навсегда присваивается полный вес 1,0.
</font></font></p></dd>
<dt><samp><code>analyze_interlaced_flag</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если это не 0, тогда ide будет использовать указанное количество кадров, чтобы определить, является ли чересстрочный флаг точным, он не будет подсчитывать неопределенные кадры. </font><font style="vertical-align: inherit;">Если флаг окажется точным, он будет использоваться без каких-либо дальнейших вычислений, если он будет признан неточным, он будет очищен без каких-либо дальнейших вычислений. </font><font style="vertical-align: inherit;">Это позволяет вставить фильтр idet в качестве метода с низкими вычислительными затратами для очистки чересстрочного флага.
</font></font></p></dd>
</dl>

<span id="il"></span><h3 class="section"><code><a href="#toc-il">11.130 il</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратное чередование или чередование полей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр позволяет обрабатывать чересстрочные поля изображений без их деинтерлейсинга. </font><font style="vertical-align: inherit;">Деперемежение разбивает входной кадр на 2 поля (так называемые половинные изображения). </font><font style="vertical-align: inherit;">Нечетные строки перемещаются в верхнюю половину выходного изображения, четные — в нижнюю. </font><font style="vertical-align: inherit;">Вы можете обрабатывать (фильтровать) их независимо друг от друга, а затем повторно чередовать.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_mode, l</code></samp></dt>
<dt><samp><code>chroma_mode, c</code></samp></dt>
<dt><samp><code>alpha_mode, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения </font><font style="vertical-align: inherit;">для
 </font></font><var><code>luma_mode</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font><font style="vertical-align: inherit;">:
</font></font><var><code>chroma_mode</code></var><font style="vertical-align: inherit;"></font><var><code>alpha_mode</code></var><font style="vertical-align: inherit;"></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ничего не делать.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>deinterleave, d</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерливировать поля, размещая одно над другим.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>interleave, i</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чередование полей. </font><font style="vertical-align: inherit;">Обратный эффект обратного чередования.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>luma_swap, ls</code></samp></dt>
<dt><samp><code>chroma_swap, cs</code></samp></dt>
<dt><samp><code>alpha_swap, as</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменяйте местами поля яркости/цветности/альфа. </font><font style="vertical-align: inherit;">Обмен четными и нечетными строками. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-96"></span><h4 class="subsection"><a href="#toc-Commands-96"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.130.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="inflate"></span><h3 class="section"><code><a href="#toc-inflate">11.131 inflate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект раздувания к видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр заменяет пиксель локальным (3x3) средним значением, принимая во внимание только значения выше пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold0</code></samp></dt>
<dt><samp><code>threshold1</code></samp></dt>
<dt><samp><code>threshold2</code></samp></dt>
<dt><samp><code>threshold3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничьте максимальное изменение для каждой плоскости, по умолчанию 65535. Если 0, плоскость останется неизменной.
</font></font></p></dd>
</dl>

<span id="Commands-97"></span><h4 class="subsection"><a href="#toc-Commands-97"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.131.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="interlace"></span><h3 class="section"><code><a href="#toc-interlace">11.132 interlace</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Простой чересстрочный фильтр из прогрессивного содержимого. </font><font style="vertical-align: inherit;">Это чередует верхние (или нижние) строки нечетных кадров с нижними (или верхними) строками четных кадров, вдвое уменьшая частоту кадров и сохраняя высоту изображения.
</font></font></p>
<div class="example">
<pre class="example"><code>   Original        Original             New Frame<font></font>
   Frame 'j'      Frame 'j+1'             (tff)<font></font>
  ==========      ===========       ==================<font></font>
    Line 0  --------------------&gt;    Frame 'j' Line 0<font></font>
    Line 1          Line 1  ----&gt;   Frame 'j+1' Line 1<font></font>
    Line 2 ---------------------&gt;    Frame 'j' Line 2<font></font>
    Line 3          Line 3  ----&gt;   Frame 'j+1' Line 3<font></font>
     ...             ...                   ...<font></font>
New Frame + 1 will be generated by Frame 'j+2' and Frame 'j+3' and so on<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие необязательные параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>scan</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это определяет, берется ли чересстрочный кадр из четных (tff - по умолчанию) или нечетных (bff) строк прогрессивного кадра.
</font></font></p>
</dd>
<dt><samp><code>lowpass</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вертикальный фильтр нижних частот, чтобы избежать чересстрочной развертки твиттера и уменьшить муаровые узоры.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0, off</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключить вертикальный фильтр нижних частот
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1, linear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить линейный фильтр (по умолчанию)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2, complex</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить сложный фильтр. </font><font style="vertical-align: inherit;">Это немного уменьшит щебетание и муар, но лучше сохранит детализацию и субъективное ощущение резкости.
</font></font></p>
</dd>
</dl>
</dd>
</dl>

<span id="kerndeint"></span><h3 class="section"><code><a href="#toc-kerndeint">11.133 kerndeint</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсинг входного видео с помощью адаптивного деинтерлейсинга ядра Дональда Графта. </font><font style="vertical-align: inherit;">Работайте с чересстрочными частями видео для создания прогрессивных кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>thresh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог, который влияет на допуск фильтра при определении необходимости обработки линии пикселей. </font><font style="vertical-align: inherit;">Это должно быть целое число в диапазоне [0,255] и по умолчанию равно 10. Значение 0 приведет к применению процесса к каждому пикселю.
</font></font></p>
</dd>
<dt><samp><code>map</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Закрасить пиксели, превышающие пороговое значение, белым цветом, если установлено значение 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>order</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок полей. </font><font style="vertical-align: inherit;">Поменяйте местами поля, если установлено значение 1, оставьте поля в покое, если установлено значение 0. По умолчанию установлено значение 0.
</font></font></p>
</dd>
<dt><samp><code>sharp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить дополнительную резкость, если установлено значение 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>twoway</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите двустороннюю резкость, если установлено значение 1. Значение по умолчанию — 0.
</font></font></p></dd>
</dl>

<span id="Examples-83"></span><h4 class="subsection"><a href="#toc-Examples-83"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.133.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить значения по умолчанию:
</font></font><div class="example">
<pre class="example"><code>kerndeint=thresh=10:map=0:order=0:sharp=0:twoway=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить дополнительную резкость:
</font></font><div class="example">
<pre class="example"><code>kerndeint=sharp=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Покрасьте обработанные пиксели в белый цвет:
</font></font><div class="example">
<pre class="example"><code>kerndeint=map=1
</code></pre></div>
</li></ul>

<span id="kirsch"></span><h3 class="section"><code><a href="#toc-kirsch">11.134 kirsch</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить оператор Кирша к входному видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны, необработанные плоскости будут скопированы. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет умножено на отфильтрованный результат.
</font></font></p>
</dd>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет добавлено к отфильтрованному результату.
</font></font></p></dd>
</dl>

<span id="Commands-98"></span><h4 class="subsection"><a href="#toc-Commands-98"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.134.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="lagfun"></span><h3 class="section"><code><a href="#toc-lagfun">11.135 lagfun</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Медленно обновляйте более темные пиксели.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр делает короткие вспышки света длиннее. </font><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>decay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить коэффициент затухания. </font><font style="vertical-align: inherit;">По умолчанию 0,95. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию все. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 15.
</font></font></p></dd>
</dl>

<span id="Commands-99"></span><h4 class="subsection"><a href="#toc-Commands-99"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.135.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="lenscorrection"></span><h3 class="section"><code><a href="#toc-lenscorrection">11.136 lenscorrection</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исправление радиальной дисторсии объектива
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр можно использовать для коррекции радиального искажения, возникающего в результате использования широкоугольных объективов, и, таким образом, для повторного исправления изображения. </font><font style="vertical-align: inherit;">Чтобы найти правильные параметры, можно использовать инструменты, доступные, например, в составе opencv или просто методом проб и ошибок. </font><font style="vertical-align: inherit;">Чтобы использовать opencv, используйте калибровочный образец (в разделе samples/cpp) из источников opencv и извлеките коэффициенты k1 и k2 из полученной матрицы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что фактически такой же фильтр доступен в инструментах с открытым исходным кодом Krita и Digikam из проекта KDE.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В отличие от фильтра </font></font><a href="#vignette"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">виньетки</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , который также можно использовать для компенсации ошибок объектива, этот фильтр корректирует искажение изображения, тогда как </font></font><a href="#vignette"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">виньетка</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> корректирует распределение яркости, поэтому в некоторых случаях вы можете использовать оба фильтра вместе, хотя чтобы позаботиться о порядке, т.е. следует ли применять виньетирование до или после коррекции объектива.
</font></font></p>
<span id="Options"></span><h4 class="subsection"><a href="#toc-Options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.136.1 Опции</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>cx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Относительная x-координата фокуса изображения и, следовательно, центра искажения. </font><font style="vertical-align: inherit;">Это значение имеет диапазон [0,1] и выражается в долях ширины изображения. </font><font style="vertical-align: inherit;">По умолчанию 0,5.
</font></font></p></dd>
<dt><samp><code>cy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Относительная координата y фокальной точки изображения и, следовательно, центра искажения. </font><font style="vertical-align: inherit;">Это значение имеет диапазон [0,1] и выражается в долях высоты изображения. </font><font style="vertical-align: inherit;">По умолчанию 0,5.
</font></font></p></dd>
<dt><samp><code>k1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент квадратичного поправочного члена. </font><font style="vertical-align: inherit;">Это значение имеет диапазон [-1,1]. </font><font style="vertical-align: inherit;">0 означает отсутствие коррекции. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p></dd>
<dt><samp><code>k2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент двойного квадратичного поправочного члена. </font><font style="vertical-align: inherit;">Это значение имеет диапазон [-1,1]. </font><font style="vertical-align: inherit;">0 означает отсутствие коррекции. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p></dd>
<dt><samp><code>i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип интерполяции. </font><font style="vertical-align: inherit;">Можно </font></font><code>nearest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>bilinear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>nearest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
<dt><samp><code>fc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет неотображенных пикселей. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Цвет по умолчанию </font></font><code>black@0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Формула, которая генерирует поправку:
</font></font></p>
<p><var><code>r_src</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>r_tgt</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* (1 + </font></font><var><code>k1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* ( </font></font><var><code>r_tgt</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>r_0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)^2 + </font></font><var><code>k2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* ( </font></font><var><code>r_tgt</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>r_0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)^4)
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">где </font></font><var><code>r_0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">– половина диагонали изображения , </font></font><var><code>r_src</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а </font></font><var><code>r_tgt</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">– расстояния от точки фокуса на исходном и целевом изображениях соответственно.
</font></font></p>
<span id="Commands-100"></span><h4 class="subsection"><a href="#toc-Commands-100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.136.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="lensfun"></span><h3 class="section"><code><a href="#toc-lensfun">11.137 lensfun</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените коррекцию объектива с помощью библиотеки Lensfun ( </font></font><a href="http://lensfun.sourceforge.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://lensfun.sourceforge.net/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>lensfun</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">требует, чтобы производитель камеры, модель камеры и модель объектива применяли коррекцию объектива. </font><font style="vertical-align: inherit;">Фильтр загрузит базу данных Lensfun и запросит ее, чтобы найти соответствующие записи камеры и объектива в базе данных. </font><font style="vertical-align: inherit;">Пока эти записи можно найти с заданными параметрами, фильтр может выполнять исправления кадров. </font><font style="vertical-align: inherit;">Обратите внимание, что неполные строки приведут к тому, что фильтр выберет наилучшее соответствие с заданными параметрами, и фильтр выведет выбранные модели камеры и объектива (зарегистрированные с уровнем «информация»). </font><font style="vertical-align: inherit;">Вы должны предоставить марку, модель камеры и модель объектива по мере необходимости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы получить список доступных производителей и моделей, пропустите один или оба параметра </font></font><code>make</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><code>model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Фильтр отправит полный список в журнал с уровнем </font></font><code>INFO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В первом столбце указана марка, во втором — модель. </font><font style="vertical-align: inherit;">Чтобы получить список доступных объективов, установите любые значения для марки и модели и оставьте эту
 </font></font><code>lens_model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцию. </font><font style="vertical-align: inherit;">Фильтр отправит полный список линз в лог с уровнем
 </font></font><code>INFO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Инструмент ffmpeg завершит работу после того, как список будет напечатан.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>make</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Марка камеры (например, «Canon»). </font><font style="vertical-align: inherit;">Эта опция обязательна.
</font></font></p>
</dd>
<dt><samp><code>model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Модель камеры (например, «Canon EOS 100D»). </font><font style="vertical-align: inherit;">Эта опция обязательна.
</font></font></p>
</dd>
<dt><samp><code>lens_model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Модель объектива (например, «Canon EF-S 18-55mm f/3.5-5.6 IS STM»). </font><font style="vertical-align: inherit;">Эта опция обязательна.
</font></font></p>
</dd>
<dt><samp><code>db_path</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный путь к папке базы данных объективов. </font><font style="vertical-align: inherit;">Если не задано, фильтр попытается загрузить базу данных из пути установки при сборке библиотеки. </font><font style="vertical-align: inherit;">По умолчанию не установлено.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применяемый тип коррекции. </font><font style="vertical-align: inherit;">Следующие значения являются допустимыми вариантами:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vignetting</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включает исправление виньетирования объектива.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>geometry</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позволяет исправить геометрию объектива. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>subpixel</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позволяет исправить хроматические аберрации.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vig_geo</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позволяет исправить виньетирование объектива и геометрию объектива.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vig_subpixel</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позволяет исправить виньетирование объектива и хроматические аберрации.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>distortion</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позволяет исправить как геометрию объектива, так и хроматические аберрации.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>all</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включает все возможные исправления.
</font></font></p>
</dd>
</dl>
</dd>
<dt><samp><code>focal_length</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фокусное расстояние изображения/видео (увеличение; ожидаемая константа для видео). </font><font style="vertical-align: inherit;">Например, объектив 18–55 мм имеет диапазон фокусных расстояний [18–55], поэтому при использовании этого объектива следует выбирать значение в этом диапазоне. </font><font style="vertical-align: inherit;">По умолчанию 18.
</font></font></p>
</dd>
<dt><samp><code>aperture</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Апертура изображения/видео (ожидаемая постоянная для видео). </font><font style="vertical-align: inherit;">Обратите внимание, что диафрагма используется только для коррекции виньетирования. </font><font style="vertical-align: inherit;">По умолчанию 3.5.
</font></font></p>
</dd>
<dt><samp><code>focus_distance</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фокусное расстояние изображения/видео (ожидаемая константа для видео). </font><font style="vertical-align: inherit;">Обратите внимание, что фокусное расстояние используется только для виньетирования и лишь незначительно влияет на процесс коррекции виньетирования. </font><font style="vertical-align: inherit;">Если неизвестно, оставьте значение по умолчанию (которое равно 1000).
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабный коэффициент, применяемый после преобразования. </font><font style="vertical-align: inherit;">После исправления видео уже не обязательно прямоугольное. </font><font style="vertical-align: inherit;">Этот параметр определяет, какая часть результирующего изображения будет видна. </font><font style="vertical-align: inherit;">Значение 0 означает, что значение будет выбрано автоматически таким образом, чтобы на выходном изображении было мало или совсем не было неотображенной области. </font><font style="vertical-align: inherit;">1.0 означает, что дополнительное масштабирование не выполняется. </font><font style="vertical-align: inherit;">Более низкие значения могут привести к тому, что будет видна большая часть скорректированного изображения, в то время как более высокие значения могут помочь избежать неотображенных областей на выходе.
</font></font></p>
</dd>
<dt><samp><code>target_geometry</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Целевая геометрия выходного изображения/видео. </font><font style="vertical-align: inherit;">Следующие значения являются допустимыми вариантами:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rectilinear (default)</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fisheye</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>panoramic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>equirectangular</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fisheye_orthographic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fisheye_stereographic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fisheye_equisolid</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fisheye_thoby</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
</dd>
<dt><samp><code>reverse</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените обратную коррекцию изображения (вместо исправления искажения примените его).
</font></font></p>
</dd>
<dt><samp><code>interpolation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип интерполяции, используемый при коррекции искажений. </font><font style="vertical-align: inherit;">Следующие значения являются допустимыми вариантами:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nearest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linear (default)</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
</dd>
</dl>

<span id="Examples-84"></span><h4 class="subsection"><a href="#toc-Examples-84"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.137.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените коррекцию объектива с маркой «Canon», моделью камеры «Canon EOS 100D» и моделью объектива «Canon EF-S 18-55mm f/3.5-5.6 IS STM» с фокусным расстоянием «18» и диафрагмой «8.0».

</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mov -vf lensfun=make=Canon:model="Canon EOS 100D":lens_model="Canon EF-S 18-55mm f/3.5-5.6 IS STM":focal_length=18:aperture=8 -c:v h264 -b:v 8000k output.mov
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените то же самое, что и раньше, но только для первых 5 секунд видео.

</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mov -vf lensfun=make=Canon:model="Canon EOS 100D":lens_model="Canon EF-S 18-55mm f/3.5-5.6 IS STM":focal_length=18:aperture=8:enable='lte(t\,5)' -c:v h264 -b:v 8000k output.mov
</code></pre></div>

</li></ul>

<span id="libplacebo"></span><h3 class="section"><code><a href="#toc-libplacebo">11.138 libplacebo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гибкий фильтр обработки с GPU-ускорением на основе libplacebo ( </font></font><a href="https://code.videolan.org/videolan/libplacebo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://code.videolan.org/videolan/libplacebo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Обратите внимание, что этот фильтр в настоящее время принимает только входные кадры Vulkan.
</font></font></p>
<span id="Options-1"></span><h4 class="subsection"><a href="#toc-Options-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1 Опции</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры этого фильтра разделены на следующие разделы:
</font></font></p>
<span id="Output-mode"></span><h4 class="subsubsection"><a href="#toc-Output-mode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.1 Режим вывода</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти параметры управляют общим режимом вывода. </font><font style="vertical-align: inherit;">По умолчанию libplacebo попытается максимально сохранить исходную колориметрию и размер, но при этом будет применяться любое встроенное зерно пленки, метаданные Dolby Vision или анаморфотный SAR, присутствующие в исходных кадрах.
</font></font></p><dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение размера выходного видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — входное измерение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позволяет использовать те же выражения, что и </font></font><a href="#scale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабный</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтр.
</font></font></p>
</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите переопределение выходного формата. </font><font style="vertical-align: inherit;">Если не установлено (по умолчанию), кадры будут выводиться в том же формате, что и соответствующие входные кадры. </font><font style="vertical-align: inherit;">В противном случае будет выполнено преобразование формата.
</font></font></p>
</dd>
<dt><samp><code>force_original_aspect_ratio</code></samp></dt>
<dt><samp><code>force_divisible_by</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Работайте так же, как и идентичные параметры </font></font><a href="#scale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабного</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтра.
</font></font></p>
</dd>
<dt><samp><code>normalize_sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если включено (по умолчанию), выходные кадры всегда будут иметь соотношение сторон пикселя 1:1. </font><font style="vertical-align: inherit;">Если этот параметр отключен, любые несоответствия соотношения сторон, в том числе, например, из-за источников анаморфного видео, перенаправляются в соотношение сторон выходного пикселя.
</font></font></p>
</dd>
<dt><samp><code>pad_crop_ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает соотношение (между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) между отступами и кадрированием, когда соотношение сторон на входе не соответствует соотношению сторон на выходе и
</font></font><samp><code>normalize_sar</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">действует. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">всегда дополняет содержимое черными рамками, а значение </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">всегда обрезает части содержимого. </font><font style="vertical-align: inherit;">Возможны промежуточные значения, что приводит к смешению двух подходов.
</font></font></p>
</dd>
<dt><samp><code>colorspace</code></samp></dt>
<dt><samp><code>color_primaries</code></samp></dt>
<dt><samp><code>color_trc</code></samp></dt>
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте цветовое пространство, в котором будут доставляться выходные кадры. Значение по умолчанию для </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выходных кадров в том же формате, что и входные кадры, без изменений. </font><font style="vertical-align: inherit;">Для любого другого значения будет выполнено преобразование.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См . фильтр </font></font><a href="#setparams"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setparams</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для списка возможных значений.
</font></font></p>
</dd>
<dt><samp><code>apply_filmgrain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените зернистость пленки (например, AV1 или H.274), если она присутствует в исходных кадрах, и удалите ее из вывода. </font><font style="vertical-align: inherit;">Включено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>apply_dolbyvision</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените метаданные Dolby Vision RPU, если они присутствуют в исходных кадрах, и удалите их из вывода. </font><font style="vertical-align: inherit;">Включено по умолчанию. </font><font style="vertical-align: inherit;">Обратите внимание, что Dolby Vision всегда будет выводить BT.2020+PQ, переопределяя обычные метаданные входного кадра. </font><font style="vertical-align: inherit;">Они также будут выбраны в качестве значений </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для соответствующих параметров вывода кадров.
</font></font></p></dd>
</dl>

<span id="Scaling"></span><h4 class="subsubsection"><a href="#toc-Scaling"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.2 Масштабирование</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры в этом разделе управляют тем, как libplacebo выполняет увеличение и (при необходимости) уменьшение масштаба. </font><font style="vertical-align: inherit;">Обратите внимание, что libplacebo всегда будет внутренне работать с контентом 4:4:4, поэтому любые форматы цветности с субдискретизацией, такие как </font></font><code>yuv420p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, обязательно будут повышаться и понижаться в процессе рендеринга. </font><font style="vertical-align: inherit;">Это означает, что масштабирование может действовать, даже если исходное и целевое разрешения совпадают.
</font></font></p><dl compact="compact">
<dt><samp><code>upscaler</code></samp></dt>
<dt><samp><code>downscaler</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте ядро &ZeroWidthSpace;&ZeroWidthSpace;фильтра, используемое для увеличения и уменьшения масштаба. </font><font style="vertical-align: inherit;">Соответствующие значения по умолчанию: </font></font><code>spline36</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>mitchell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Для получения полного списка возможных значений перейдите </font></font><code>help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">к этим параметрам. </font><font style="vertical-align: inherit;">Наиболее важными значениями являются:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заставляет использовать встроенную выборку текстур графического процессора (обычно билинейную). </font><font style="vertical-align: inherit;">Чрезвычайно быстро, но плохого качества, особенно при даунскейлинге.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bilinear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Билинейная интерполяция. </font><font style="vertical-align: inherit;">Как правило, это можно сделать бесплатно на графических процессорах, за исключением случаев, когда это приведет к алиасингу. </font><font style="vertical-align: inherit;">Быстро и некачественно.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nearest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполяция ближайших соседей. </font><font style="vertical-align: inherit;">Резкий, но сильно алиасинговый.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>oversample</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм, который визуально похож на интерполяцию ближайшего соседа, но пытается сохранить пропорции пикселя. </font><font style="vertical-align: inherit;">Подходит для пиксель-арта, так как приводит к минимальным искажениям художественного образа.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стандартное ядро &ZeroWidthSpace;&ZeroWidthSpace;интерполяции sinc-sinc.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>spline36</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аппроксимация кубическим сплайном Ланцоша. </font><font style="vertical-align: inherit;">Никакой разницы в производительности, но имеет немного меньше звона.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ewa_lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эллиптически взвешенная версия lanczos, основанная на ядре jinc-sinc. </font><font style="vertical-align: inherit;">Это также обычно называют просто «масштабированием Jinc». </font><font style="vertical-align: inherit;">Медленно, но очень качественно.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gaussian</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гауссово ядро. </font><font style="vertical-align: inherit;">Имеет некие идеальные математические свойства, но субъективно очень размыт.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mitchell</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кубический сплайн BC с параметрами, рекомендованными Митчеллом и Нетравали. </font><font style="vertical-align: inherit;">Очень мало звонка.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>lut_entries</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настраивает размер LUT скейлера в диапазоне от </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>256</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет выбрано внутреннее значение по умолчанию libplacebo, обычно
 </font></font><code>64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>antiringing</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включает подавление звонка (для фильтров не EWA). </font><font style="vertical-align: inherit;">Значение (между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) настраивает силу алгоритма подавления звонков. </font><font style="vertical-align: inherit;">Может увеличить алиасинг, если установлено слишком высокое значение. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>sigmoid</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите сигмоидальное сжатие во время масштабирования. </font><font style="vertical-align: inherit;">Немного уменьшает звон. </font><font style="vertical-align: inherit;">Включено по умолчанию.
</font></font></p></dd>
</dl>

<span id="Debanding"></span><h4 class="subsubsection"><a href="#toc-Debanding"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.3 Удаление полос</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Libplacebo поставляется со встроенным фильтром устранения полос, который хорошо противодействует многим распространенным источникам полос и блокировок. </font><font style="vertical-align: inherit;">Включение этого параметра настоятельно рекомендуется всякий раз, когда требуется качество.
</font></font></p><dl compact="compact">
<dt><samp><code>deband</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить (быстрый) алгоритм удаления полос. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>deband_iterations</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество итераций удаления полос алгоритма удаления полос. </font><font style="vertical-align: inherit;">Каждая итерация выполняется с постепенно увеличивающимся радиусом (и уменьшающимся порогом). </font><font style="vertical-align: inherit;">Рекомендуемые значения находятся в диапазоне </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">от </font></font><code>4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>deband_threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сила полосового фильтра. </font><font style="vertical-align: inherit;">Более высокие значения приводят к более агрессивному удалению полос. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>4.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>deband_radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Радиус деполосирующего фильтра. </font><font style="vertical-align: inherit;">Больший радиус лучше подходит для медленных уклонов, а меньший радиус лучше подходит для крутых уклонов. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>16.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>deband_grain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество дополнительного выходного зерна для добавления. </font><font style="vertical-align: inherit;">Помогает скрыть недостатки. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>6.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Color-adjustment"></span><h4 class="subsubsection"><a href="#toc-Color-adjustment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.4 Настройка цвета</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коллекция субъективных элементов управления цветом. </font><font style="vertical-align: inherit;">Не очень строго, поэтому точный эффект будет несколько варьироваться в зависимости от исходных основных цветов и цветового пространства.
</font></font></p><dl compact="compact">
<dt><samp><code>brightness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повышение яркости, между </font></font><code>-1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>contrast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контрастное усиление, между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>16.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>saturation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усиление насыщения, между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>16.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>hue</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сдвиг оттенка в радианах между </font></font><code>-3.14</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>3.14</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это повернет субвектор UV, по умолчанию будут использоваться коэффициенты BT.709 для входных сигналов RGB.
</font></font></p>
</dd>
<dt><samp><code>gamma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Регулировка гаммы, между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>16.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>cones</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Модель конуса для моделирования дальтонизма. </font><font style="vertical-align: inherit;">Принимает любую комбинацию
 </font></font><code>l</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>s</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Вот некоторые примеры:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дейтераномалия/дейтеранопия (от 3% до 4% населения)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Протаномалия/протанопия (затрагивает 1-2% населения)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>l+m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Монохромность (очень редко)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>l+m+s</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ахроматопсия (полная потеря дневного зрения, крайне редко)
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>cone-strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент усиления для конусов, заданных </font></font><code>cones</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><code>10.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение не </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">приводит к изменению цветового зрения. </font><font style="vertical-align: inherit;">Значение </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(по умолчанию) имитирует полную потерю этих конусов. </font><font style="vertical-align: inherit;">Значения выше </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">приводят к преувеличению различий между колбочками, что может помочь компенсировать снижение цветового зрения.
</font></font></p></dd>
</dl>

<span id="Peak-detection"></span><h4 class="subsubsection"><a href="#toc-Peak-detection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.5 Обнаружение пика</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы помочь справиться с источниками, которые имеют только статические метаданные HDR10 (или вообще не имеют тегов), libplacebo использует собственный внутренний вычислительный шейдер для анализа кадров, чтобы анализировать исходные кадры и адаптировать функцию отображения тонов в реальном времени. </font><font style="vertical-align: inherit;">Если это слишком медленно или если требуются точно воспроизводимые кадры, рекомендуется отключить эту функцию.
</font></font></p><dl compact="compact">
<dt><samp><code>peak_detect</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите обнаружение пиков HDR. </font><font style="vertical-align: inherit;">Игнорирует статические значения MaxCLL/MaxFALL в пользу динамического обнаружения на входе. </font><font style="vertical-align: inherit;">Обратите внимание, что обнаруженные значения не записываются обратно в выходные кадры, они просто управляют внутренним процессом отображения тонов. </font><font style="vertical-align: inherit;">Включено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>smoothing_period</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Период сглаживания обнаружения пиков, между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>1000.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Более высокие значения приводят к тому, что обнаружение пиков становится менее чувствительным к изменениям на входе. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>100.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>minimum_peak</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нижняя граница обнаруженного пика (относительно белого SDR) между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
и </font></font><code>100.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>scene_threshold_low</code></samp></dt>
<dt><samp><code>scene_threshold_high</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нижний и верхний пороги для обнаружения изменения сцены. </font><font style="vertical-align: inherit;">Выражается в логарифмической шкале между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>100.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>5.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
и </font></font><code>10.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соответственно. </font><font style="vertical-align: inherit;">Установка отрицательного значения отключает эту функцию.
</font></font></p>
</dd>
<dt><samp><code>overshoot</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальное сглаживание предела выброса, между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Обеспечивает запас прочности для предотвращения отсечения в результате сглаживания пиков. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>0.05</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что соответствует марже 5%.
</font></font></p></dd>
</dl>

<span id="Tone-mapping"></span><h4 class="subsubsection"><a href="#toc-Tone-mapping"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.6 Отображение тонов</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры в этом разделе управляют тем, как libplacebo выполняет сопоставление тонов и цветовой гаммы при работе с несоответствиями между контентом с широкой гаммой или HDR. </font><font style="vertical-align: inherit;">В целом, libplacebo полагается на точную маркировку источников и обработку информации о цветовой гамме дисплея для получения наилучших результатов.
</font></font></p><dl compact="compact">
<dt><samp><code>intent</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цель рендеринга для использования при адаптации между различными основными цветовыми гаммами (после тональной компрессии).
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>perceptual</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение перцептивной гаммы. </font><font style="vertical-align: inherit;">В настоящее время эквивалентно относительному колориметрическому.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>relative</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Относительный колориметрический. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>absolute</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Абсолютная колориметрия.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>saturation</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение насыщенности. </font><font style="vertical-align: inherit;">Принудительно растягивает исходную гамму до целевой гаммы.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>gamut_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Как обрабатывать цвета вне гаммы, которые могут возникнуть в результате сопоставления колориметрической гаммы.
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>clip</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ничего не делайте, просто обрежьте выходящие за пределы диапазона цвета в объем RGB. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>warn</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выделите пиксели вне цветового охвата (окрашивая их в розовый цвет).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>darken</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейно уменьшает яркость содержимого, чтобы сохранить насыщенные детали, с последующим отсечением оставшихся цветов вне гаммы. </font><font style="vertical-align: inherit;">Как следует из названия, это делает все темнее, но обеспечивает хороший баланс между сохранением деталей и цветов.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>desaturate</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Жесткое обесцвечивание цветов вне гаммы в сторону белого с сохранением яркости. </font><font style="vertical-align: inherit;">Имеет склонность к изменению цвета.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>tonemapping</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм отображения тонов для использования. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Автоматический выбор на основе внутренней эвристики. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>clip</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не выполняет сопоставление тонов, просто обрезает цвета, выходящие за пределы допустимого диапазона. </font><font style="vertical-align: inherit;">Сохраняет идеальную точность цветопередачи для цветов в диапазоне, но полностью уничтожает информацию вне диапазона. </font><font style="vertical-align: inherit;">Не выполняет адаптацию черной точки. </font><font style="vertical-align: inherit;">Не настраивается.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt.2390</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EETF из отчета ITU-R BT.2390, скатывание сплайна Эрмита с линейным сегментом. </font><font style="vertical-align: inherit;">Смещение точки перегиба настраивается. </font><font style="vertical-align: inherit;">Обратите внимание, что этот параметр по умолчанию имеет значение </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а не значение из </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">спецификации ITU-R.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt.2446a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EETF из отчета ITU-R BT.2446, метод A. Предназначен для хорошо освоенных источников HDR. </font><font style="vertical-align: inherit;">Может использоваться как для прямой, так и для обратной тональной компрессии. </font><font style="vertical-align: inherit;">Не настраивается.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>spline</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Простой сплайн, состоящий из двух полиномов, соединенных одной точкой вращения. </font><font style="vertical-align: inherit;">Параметр задает точку поворота (в пространстве PQ), по умолчанию </font></font><code>0.30</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Может использоваться как для прямой, так и для обратной тональной компрессии.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>reinhard</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Простой нелинейный алгоритм глобальной тональной компрессии. </font><font style="vertical-align: inherit;">Параметр определяет локальный коэффициент контрастности на пике изображения. </font><font style="vertical-align: inherit;">По сути, параметр
 </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">подразумевает, что эталонный белый будет примерно вдвое ярче, чем при отсечении. </font><font style="vertical-align: inherit;">По умолчанию имеет значение </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что приводит к простейшей формулировке этой функции.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mobius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обобщение алгоритма отображения тонов Рейнхарда для поддержки дополнительного линейного наклона вблизи черного. </font><font style="vertical-align: inherit;">Параметр отображения тонов указывает компромисс между линейной частью и нелинейной частью. </font><font style="vertical-align: inherit;">По существу, для данного параметра </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждое значение цвета ниже </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет отображаться линейно, в то время как более высокие значения получают нелинейное отображение тона. </font><font style="vertical-align: inherit;">Значения около </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заставляют эту кривую вести себя как </font></font><code>clip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а значения около </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заставляют эту кривую вести себя как </font></font><code>reinhard</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>0.3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что обеспечивает хороший баланс между колориметрической точностью и сохранением деталей за пределами цветового охвата.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hable</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм кусочного кинематографического тонального отображения, разработанный Джоном Хейблом для использования в Uncharted 2, вдохновлен аналогичным алгоритмом тонального отображения, используемым Kodak. </font><font style="vertical-align: inherit;">Популярен благодаря использованию в видеоиграх с HDR-рендерингом. </font><font style="vertical-align: inherit;">Очень хорошо сохраняет как темные, так и яркие детали, но имеет недостаток, заключающийся в довольно значительном изменении средней яркости. </font><font style="vertical-align: inherit;">Это похоже на
 </font></font><code>reinhard</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметр </font></font><code>0.24</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gamma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соответствует функции гаммы (степени) для передачи между исходным и целевым цветовыми пространствами, что эффективно приводит к восприятию жесткого соединения двух примерно линейных участков. </font><font style="vertical-align: inherit;">Это довольно точно сохраняет детали во всех масштабах, но может привести к тому, что изображение будет приглушенным или тусклым. </font><font style="vertical-align: inherit;">Параметр используется в качестве точки отсечки, по умолчанию равной </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейно растягивает входной диапазон до выходного диапазона в пространстве PQ. </font><font style="vertical-align: inherit;">Это позволит точно сохранить все детали, но приведет к значительному изменению средней яркости. </font><font style="vertical-align: inherit;">Может использоваться для обратного тонального отображения в дополнение к обычному тональному отображению. </font><font style="vertical-align: inherit;">Параметр можно использовать как дополнительный коэффициент линейного усиления (по умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>tonemapping_param</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для настраиваемых функций отображения тонов этот параметр можно использовать для точной настройки поведения кривой. </font><font style="vertical-align: inherit;">Обратитесь к документации </font></font><code>tonemapping</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заменяется предпочтительной настройкой кривой по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>tonemapping_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр определяет, как функция отображения тонов, указанная параметром,
 </font></font><code>tonemapping</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">применяется к цветам в сцене. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Автоматический выбор на основе внутренней эвристики. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rgb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените функцию для каждого канала в цветовом пространстве RGB. </font><font style="vertical-align: inherit;">Поканальное тональное отображение в RGB. </font><font style="vertical-align: inherit;">Гарантирует отсутствие отсечения и сильно обесцвечивает вывод, но значительно искажает цвета. </font><font style="vertical-align: inherit;">Очень похоже на "голливудский" внешний вид.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>max</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тональное отображение выполняется для самого яркого компонента, обнаруженного в сигнале. </font><font style="vertical-align: inherit;">Хорошо сохраняет детали в светлых участках, но имеет тенденцию подавлять черный цвет.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hybrid</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Карта тонов для каждого канала для светлых участков и линейная (на основе яркости) для полутонов/теней на основе фиксированной </font></font><code>2.4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кривой гамма-коэффициента.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>luma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тональная карта линейно по компоненту яркости (CIE Y) и корректировка (обесцвечивание) цветности для компенсации с помощью простого постоянного коэффициента. </font><font style="vertical-align: inherit;">По сути, это режим, используемый в методе A ITU-R BT.2446.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>inverse_tonemapping</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если этот фильтр включен, он также будет пытаться растягивать сигналы SDR, чтобы заполнить выходные цветовые объемы HDR. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>tonemapping_crosstalk</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дополнительный коэффициент перекрестных помех тонального отображения, между </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>0.3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это может помочь уменьшить проблемы с отображением тонов определенных ярких спектральных цветов. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>0.04</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>tonemapping_lut_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер LUT тонального отображения, между </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>1024</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>256</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Обратите внимание, что эта цифра возводится в квадрат в сочетании с
 </font></font><code>peak_detect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Dithering"></span><h4 class="subsubsection"><a href="#toc-Dithering"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.7 Дизеринг</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию libplacebo будет выполнять дизеринг всякий раз, когда это необходимо, включая рендеринг в любой целочисленный формат с точностью ниже 16-битной. </font><font style="vertical-align: inherit;">Рекомендуется всегда оставлять это включенным, так как в противном случае на выходе могут появиться видимые полосы, даже если </font></font><code>debanding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр включен. </font><font style="vertical-align: inherit;">Если нужна максимальная производительность, используйте </font></font><code>ordered_fixed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вместо отключения дизеринг.
</font></font></p><dl compact="compact">
<dt><samp><code>dithering</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используемый метод дизеринга. </font><font style="vertical-align: inherit;">Принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полностью отключает дизеринг. </font><font style="vertical-align: inherit;">Может привести к видимым полосам.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blue</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дизеринг с псевдосиним шумом. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ordered</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настраиваемый упорядоченный шаблон дизеринга.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ordered_fixed</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Быстрее упорядоченный дизеринг с фиксированным размером </font></font><code>6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Без текстуры.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>white</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дизеринг с белым шумом. </font><font style="vertical-align: inherit;">Без текстуры.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>dither_lut_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dither LUT размер, как логарифм base2 между </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что соответствует размеру LUT </font></font><code>64x64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>dither_temporal</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включает временное сглаживание. </font><font style="vertical-align: inherit;">Отключено по умолчанию.
</font></font></p></dd>
</dl>

<span id="Custom-shaders"></span><h4 class="subsubsection"><a href="#toc-Custom-shaders"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.8 Пользовательские шейдеры</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libplacebo поддерживает ряд пользовательских шейдеров, основанных на синтаксисе mpv .hook GLSL. </font><font style="vertical-align: inherit;">Коллекцию таких шейдеров можно найти здесь:
 </font></font><a href="https://github.com/mpv-player/mpv/wiki/User-Scripts#user-shaders"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/mpv-player/mpv/wiki/User-Scripts#user-shaders .</font></font></a>
</p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полное описание формата шейдера mpv выходит за рамки этого раздела, но сводку можно найти здесь:
 </font></font><a href="https://mpv.io/manual/master/#options-glsl-shader"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://mpv.io/manual/master/#options-glsl-shader .</font></font></a>
</p><dl compact="compact">
<dt><samp><code>custom_shader_path</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает путь к пользовательскому файлу шейдера для загрузки во время выполнения.
</font></font></p>
</dd>
<dt><samp><code>custom_shader_bin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задает полный пользовательский шейдер в виде необработанной строки.
</font></font></p></dd>
</dl>

<span id="Debugging-_002f-performance"></span><h4 class="subsubsection"><a href="#toc-Debugging-_002f-performance"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.1.9 Отладка/производительность</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все параметры в этом разделе по умолчанию отключены. </font><font style="vertical-align: inherit;">Они могут помочь при попытке выжать максимальную производительность за счет качества.
</font></font></p><dl compact="compact">
<dt><samp><code>skip_aa</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключите сглаживание при уменьшении масштаба.
</font></font></p>
</dd>
<dt><samp><code>polar_cutoff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезать ядра полярного масштабатора (EWA) ниже этой абсолютной величины, между
 </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>disable_linear</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключите линейное масштабирование света.
</font></font></p>
</dd>
<dt><samp><code>disable_builtin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключить встроенную выборку графического процессора (принудительно использовать LUT).
</font></font></p>
</dd>
<dt><samp><code>force_icc_lut</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительное использование полного ICC 3DLUT для сопоставления гаммы.
</font></font></p>
</dd>
<dt><samp><code>disable_fbos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительно отключать FBO, что приводит к потере почти всего функционала, но предлагает максимально возможную скорость.
</font></font></p></dd>
</dl>

<span id="Commands-101"></span><h4 class="subsection"><a href="#toc-Commands-101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.2 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает почти все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-85"></span><h4 class="subsection"><a href="#toc-Examples-85"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.138.3 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример того, как инициализировать устройство Vulkan, загружать кадры в графический процессор, выполнять преобразование фильтра в yuv420p и загружать кадры обратно в ЦП для вывода. </font><font style="vertical-align: inherit;">Обратите внимание, что в определенных случаях вы можете обойти необходимость выполнения преобразования формата, указав правильный </font></font><code>format</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметр фильтра, соответствующий входным кадрам.
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i $INPUT -init_hw_device vulkan -vf hwupload,libplacebo=format=yuv420p,hwdownload,format=yuv420p $OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ввод тональной карты на выход стандартной гаммы BT.709:
</font></font><div class="example">
<pre class="example"><code>libplacebo=colorspace=bt709:color_primaries=bt709:color_trc=bt709:range=tv
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте ввод, чтобы он соответствовал стандартному разрешению 1080p, с масштабированием высокого качества:
</font></font><div class="example">
<pre class="example"><code>libplacebo=w=1920:h=1080:force_original_aspect_ratio=decrease:normalize_sar=true:upscaler=ewa_lanczos:downscaler=ewa_lanczos
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование входных данных в стандартный sRGB JPEG:
</font></font><div class="example">
<pre class="example"><code>libplacebo=format=yuv420p:colorspace=bt470bg:color_primaries=bt709:color_trc=iec61966-2-1:range=pc
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте более качественные настройки удаления полос:
</font></font><div class="example">
<pre class="example"><code>libplacebo=deband=true:deband_iterations=3:deband_radius=8:deband_threshold=6
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Запустите этот фильтр на ЦП, в системах с установленной Mesa (и с отключенными самыми дорогими опциями):
</font></font><div class="example">
<pre class="example"><code>ffmpeg ... -init_hw_device vulkan:llvmpipe ... -vf libplacebo=upscaler=none:downscaler=none:peak_detect=false
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Подавить применение зернистости пленки AV1/H.274 на базе процессора в декодере, вместо этого используйте этот фильтр. </font><font style="vertical-align: inherit;">Обратите внимание, что это выигрыш только в том случае, если кадры либо уже находятся на графическом процессоре, либо если вы используете libplacebo для других целей, поскольку в противном случае циклический обмен VRAM более чем компенсирует любое ожидаемое ускорение.
</font></font><div class="example">
<pre class="example"><code>ffmpeg -export_side_data +film_grain ... -vf libplacebo=apply_filmgrain=true
</code></pre></div>
</li></ul>

<span id="libvmaf"></span><h3 class="section"><code><a href="#toc-libvmaf">11.139 libvmaf</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите оценку VMAF (объединение нескольких методов оценки видео) для пары исходных/искаженных входных видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первый вход — это искаженное видео, а второй вход — эталонное видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученная оценка VMAF распечатывается через систему регистрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для этого требуется библиотека Netflix vmaf (libvmaf) в качестве предварительного условия. </font><font style="vertical-align: inherit;">После установки библиотеки ее можно включить с помощью:
 </font></font><code>./configure --enable-libvmaf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр имеет следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'|' </font><font style="vertical-align: inherit;">разделенный список моделей vmaf. </font><font style="vertical-align: inherit;">Каждая модель может быть сконфигурирована с рядом параметров. </font><font style="vertical-align: inherit;">Значение по умолчанию:</font></font><code>"version=vmaf_v0.6.1"</code>
</p>
</dd>
<dt><samp><code>model_path</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устарело, используйте model='path=...'.
</font></font></p>
</dd>
<dt><samp><code>enable_transform</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устарело, используйте model='enable_transform=true'.
</font></font></p>
</dd>
<dt><samp><code>phone_model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устарело, используйте model='enable_transform=true'.
</font></font></p>
</dd>
<dt><samp><code>enable_conf_interval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устарело, используйте model='enable_conf_interval=true'.
</font></font></p>
</dd>
<dt><samp><code>feature</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'|' </font><font style="vertical-align: inherit;">ограниченный список функций. </font><font style="vertical-align: inherit;">Каждая функция может быть настроена с помощью ряда параметров.
</font></font></p>
</dd>
<dt><samp><code>psnr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устарело, используйте feature='name=psnr'.
</font></font></p>
</dd>
<dt><samp><code>ssim</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устарело, используйте feature='name=ssim'.
</font></font></p>
</dd>
<dt><samp><code>ms_ssim</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устарело, используйте feature='name=ms_ssim'.
</font></font></p>
</dd>
<dt><samp><code>log_path</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к файлу, который будет использоваться для хранения файлов журнала.
</font></font></p>
</dd>
<dt><samp><code>log_fmt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат файла журнала (xml, json, csv или sub).
</font></font></p>
</dd>
<dt><samp><code>n_threads</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество потоков, которые будут использоваться при инициализации libvmaf. </font><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, нет потоков.
</font></font></p>
</dd>
<dt><samp><code>n_subsample</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите интервал субдискретизации кадров, который будет использоваться.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-86"></span><h4 class="subsection"><a href="#toc-Examples-86"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.139.1 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В приведенных ниже примерах искаженное видео</font></font><samp><code>distorted.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сравнивается с эталонным файлом</font></font><samp><code>reference.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.

</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Основное использование:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i distorted.mpg -i reference.mpg -lavfi libvmaf=log_path=output.xml -f null -
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример с несколькими моделями:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i distorted.mpg -i reference.mpg -lavfi libvmaf='model=version=vmaf_v0.6.1\\:name=vmaf|version=vmaf_v0.6.1neg\\:name=vmaf_neg' -f null -
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример с несколькими дополнительными функциями:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i distorted.mpg -i reference.mpg -lavfi libvmaf='feature=name=psnr|name=ciede' -f null -
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример с опциями и разными контейнерами:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i distorted.mpg -i reference.mkv -lavfi "[0:v]settb=AVTB,setpts=PTS-STARTPTS[main];[1:v]settb=AVTB,setpts=PTS-STARTPTS[ref];[main][ref]libvmaf=log_fmt=json:log_path=output.json" -f null -
</code></pre></div>
</li></ul>

<span id="limitdiff"></span><h3 class="section"><code><a href="#toc-limitdiff">11.140 limitdiff</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр с ограниченным различием, используя второй и, возможно, третий видеопоток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог, который будет использоваться при разрешении определенных различий между видеопотоками. </font><font style="vertical-align: inherit;">Любое абсолютное значение разности, меньшее или точное, чем этот порог, будет выбирать компоненты пикселей из первого видеопотока.
</font></font></p>
</dd>
<dt><samp><code>elasticity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите эластичность мягкого порога при обработке видеопотоков. </font><font style="vertical-align: inherit;">Это значение, умноженное на первое, устанавливает второй порог. </font><font style="vertical-align: inherit;">Любое абсолютное значение разницы, большее или точное, чем второй порог, будет выбирать компоненты пикселей из второго видеопотока. </font><font style="vertical-align: inherit;">Для значений между этими двумя пороговыми значениями будет использоваться линейная интерполяция между первым и вторым видеопотоком.
</font></font></p>
</dd>
<dt><samp><code>reference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить обработку эталонного (третьего) видеопотока. </font><font style="vertical-align: inherit;">По умолчанию отключен. </font><font style="vertical-align: inherit;">Если установлено, этот видеопоток будет использоваться для расчета абсолютной разницы с первым видеопотоком.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обрабатываться. </font><font style="vertical-align: inherit;">По умолчанию все доступные.
</font></font></p></dd>
</dl>

<span id="Commands-102"></span><h4 class="subsection"><a href="#toc-Commands-102"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.140.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные опции как </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> кроме опции '</font></font><samp><code>reference</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
<span id="limiter"></span><h3 class="section"><code><a href="#toc-limiter">11.141 limiter</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничивает значения компонентов пикселей указанным диапазоном [мин., макс.].
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>min</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нижняя граница. </font><font style="vertical-align: inherit;">По умолчанию используется наименьшее допустимое значение для ввода.
</font></font></p>
</dd>
<dt><samp><code>max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Верхняя граница. </font><font style="vertical-align: inherit;">По умолчанию используется максимально допустимое значение для ввода.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обрабатываться. </font><font style="vertical-align: inherit;">По умолчанию все доступные.
</font></font></p></dd>
</dl>

<span id="Commands-103"></span><h4 class="subsection"><a href="#toc-Commands-103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.141.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="loop"></span><h3 class="section"><code><a href="#toc-loop">11.142 loop</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цикл видеокадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>loop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество петель. </font><font style="vertical-align: inherit;">Установка этого значения на -1 приведет к бесконечным циклам. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный размер в количестве кадров. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>start</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить первый кадр цикла. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p></dd>
</dl>

<span id="Examples-87"></span><h4 class="subsection"><a href="#toc-Examples-87"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.142.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цикл одиночного первого кадра бесконечно:
</font></font><div class="example">
<pre class="example"><code>loop=loop=-1:size=1:start=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цикл одиночного первого кадра 10 раз:
</font></font><div class="example">
<pre class="example"><code>loop=loop=10:size=1:start=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Зациклить 10 первых кадров 5 раз:
</font></font><div class="example">
<pre class="example"><code>loop=loop=5:size=10:start=0
</code></pre></div>
</li></ul>

<span id="lut1d"></span><h3 class="section"><code><a href="#toc-lut1d">11.143 lut1d</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените 1D LUT к входному видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>file</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите имя файла 1D LUT.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В настоящее время поддерживаются форматы:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cube</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Иридас
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>csp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">киноКосмос
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>interp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите режим интерполяции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nearest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте значения из ближайшей определенной точки.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполируйте значения с помощью линейной интерполяции.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cosine</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполируйте значения с помощью косинусной интерполяции.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cubic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполируйте значения, используя кубическую интерполяцию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>spline</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполируйте значения, используя сплайн-интерполяцию.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-104"></span><h4 class="subsection"><a href="#toc-Commands-104"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.143.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="lut3d"></span><span id="lut3d-1"></span><h3 class="section"><code><a href="#toc-lut3d-1">11.144 lut3d</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените 3D LUT к входному видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>file</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте имя файла 3D LUT.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В настоящее время поддерживаются форматы:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>3dl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Постэффекты
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cube</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Иридас
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Да Винчи
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>m3d</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пандора
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>csp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">киноКосмос
</font></font></p></dd>
</dl>
</dd>
<dt><samp><code>interp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите режим интерполяции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nearest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте значения из ближайшей определенной точки.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>trilinear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполируйте значения, используя 8 точек, определяющих куб.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tetrahedral</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполируйте значения, используя тетраэдр.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pyramid</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполируйте значения с помощью пирамиды.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>prism</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполируйте значения с помощью призмы.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-105"></span><h4 class="subsection"><a href="#toc-Commands-105"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.144.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает </font></font><code>interp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцию в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="lumakey"></span><h3 class="section"><code><a href="#toc-lumakey">11.145 lumakey</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Превратите определенные значения яркости в прозрачность.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите яркость, которая будет использоваться в качестве основы для прозрачности. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>tolerance</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите диапазон значений яркости для исключения. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>softness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите диапазон мягкости. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Используйте это для управления постепенным переходом от нуля к полной прозрачности.
</font></font></p></dd>
</dl>

<span id="Commands-106"></span><h4 class="subsection"><a href="#toc-Commands-106"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.145.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="lut_002c-lutrgb_002c-lutyuv"></span><h3 class="section"><code><a href="#toc-lut_002c-lutrgb_002c-lutyuv">11.146 lut, lutrgb, lutyuv</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите справочную таблицу для привязки каждого входного значения компонента пикселя к выходному значению и примените его к входному видео.
</font></font></p>
<p><var><code>lutyuv</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">применяет справочную таблицу к входному видео YUV, </font></font><var><code>lutrgb</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
к входному видео RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти фильтры принимают следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>c0</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента первого пикселя
</font></font></p></dd>
<dt><samp><code>c1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента второго пикселя
</font></font></p></dd>
<dt><samp><code>c2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента третьего пикселя
</font></font></p></dd>
<dt><samp><code>c3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента четвертого пикселя, соответствует альфа-компоненту
</font></font></p>
</dd>
<dt><samp><code>r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение красного компонента
</font></font></p></dd>
<dt><samp><code>g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение зеленого компонента
</font></font></p></dd>
<dt><samp><code>b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение синего компонента
</font></font></p></dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражение альфа-компонента
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента Y/яркости
</font></font></p></dd>
<dt><samp><code>u</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента U/Cb
</font></font></p></dd>
<dt><samp><code>v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента V/Cr
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждый из них задает выражение, используемое для вычисления таблицы поиска для соответствующих значений компонентов пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Точный компонент, связанный с каждым из </font></font><var><code>c*</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметров, зависит от формата ввода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для </font></font><var><code>lut</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтра требуются форматы пикселей YUV или RGB на входе,
 </font></font><var><code>lutrgb</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">требуются форматы пикселей RGB на входе и </font></font><var><code>lutyuv</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">требуется YUV.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения могут содержать следующие константы и функции:
</font></font></p>
<dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>val</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входное значение для компонента пикселя.
</font></font></p>
</dd>
<dt><samp><code>clipval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входное значение, обрезанное до диапазона </font></font><var><code>minval</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><var><code>maxval</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>maxval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальное значение компонента пикселя.
</font></font></p>
</dd>
<dt><samp><code>minval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Минимальное значение компонента пикселя.
</font></font></p>
</dd>
<dt><samp><code>negval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Инвертированное значение для значения компонента пикселя, обрезанное до
 диапазона </font></font><var><code>minval</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><var><code>maxval</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">это соответствует выражению "maxval-clipval+minval".
</font></font></p>
</dd>
<dt><samp><code>clip(val)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисленное значение в </font></font><var><code>val</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, обрезанное до
 диапазона </font></font><var><code>minval</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><var><code>maxval</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>gammaval(gamma)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисленное значение гамма-коррекции значения компонента пикселя, обрезанное до диапазона </font></font><var><code>minval</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><var><code>maxval</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это соответствует выражению "pow((clipval-minval)/(maxval-minval)\, </font></font><var><code>gamma</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)*(maxval-minval)+minval"
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все выражения по умолчанию имеют значение «clipval».
</font></font></p>
<span id="Commands-107"></span><h4 class="subsection"><a href="#toc-Commands-107"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.146.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="Examples-88"></span><h4 class="subsection"><a href="#toc-Examples-88"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.146.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отменить входное видео:
</font></font><div class="example">
<pre class="example"><code>lutrgb="r=maxval+minval-val:g=maxval+minval-val:b=maxval+minval-val"<font></font>
lutyuv="y=maxval+minval-val:u=maxval+minval-val:v=maxval+minval-val"<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вышеупомянутое аналогично:
</font></font></p><div class="example">
<pre class="example"><code>lutrgb="r=negval:g=negval:b=negval"<font></font>
lutyuv="y=negval:u=negval:v=negval"<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отменить яркость:
</font></font><div class="example">
<pre class="example"><code>lutyuv=y=negval
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите компоненты цветности, превратив видео в изображение в оттенках серого:
</font></font><div class="example">
<pre class="example"><code>lutyuv="u=128:v=128"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект горения яркости:
</font></font><div class="example">
<pre class="example"><code>lutyuv="y=2*val"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите зеленые и синие компоненты:
</font></font><div class="example">
<pre class="example"><code>lutrgb="g=0:b=0"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите постоянное значение альфа-канала на входе:
</font></font><div class="example">
<pre class="example"><code>format=rgba,lutrgb=a="maxval-minval/2"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Корректировка яркостной гаммы с коэффициентом 0,5:
</font></font><div class="example">
<pre class="example"><code>lutyuv=y=gammaval(0.5)
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отбросить младшие значащие биты яркости:
</font></font><div class="example">
<pre class="example"><code>lutyuv=y='bitand(val, 128+64+32)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эффект Technicolor:
</font></font><div class="example">
<pre class="example"><code>lutyuv=u='(val-maxval/2)*2+maxval/2':v='(val-maxval/2)*2+maxval/2'
</code></pre></div>
</li></ul>

<span id="lut2_002c-tlut2"></span><h3 class="section"><code><a href="#toc-lut2_002c-tlut2">11.147 lut2, tlut2</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>lut2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">принимает два входных потока и выводит один поток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>tlut2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(time lut2) берет два последовательных кадра из одного потока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>c0</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента первого пикселя
</font></font></p></dd>
<dt><samp><code>c1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента второго пикселя
</font></font></p></dd>
<dt><samp><code>c2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента третьего пикселя
</font></font></p></dd>
<dt><samp><code>c3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение компонента четвертого пикселя, соответствует альфа-компоненту
</font></font></p>
</dd>
<dt><samp><code>d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить разрядность вывода, доступно только для </font></font><code>lut2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтра. </font><font style="vertical-align: inherit;">По умолчанию равно 0, что означает, что битовая глубина автоматически выбирается из первого входного формата.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>lut2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждый из них задает выражение, используемое для вычисления таблицы поиска для соответствующих значений компонентов пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Точный компонент, связанный с каждым из </font></font><var><code>c*</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметров, зависит от формата входных данных.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения могут содержать следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первое входное значение для компонента пикселя.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Второе входное значение для компонента пикселя.
</font></font></p>
</dd>
<dt><samp><code>bdx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Битовая глубина первого входного видео.
</font></font></p>
</dd>
<dt><samp><code>bdy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Битовая глубина второго входного видео.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все выражения по умолчанию равны "x".
</font></font></p>
<span id="Commands-108"></span><h4 class="subsection"><a href="#toc-Commands-108"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.147.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> кроме параметра </font></font><code>d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="Examples-89"></span><h4 class="subsection"><a href="#toc-Examples-89"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.147.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выделите различия между двумя видеопотоками RGB:
</font></font><div class="example">
<pre class="example"><code>lut2='ifnot(x-y,0,pow(2,bdx)-1):ifnot(x-y,0,pow(2,bdx)-1):ifnot(x-y,0,pow(2,bdx)-1)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выделите различия между двумя видеопотоками YUV:
</font></font><div class="example">
<pre class="example"><code>lut2='ifnot(x-y,0,pow(2,bdx)-1):ifnot(x-y,pow(2,bdx-1),pow(2,bdx)-1):ifnot(x-y,pow(2,bdx-1),pow(2,bdx)-1)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать максимальную разницу между двумя видеопотоками:
</font></font><div class="example">
<pre class="example"><code>lut2='if(lt(x,y),0,if(gt(x,y),pow(2,bdx)-1,pow(2,bdx-1))):if(lt(x,y),0,if(gt(x,y),pow(2,bdx)-1,pow(2,bdx-1))):if(lt(x,y),0,if(gt(x,y),pow(2,bdx)-1,pow(2,bdx-1)))'
</code></pre></div>
</li></ul>

<span id="maskedclamp"></span><h3 class="section"><code><a href="#toc-maskedclamp">11.148 maskedclamp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Зажмите первый входной поток вторым входным и третьим входным потоком.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение первого потока между вторым входным потоком - </font></font><code>undershoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и третьим входным потоком + </font></font><code>overshoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>undershoot</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overshoot</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны как растровые, необработанные плоскости будут скопированы из первого потока. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-109"></span><h4 class="subsection"><a href="#toc-Commands-109"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.148.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="maskedmax"></span><h3 class="section"><code><a href="#toc-maskedmax">11.149 maskedmax</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объедините второй и третий входные потоки в выходной поток, используя абсолютную разницу между вторым входным потоком и первым входным потоком и абсолютную разницу между третьим входным потоком и первым входным потоком. </font><font style="vertical-align: inherit;">Выбранное значение будет из второго входного потока, если вторая абсолютная разница больше первой, или из третьего входного потока в противном случае.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны как растровые, необработанные плоскости будут скопированы из первого потока. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-110"></span><h4 class="subsection"><a href="#toc-Commands-110"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.149.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="maskedmerge"></span><h3 class="section"><code><a href="#toc-maskedmerge">11.150 maskedmerge</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объедините первый входной поток со вторым входным потоком, используя веса пикселей в третьем входном потоке.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение 0 в компоненте пикселя третьего потока означает, что компонент пикселя из первого потока возвращается без изменений, а максимальное значение (например, 255 для 8-битных видео) означает, что компонент пикселя из второго потока возвращается без изменений. </font><font style="vertical-align: inherit;">Промежуточные значения определяют степень слияния между компонентами пикселей обоих входных потоков.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны как растровые, необработанные плоскости будут скопированы из первого потока. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-111"></span><h4 class="subsection"><a href="#toc-Commands-111"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.150.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="maskedmin"></span><h3 class="section"><code><a href="#toc-maskedmin">11.151 maskedmin</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объедините второй и третий входные потоки в выходной поток, используя абсолютную разницу между вторым входным потоком и первым входным потоком и абсолютную разницу между третьим входным потоком и первым входным потоком. </font><font style="vertical-align: inherit;">Выбранное значение будет из второго входного потока, если вторая абсолютная разница меньше первой, или из третьего входного потока в противном случае.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны как растровые, необработанные плоскости будут скопированы из первого потока. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-112"></span><h4 class="subsection"><a href="#toc-Commands-112"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.151.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="maskedthreshold"></span><h3 class="section"><code><a href="#toc-maskedthreshold">11.152 maskedthreshold</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите пиксели, сравнивающие абсолютную разницу двух видеопотоков с фиксированным порогом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если абсолютная разница между пиксельной составляющей первого и второго видеопотока равна или ниже заданного пользователем порога, то выбирается пиксельная составляющая из первого видеопотока, в противном случае выбирается пиксельная составляющая из второго видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговое значение, используемое при выборе пикселей из абсолютной разницы двух входных видеопотоков.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны как растровые, необработанные плоскости будут скопированы из второго потока. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-113"></span><h4 class="subsection"><a href="#toc-Commands-113"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.152.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="maskfun"></span><h3 class="section"><code><a href="#toc-maskfun">11.153 maskfun</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте маску из входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, полезно создавать маски движения после </font></font><code>tblend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>low</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите низкий порог. </font><font style="vertical-align: inherit;">Любой компонент пикселя ниже или точнее этого значения будет установлен на 0.
</font></font></p>
</dd>
<dt><samp><code>high</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высокий порог. </font><font style="vertical-align: inherit;">Любой компонент пикселя выше этого значения будет установлен на максимальное значение, разрешенное для текущего формата пикселя.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте фильтрацию плоскостей, по умолчанию фильтруются все доступные плоскости.
</font></font></p>
</dd>
<dt><samp><code>fill</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заполните все пиксели кадра этим значением.
</font></font></p>
</dd>
<dt><samp><code>sum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное среднее значение пикселя для кадра. </font><font style="vertical-align: inherit;">Если сумма всех компонентов пикселя выше этого среднего значения, выходной кадр будет полностью заполнен значением, установленным </font></font><var><code>fill</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцией. </font><font style="vertical-align: inherit;">Обычно полезно для смены сцены при использовании в сочетании с </font></font><code>tblend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром.
</font></font></p></dd>
</dl>

<span id="Commands-114"></span><h4 class="subsection"><a href="#toc-Commands-114"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.153.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="mcdeint"></span><h3 class="section"><code><a href="#toc-mcdeint">11.154 mcdeint</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените деинтерлейсинг с компенсацией движения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В качестве входных данных требуется одно поле на кадр, поэтому его следует использовать вместе с yadif=1/3 или эквивалентным.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр доступен только в ffmpeg версии 4.4 или более ранней.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим деинтерлейсинга.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fast</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>medium</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>slow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">использовать итеративную оценку движения
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>extra_slow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">как '</font></font><samp><code>slow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', но использовать несколько систем отсчета.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>fast</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>parity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите четность поля изображения, предполагаемую для входного видео. </font><font style="vertical-align: inherit;">Это должно быть одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0, tff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предположим сначала верхнее поле
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1, bff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предположим сначала нижнее поле
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>bff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите параметр квантования для каждого блока (QP), используемый внутренним кодировщиком.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более высокие значения должны привести к более плавному векторному полю движения, но менее оптимальным для отдельных векторов. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p></dd>
</dl>

<span id="median"></span><h3 class="section"><code><a href="#toc-median">11.155 median</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите средний пиксель из определенного прямоугольника, определенного радиусом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер горизонтального радиуса. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон — целое число от 1 до 127.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости обрабатывать. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все доступные плоскости.
</font></font></p>
</dd>
<dt><samp><code>radiusV</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер вертикального радиуса. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон — целое число от 0 до 127. Если он равен 0, значение будет выбрано из горизонтальной </font></font><code>radius</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции.
</font></font></p>
</dd>
<dt><samp><code>percentile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите средний процентиль. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">всегда будет выбирать средние значения, тогда как </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будут выбираться минимальные значения и </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">максимальные значения.
</font></font></p></dd>
</dl>

<span id="Commands-115"></span><h4 class="subsection"><a href="#toc-Commands-115"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.155.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="mergeplanes"></span><h3 class="section"><code><a href="#toc-mergeplanes">11.156 mergeplanes</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объединяйте компоненты цветового канала из нескольких видеопотоков.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает до 4 входных потоков и объединяет выбранные входные плоскости с выходным видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>mapping</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите отображение входной плоскости на выходную. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставления указаны в виде растрового изображения. </font><font style="vertical-align: inherit;">Он должен быть указан как шестнадцатеричное число в форме 0xAa[Bb[Cc[Dd]]]. </font><font style="vertical-align: inherit;">«Aa» описывает отображение для первой плоскости выходного потока. </font><font style="vertical-align: inherit;">«A» устанавливает номер используемого входного потока (от 0 до 3), а «a» — номер плоскости соответствующего входа для использования (от 0 до 3). </font><font style="vertical-align: inherit;">Остальные отображения аналогичны: «Bb» описывает отображение для второй плоскости выходного потока, «Cc» описывает отображение для третьей плоскости выходного потока, а «Dd» описывает отображение для четвертой плоскости выходного потока.
</font></font></p>
</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат выходного пикселя. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>yuva444p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>map0s</code></samp></dt>
<dt><samp><code>map1s</code></samp></dt>
<dt><samp><code>map2s</code></samp></dt>
<dt><samp><code>map3s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите сопоставление входного и выходного потоков для выходной N-й плоскости. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>map0p</code></samp></dt>
<dt><samp><code>map1p</code></samp></dt>
<dt><samp><code>map2p</code></samp></dt>
<dt><samp><code>map3p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите отображение входной и выходной плоскостей для выходной N-й плоскости. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-90"></span><h4 class="subsection"><a href="#toc-Examples-90"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.156.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объединить три серых видеопотока одинаковой ширины и высоты в один видеопоток:
</font></font><div class="example">
<pre class="example"><code>[a0][a1][a2]mergeplanes=0x001020:yuv444p
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объедините 1-й поток yuv444p и 2-й поток серого видео в видеопоток yuva444p:
</font></font><div class="example">
<pre class="example"><code>[a0][a1]mergeplanes=0x00010210:yuva444p
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменяйте местами плоскости Y и A в потоке yuva444p:
</font></font><div class="example">
<pre class="example"><code>format=yuva444p,mergeplanes=0x03010200:yuva444p
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменяйте местами плоскости U и V в потоке yuv420p:
</font></font><div class="example">
<pre class="example"><code>format=yuv420p,mergeplanes=0x000201:yuv420p
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Закиньте клип rgb24 на yuv444p:
</font></font><div class="example">
<pre class="example"><code>format=rgb24,mergeplanes=0x000102:yuv444p
</code></pre></div>
</li></ul>

<span id="mestimate"></span><h3 class="section"><code><a href="#toc-mestimate">11.157 mestimate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оцените и экспортируйте векторы движения, используя алгоритмы сопоставления блоков. </font><font style="vertical-align: inherit;">Векторы движения сохраняются в данных на стороне кадра для использования другими фильтрами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>method</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте метод оценки движения. </font><font style="vertical-align: inherit;">Принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>esa</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исчерпывающий алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Трехэтапный алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tdls</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Двумерный логарифмический алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ntss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Новый трехэтапный алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Четырехшаговый алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ds</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм поиска алмазов.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hexbs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм поиска на основе шестиугольника.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>epzs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усовершенствованный алгоритм предиктивного зонального поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>umh</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм поиска неравномерного множества шестиугольников.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>esa</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>mb_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер макроблока. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>search_param</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр поиска. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="midequalizer"></span><h3 class="section"><code><a href="#toc-midequalizer">11.158 midequalizer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект Midway Image Equalization, используя два видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Midway Image Equalization корректирует пару изображений, чтобы они имели одинаковую гистограмму, сохраняя при этом их динамику в максимально возможной степени. </font><font style="vertical-align: inherit;">Это полезно, например, для сопоставления экспозиций с пары стереокамер.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр имеет два входа и один выход, которые должны иметь одинаковый формат пикселей, но могут быть разных размеров. </font><font style="vertical-align: inherit;">Выход фильтра настраивается по первому входу с промежуточной гистограммой обоих входов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости обрабатывать. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все доступные плоскости.
</font></font></p></dd>
</dl>

<span id="minterpolate"></span><h3 class="section"><code><a href="#toc-minterpolate">11.159 minterpolate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте видео в заданную частоту кадров, используя интерполяцию движения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>fps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите выходную частоту кадров. </font><font style="vertical-align: inherit;">Это может быть рациональным, например </font></font><code>60000/1001</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Кадры отбрасываются, если они </font></font><var><code>fps</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ниже исходного fps. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>60</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mi_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим интерполяции движения. </font><font style="vertical-align: inherit;">Принимаются следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dup</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дублировать предыдущий или следующий кадр для интерполяции новых.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blend</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешайте исходные кадры. </font><font style="vertical-align: inherit;">Интерполированный кадр — это среднее значение предыдущего и следующего кадров.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mci</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполяция с компенсацией движения. </font><font style="vertical-align: inherit;">При выборе этого режима действуют следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mc_mode</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим компенсации движения. </font><font style="vertical-align: inherit;">Принимаются следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>obmc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компенсация движения перекрывающихся блоков.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>aobmc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Адаптивная компенсация движения перекрывающихся блоков. </font><font style="vertical-align: inherit;">Весовые коэффициенты окна управляются адаптивно в соответствии с надежностью соседних векторов движения, чтобы уменьшить чрезмерное сглаживание.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим по умолчанию '</font></font><samp><code>obmc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>me_mode</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим оценки движения. </font><font style="vertical-align: inherit;">Принимаются следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bidir</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценка двунаправленного движения. </font><font style="vertical-align: inherit;">Векторы движения оцениваются для каждого исходного кадра как в прямом, так и в обратном направлениях.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bilat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценка двустороннего движения. </font><font style="vertical-align: inherit;">Векторы движения оцениваются непосредственно для интерполированного кадра.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим по умолчанию '</font></font><samp><code>bilat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>me</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм, который будет использоваться для оценки движения. </font><font style="vertical-align: inherit;">Принимаются следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>esa</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исчерпывающий алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Трехэтапный алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tdls</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Двумерный логарифмический алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ntss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Новый трехэтапный алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Четырехшаговый алгоритм поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ds</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм поиска алмазов.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hexbs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм поиска на основе шестиугольника.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>epzs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усовершенствованный алгоритм предиктивного зонального поиска.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>umh</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм поиска неравномерного множества шестиугольников.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм по умолчанию: '</font></font><samp><code>epzs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mb_size</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер макроблока. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>search_param</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр поиска оценки движения. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vsbmc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите компенсацию движения блока переменного размера. </font><font style="vertical-align: inherit;">Оценка движения применяется с меньшими размерами блоков на границах объектов, чтобы сделать их менее размытыми. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(отключено).
</font></font></p></dd>
</dl>
</dd>
</dl>

</dd>
<dt><samp><code>scd</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Метод обнаружения смены сцены. </font><font style="vertical-align: inherit;">Изменение сцены приводит к тому, что векторы движения имеют случайное направление. </font><font style="vertical-align: inherit;">Обнаружение смены сцены заменяет интерполированные кадры дубликатами. </font><font style="vertical-align: inherit;">Может не понадобиться для других режимов. </font><font style="vertical-align: inherit;">Принимаются следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключите обнаружение смены сцены.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fdiff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разница кадров. </font><font style="vertical-align: inherit;">Соответствующие значения пикселей сравниваются, и, если они удовлетворяют </font></font><var><code>scd_threshold</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, обнаруживается изменение сцены.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Метод по умолчанию: '</font></font><samp><code>fdiff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>scd_threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог обнаружения смены сцены. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>10.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="mix"></span><h3 class="section"><code><a href="#toc-mix">11.160 mix</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешайте несколько входных видеопотоков в один видеопоток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество входов. </font><font style="vertical-align: inherit;">Если не указано, по умолчанию используется 2.
</font></font></p>
</dd>
<dt><samp><code>weights</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите вес каждого входного видеопотока в виде последовательности. </font><font style="vertical-align: inherit;">Каждый вес отделен пробелом. </font><font style="vertical-align: inherit;">Если количество весов меньше, чем количество </font></font><var><code>frames</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">последних указанных весов, будет использоваться для всех оставшихся неустановленных весов.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите масштаб, если он установлен, он будет умножен на сумму каждого веса, умноженного на значения пикселей, чтобы получить конечное значение целевого пикселя. </font><font style="vertical-align: inherit;">По умолчанию </font></font><var><code>scale</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">автоматически масштабируется до суммы весов.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию все. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 15.
</font></font></p>
</dd>
<dt><samp><code>duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, как определяется конец потока.
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>longest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность самого длинного ввода. </font><font style="vertical-align: inherit;">(дефолт)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>shortest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность самого короткого ввода.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>first</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность первого ввода.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-116"></span><h4 class="subsection"><a href="#toc-Commands-116"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.160.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>weights</code></samp></dt>
<dt><samp><code>scale</code></samp></dt>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синтаксис такой же, как у опции с тем же именем.
</font></font></p></dd>
</dl>

<span id="monochrome"></span><h3 class="section"><code><a href="#toc-monochrome">11.161 monochrome</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование видео в серый цвет с помощью пользовательского цветового фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>cb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите синюю точку цветности. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1 до 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>cr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите красную точку цветности. </font><font style="vertical-align: inherit;">Допустимый диапазон от -1 до 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер цветового фильтра. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0,1 до 10. Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>high</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу бликов. </font><font style="vertical-align: inherit;">Допустимый диапазон — от 0 до 1. Значение по умолчанию — 0.
</font></font></p></dd>
</dl>

<span id="Commands-117"></span><h4 class="subsection"><a href="#toc-Commands-117"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.161.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="morpho"></span><h3 class="section"><code><a href="#toc-morpho">11.162 morpho</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр позволяет применять основные морфологические преобразования оттенков серого, размывать и расширять произвольные структуры, установленные во втором входном потоке.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В отличие от наивной реализации и гораздо более низкой производительности в фильтрах </font></font><a href="#erosion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">эрозии</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
и </font></font><a href="#dilation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">расширения</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , когда скорость критична </font></font><code>morpho</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, вместо них следует использовать фильтр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить морфологическое преобразование для применения, может быть:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>erode</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dilate</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>open</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>close</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gradient</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tophat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackhat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>erode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте фильтрацию плоскостей, по умолчанию фильтруются все плоскости, кроме альфа.
</font></font></p>
</dd>
<dt><samp><code>structure</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить, какая структура видеокадров будет обрабатываться из второго входного потока, может быть </font></font><var><code>first</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>morpho</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Commands-118"></span><h4 class="subsection"><a href="#toc-Commands-118"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.162.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="mpdecimate"></span><h3 class="section"><code><a href="#toc-mpdecimate">11.163 mpdecimate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отбрасывать кадры, которые не сильно отличаются от предыдущего кадра, чтобы уменьшить частоту кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В основном этот фильтр используется для кодирования с очень низким битрейтом (например, для потоковой передачи через модем с коммутируемой связью), но теоретически его можно использовать для исправления фильмов, которые были неправильно телесинированы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество последовательных кадров, которые можно отбросить (если положительное), или минимальный интервал между отброшенными кадрами (если отрицательное). </font><font style="vertical-align: inherit;">Если значение равно 0, кадр отбрасывается независимо от количества предыдущих последовательно отброшенных кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>hi</code></samp></dt>
<dt><samp><code>lo</code></samp></dt>
<dt><samp><code>frac</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговые значения отбрасывания.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения для</font></font><samp><code>hi</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>lo</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предназначены для блоков пикселей 8x8 и представляют фактические различия значений пикселей, поэтому пороговое значение 64 соответствует 1 единице различия для каждого пикселя или тому же самому распределению по блоку по-разному.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кадр считается кандидатом на отбрасывание, если никакие блоки 8x8 не отличаются более чем на пороговое значение.</font></font><samp><code>hi</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а если не более</font></font><samp><code>frac</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">блоки (1 означает все изображение) отличаются более чем на порог</font></font><samp><code>lo</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для</font></font><samp><code>hi</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64*12, значение по умолчанию для</font></font><samp><code>lo</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">составляет 64*5, а значение по умолчанию для</font></font><samp><code>frac</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">составляет 0,33.
</font></font></p></dd>
</dl>

<span id="msad"></span><h3 class="section"><code><a href="#toc-msad">11.164 msad</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите MSAD (средняя сумма абсолютных разностей) между двумя входными видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает два входных видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба входных видео должны иметь одинаковое разрешение и формат пикселей, чтобы этот фильтр работал правильно. </font><font style="vertical-align: inherit;">Также предполагается, что оба входа имеют одинаковое количество кадров, которые сравниваются один за другим.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученные значения по компонентам, средние, минимальные и максимальные MSAD распечатываются через систему регистрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр сохраняет рассчитанный MSAD каждого кадра в метаданных кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В приведенном ниже примере входной файл</font></font><samp><code>main.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обрабатываемый файл сравнивается с эталонным файлом</font></font><samp><code>ref.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<div class="example">
<pre class="example"><code>ffmpeg -i main.mpg -i ref.mpg -lavfi msad -f null -
</code></pre></div>

<span id="multiply"></span><h3 class="section"><code><a href="#toc-multiply">11.165 multiply</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Умножьте значения пикселей первого видеопотока на значения пикселей второго видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите масштаб, применяемый ко второму видеопотоку. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>offset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите смещение, применяемое ко второму видеопотоку. </font><font style="vertical-align: inherit;">По умолчанию есть </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите плоскости из входного видеопотока, которые будут обрабатываться. </font><font style="vertical-align: inherit;">По умолчанию обрабатываются все плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-119"></span><h4 class="subsection"><a href="#toc-Commands-119"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.165.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="negate"></span><h3 class="section"><code><a href="#toc-negate">11.166 negate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отменить (инвертировать) входное видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>components</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите компоненты для отрицания.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения для компонентов:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>v</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>g</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>negate_alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При значении 1 он отрицает альфа-компонент, если он присутствует. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p></dd>
</dl>

<span id="Commands-120"></span><h4 class="subsection"><a href="#toc-Commands-120"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.166.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="nlmeans"></span><span id="nlmeans-1"></span><h3 class="section"><code><a href="#toc-nlmeans-1">11.167 nlmeans</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кадры шумоподавления с использованием алгоритма Non-Local Means.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждый пиксель корректируется путем поиска других пикселей с аналогичным контекстом. </font><font style="vertical-align: inherit;">Это сходство контекста определяется путем сравнения окружающих их участков размером
</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Икс</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Патчи ищутся в области</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Икс</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
вокруг пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что исследовательская область определяет центры для патчей, что означает, что некоторые патчи будут состоять из пикселей за пределами этой исследовательской области.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры.
</font></font></p>
<dl compact="compact">
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить мощность шумоподавления. </font><font style="vertical-align: inherit;">По умолчанию 1.0. </font><font style="vertical-align: inherit;">Должен быть в диапазоне [1,0, 30,0].
</font></font></p>
</dd>
<dt><samp><code>p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер патча. </font><font style="vertical-align: inherit;">По умолчанию 7. Должно быть нечетное число в диапазоне [0, 99].
</font></font></p>
</dd>
<dt><samp><code>pc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Такой же как</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">но для плоскостей цветности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и означает автоматический.
</font></font></p>
</dd>
<dt><samp><code>r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер исследования. </font><font style="vertical-align: inherit;">По умолчанию 15. Должно быть нечетное число в диапазоне [0, 99].
</font></font></p>
</dd>
<dt><samp><code>rc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Такой же как</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">но для плоскостей цветности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>0</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и означает автоматический.
</font></font></p></dd>
</dl>

<span id="nnedi"></span><h3 class="section"><code><a href="#toc-nnedi">11.168 nnedi</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсинг видео с помощью интерполяции, направленной по краю нейронной сети.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>weights</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обязательная опция, без бинарного файла фильтр работать не может. </font><font style="vertical-align: inherit;">В настоящее время файл можно найти здесь: https://github.com/dubhater/vapoursynth-nnedi3/blob/master/src/nnedi3_weights.bin
</font></font></p>
</dd>
<dt><samp><code>deint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие кадры деинтерлейсировать, по умолчанию это </font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Можно </font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>interlaced</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>field</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим работы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>af</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте флаги кадра, оба поля.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте флаги кадра, одно поле.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте только верхнее поле.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте только нижнее поле.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте оба поля, сначала верхнее.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте оба поля, сначала нижнее.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости обрабатывать, по умолчанию фильтр обрабатывает все кадры.
</font></font></p>
</dd>
<dt><samp><code>nsize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер локальной окрестности вокруг каждого пикселя, используемого нейронной сетью-предиктором.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s8x6</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s16x6</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s32x6</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s48x6</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s8x4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s16x4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s32x4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>nns</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество нейронов в нейронной сети предиктора. </font><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>n16</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>n32</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>n64</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>n128</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>n256</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>qual</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Управляет количеством различных прогнозов нейронной сети, которые смешиваются вместе для вычисления конечного выходного значения. </font><font style="vertical-align: inherit;">Может быть </font></font><code>fast</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по умолчанию или
 </font></font><code>slow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>etype</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какой набор весов использовать в предсказателе. </font><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>a, abs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">веса, обученные минимизировать абсолютную ошибку
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>s, mse</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">веса, обученные минимизировать квадрат ошибки
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>pscrn</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяет, используется ли нейронная сеть предварительного скрининга для принятия решения о том, какие пиксели должны быть обработаны нейронной сетью предиктора, а какие могут быть обработаны простой кубической интерполяцией. </font><font style="vertical-align: inherit;">Прескринер обучен тому, чтобы знать, будет ли достаточно кубической интерполяции для пикселя или он должен быть предсказан предсказателем nn. </font><font style="vertical-align: inherit;">Вычислительная сложность прескринера nn намного меньше, чем у предиктора nn. </font><font style="vertical-align: inherit;">Поскольку большинство пикселей можно обработать с помощью кубической интерполяции, использование предварительного скрининга обычно приводит к гораздо более быстрой обработке. </font><font style="vertical-align: inherit;">Прескринер довольно точен, поэтому разница между его использованием и неиспользованием практически всегда незаметна.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>original</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>new</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>new2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>new3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>new</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-121"></span><h4 class="subsection"><a href="#toc-Commands-121"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.168.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры, за исключением </font></font><var><code>weights</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметра.
</font></font></p>
<span id="noformat"></span><h3 class="section"><code><a href="#toc-noformat">11.169 noformat</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заставить libavfilter не использовать ни один из указанных форматов пикселей для ввода следующего фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>pix_fmts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный символом '|' список названий форматов пикселей, например, pix_fmts=yuv420p|monow|rgb24".
</font></font></p>
</dd>
</dl>

<span id="Examples-91"></span><h4 class="subsection"><a href="#toc-Examples-91"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.169.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заставьте libavfilter использовать формат, отличный от формата </font></font><var><code>yuv420p</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ввода для фильтра vflip:
</font></font><div class="example">
<pre class="example"><code>noformat=pix_fmts=yuv420p,vflip
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Конвертируйте входное видео в любой из форматов, не содержащихся в списке:
</font></font><div class="example">
<pre class="example"><code>noformat=yuv420p|yuv444p|yuv410p
</code></pre></div>
</li></ul>

<span id="noise"></span><h3 class="section"><code><a href="#toc-noise">11.170 noise</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте шум на входной видеокадр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>all_seed</code></samp></dt>
<dt><samp><code>c0_seed</code></samp></dt>
<dt><samp><code>c1_seed</code></samp></dt>
<dt><samp><code>c2_seed</code></samp></dt>
<dt><samp><code>c3_seed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное значение шума для определенного компонента пикселя или для всех компонентов пикселя в случае </font></font><var><code>all_seed</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>123457</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>all_strength, alls</code></samp></dt>
<dt><samp><code>c0_strength, c0s</code></samp></dt>
<dt><samp><code>c1_strength, c1s</code></samp></dt>
<dt><samp><code>c2_strength, c2s</code></samp></dt>
<dt><samp><code>c3_strength, c3s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень шума для определенного компонента пикселя или для всех компонентов пикселя в случае
 </font></font><var><code>all_strength</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон: [0, 100].
</font></font></p>
</dd>
<dt><samp><code>all_flags, allf</code></samp></dt>
<dt><samp><code>c0_flags, c0f</code></samp></dt>
<dt><samp><code>c1_flags, c1f</code></samp></dt>
<dt><samp><code>c2_flags, c2f</code></samp></dt>
<dt><samp><code>c3_flags, c3f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите флаги компонентов пикселей или установите флаги для всех компонентов, если </font></font><var><code>all_flags</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Доступные значения для флагов компонентов:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">усредненный временной шум (более плавный)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">смешать случайный шум с (полу)регулярным паттерном
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">временной шум (картина шума меняется между кадрами)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равномерный шум (иначе гауссов)
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Examples-92"></span><h4 class="subsection"><a href="#toc-Examples-92"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.170.1 Примеры</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте временный и однородный шум к входному видео:
</font></font></p><div class="example">
<pre class="example"><code>noise=alls=20:allf=t+u
</code></pre></div>

<span id="normalize"></span><h3 class="section"><code><a href="#toc-normalize">11.171 normalize</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нормализуйте видео RGB (также известное как растяжение гистограммы, растяжение контраста). </font><font style="vertical-align: inherit;">См.: https://en.wikipedia.org/wiki/Normalization_(image_processing)
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для каждого канала каждого кадра фильтр вычисляет входной диапазон и линейно сопоставляет его с заданным пользователем выходным диапазоном. </font><font style="vertical-align: inherit;">Выходной диапазон по умолчанию соответствует полному динамическому диапазону от чистого черного до чистого белого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временное сглаживание можно использовать для входного диапазона, чтобы уменьшить мерцание (быстрые изменения яркости), возникающие, когда маленькие темные или яркие объекты входят в сцену или покидают ее. </font><font style="vertical-align: inherit;">Это похоже на автоматическую экспозицию (автоматическая регулировка усиления) в видеокамере и, как и в видеокамере, может привести к периоду передержки или недодержки видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каналы R, G, B можно нормализовать независимо, что может привести к некоторому смещению цвета, или объединить их в один канал, что предотвращает смещение цвета. </font><font style="vertical-align: inherit;">Связанная нормализация сохраняет оттенок. </font><font style="vertical-align: inherit;">Независимой нормализации нет, поэтому ее можно использовать для удаления некоторых цветовых оттенков. </font><font style="vertical-align: inherit;">Независимая и связанная нормализация могут сочетаться в любом соотношении.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр нормализации принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>blackpt</code></samp></dt>
<dt><samp><code>whitept</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвета, определяющие выходной диапазон. </font><font style="vertical-align: inherit;">Минимальное входное значение сопоставляется с </font></font><var><code>blackpt</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Максимальное входное значение сопоставляется с </font></font><var><code>whitept</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию черный и белый соответственно. </font><font style="vertical-align: inherit;">Указание белого для
 </font></font><var><code>blackpt</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и черного для </font></font><var><code>whitept</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">даст инвертированное по цвету нормализованное видео. </font><font style="vertical-align: inherit;">Оттенки серого можно использовать для уменьшения динамического диапазона (контрастности). </font><font style="vertical-align: inherit;">Указание здесь насыщенных цветов может создать некоторые интересные эффекты.
</font></font></p>
</dd>
<dt><samp><code>smoothing</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество предыдущих кадров, используемых для временного сглаживания. </font><font style="vertical-align: inherit;">Входной диапазон каждого канала сглаживается с использованием скользящего среднего по текущему кадру и </font></font><var><code>smoothing</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предыдущим кадрам. </font><font style="vertical-align: inherit;">По умолчанию 0 (без временного сглаживания).
</font></font></p>
</dd>
<dt><samp><code>independence</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Управляет отношением независимой (со сдвигом цвета) нормализации канала к связанной (с сохранением цвета) нормализации. </font><font style="vertical-align: inherit;">0.0 полностью связан, 1.0 полностью независим. </font><font style="vertical-align: inherit;">По умолчанию 1.0 (полностью независимый).
</font></font></p>
</dd>
<dt><samp><code>strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Общая мощность фильтра. </font><font style="vertical-align: inherit;">1.0 - полная мощность. </font><font style="vertical-align: inherit;">0.0 — довольно дорогой no-op. </font><font style="vertical-align: inherit;">По умолчанию 1.0 (полная сила).
</font></font></p>
</dd>
</dl>

<span id="Commands-122"></span><h4 class="subsection"><a href="#toc-Commands-122"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.171.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры, за исключением </font></font><var><code>smoothing</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметра. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="Examples-93"></span><h4 class="subsection"><a href="#toc-Examples-93"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.171.2 Примеры</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличение контрастности видео для использования полного динамического диапазона без временного сглаживания; </font><font style="vertical-align: inherit;">может мерцать в зависимости от исходного контента:
</font></font></p><div class="example">
<pre class="example"><code>normalize=blackpt=black:whitept=white:smoothing=0
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с 50 кадрами временного сглаживания; </font><font style="vertical-align: inherit;">мерцание должно быть уменьшено в зависимости от исходного контента:
</font></font></p><div class="example">
<pre class="example"><code>normalize=blackpt=black:whitept=white:smoothing=50
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с нормализацией связанного канала с сохранением оттенка:
</font></font></p><div class="example">
<pre class="example"><code>normalize=blackpt=black:whitept=white:smoothing=50:independence=0
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с половинной силой:
</font></font></p><div class="example">
<pre class="example"><code>normalize=blackpt=black:whitept=white:smoothing=50:independence=0:strength=0.5
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопоставьте самый темный входной цвет с красным, самый яркий входной цвет с голубым:
</font></font></p><div class="example">
<pre class="example"><code>normalize=blackpt=red:whitept=cyan
</code></pre></div>

<span id="null"></span><h3 class="section"><code><a href="#toc-null">11.172 null</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передайте источник видео без изменений на выход.
</font></font></p>
<span id="ocr"></span><h3 class="section"><code><a href="#toc-ocr">11.173 ocr</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оптическое распознавание символов
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр использует Tesseract для оптического распознавания символов. </font><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам нужно настроить FFmpeg с расширением
 </font></font><code>--enable-libtesseract</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>datapath</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите путь к данным tesseract. </font><font style="vertical-align: inherit;">По умолчанию используется то, что было установлено при установке.
</font></font></p>
</dd>
<dt><samp><code>language</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите язык, по умолчанию "eng".
</font></font></p>
</dd>
<dt><samp><code>whitelist</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить белый список персонажей.
</font></font></p>
</dd>
<dt><samp><code>blacklist</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить черный список персонажей.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр экспортирует распознанный текст как метаданные кадра </font></font><code>lavfi.ocr.text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Фильтр экспортирует достоверность распознанных слов в качестве метаданных кадра </font></font><code>lavfi.ocr.confidence</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="ocv"></span><h3 class="section"><code><a href="#toc-ocv">11.174 ocv</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените преобразование видео с помощью libopencv.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить этот фильтр, установите библиотеку и заголовки libopencv и настройте FFmpeg с расширением </font></font><code>--enable-libopencv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filter_name</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имя применяемого фильтра libopencv.
</font></font></p>
</dd>
<dt><samp><code>filter_params</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры для передачи фильтру libopencv. </font><font style="vertical-align: inherit;">Если не указано, используются значения по умолчанию.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратитесь к официальной документации libopencv для получения более точной информации:
 </font></font><a href="http://docs.opencv.org/master/modules/imgproc/doc/filtering.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://docs.opencv.org/master/modules/imgproc/doc/filtering.html</font></font></a>
</p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поддерживаются несколько фильтров libopencv; </font><font style="vertical-align: inherit;">см. следующие подразделы.
</font></font></p>
<span id="dilate"></span><span id="dilate-1"></span><h4 class="subsection"><a href="#toc-dilate-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.174.1 расширяться</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расширьте изображение, используя определенный структурирующий элемент. </font><font style="vertical-align: inherit;">Это соответствует функции libopencv </font></font><code>cvDilate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает параметры: </font></font><var><code>struct_el</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>nb_iterations</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><var><code>struct_el</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">представляет элемент структурирования и имеет синтаксис:
 </font></font><var><code>cols</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font><var><code>rows</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font><var><code>anchor_x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font><var><code>anchor_y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>shape</code></var>
</p>
<p><var><code>cols</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>rows</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">представляют количество столбцов и строк элемента структурирования, </font></font><var><code>anchor_x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а </font></font><var><code>anchor_y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также точку привязки и </font></font><var><code>shape</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">форму элемента структурирования. </font></font><var><code>shape</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
должен быть "прямой", "крест", "эллипс" или "пользовательский".
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если значение для </font></font><var><code>shape</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«custom», за ним должна следовать строка вида «= </font></font><var><code>filename</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">». </font><font style="vertical-align: inherit;">Предполагается, что файл с именем
 </font></font><var><code>filename</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">представляет собой бинарное изображение, в котором каждый печатный символ соответствует яркому пикселю. </font><font style="vertical-align: inherit;">Когда пользовательский
 </font></font><var><code>shape</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">используется </font></font><var><code>cols</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>rows</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">игнорируется, вместо него предполагается число или столбцы и строки прочитанного файла.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для </font></font><var><code>struct_el</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"3x3+0x0/прямоугольник".
</font></font></p>
<p><var><code>nb_iterations</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указывает, сколько раз преобразование применяется к изображению, и по умолчанию равно 1.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые примеры:
</font></font></p><div class="example">
<pre class="example"><code># Use the default values<font></font>
ocv=dilate<font></font>
<font></font>
# Dilate using a structuring element with a 5x5 cross, iterating two times<font></font>
ocv=filter_name=dilate:filter_params=5x5+2x2/cross|2<font></font>
<font></font>
# Read the shape from the file diamond.shape, iterating two times.<font></font>
# The file diamond.shape may contain a pattern of characters like this<font></font>
#   *<font></font>
#  ***<font></font>
# *****<font></font>
#  ***<font></font>
#   *<font></font>
# The specified columns and rows are ignored<font></font>
# but the anchor point coordinates are not<font></font>
ocv=dilate:0x0+2x2/custom=diamond.shape|2<font></font>
</code></pre></div>

<span id="erode"></span><h4 class="subsection"><a href="#toc-erode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.174.2 эрозия</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размывайте изображение, используя определенный структурирующий элемент. </font><font style="vertical-align: inherit;">Это соответствует функции libopencv </font></font><code>cvErode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает параметры: </font></font><var><code>struct_el</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>nb_iterations</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с тем же синтаксисом и семантикой, что и </font><font style="vertical-align: inherit;">фильтр
 </font></font><a href="#dilate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">расширения .</font></font></a><font style="vertical-align: inherit;"></font></p>
<span id="smooth"></span><h4 class="subsection"><a href="#toc-smooth"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.174.3 гладкая</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сглаживание входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
 </font></font><var><code>type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>param1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>param2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>param3</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>param4</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><var><code>type</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— это тип применяемого сглаживающего фильтра, который может принимать одно из следующих значений: «размытие», «размытие_без_масштаба», «медиана», «гауссовский» или «двусторонний». </font><font style="vertical-align: inherit;">Значение по умолчанию — «гауссово».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение </font></font><var><code>param1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>param2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>param3</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>param4</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
зависит от гладкого типа. </font></font><var><code>param1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><var><code>param2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">принимать целые положительные значения или 0. </font></font><var><code>param3</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><var><code>param4</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">принимать значения с плавающей запятой.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><var><code>param1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Значение по умолчанию для других параметров равно 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти параметры соответствуют параметрам, назначенным функции libopencv </font></font><code>cvSmooth</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="oscilloscope"></span><h3 class="section"><code><a href="#toc-oscilloscope">11.175 oscilloscope</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2D видео осциллограф.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полезно для измерения пространственного импульса, переходных характеристик, задержек цветности и т. д.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить положение центра области x.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите положение центра прицела по оси Y.
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер прицела относительно диагонали кадра.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите наклон/вращение прицела.
</font></font></p>
</dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прозрачность трассировки.
</font></font></p>
</dd>
<dt><samp><code>tx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить положение центра трассы по оси x.
</font></font></p>
</dd>
<dt><samp><code>ty</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите положение центра трассы по оси Y.
</font></font></p>
</dd>
<dt><samp><code>tw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте ширину трассы относительно ширины кадра.
</font></font></p>
</dd>
<dt><samp><code>th</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высоту трассировки относительно высоты кадра.
</font></font></p>
</dd>
<dt><samp><code>c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие компоненты трассировать. </font><font style="vertical-align: inherit;">По умолчанию он отслеживает первые три компонента.
</font></font></p>
</dd>
<dt><samp><code>g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте сетку трассировки. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p>
</dd>
<dt><samp><code>st</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте немного статистики. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p>
</dd>
<dt><samp><code>sc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте размах. </font><font style="vertical-align: inherit;">По умолчанию включен.
</font></font></p></dd>
</dl>

<span id="Commands-123"></span><h4 class="subsection"><a href="#toc-Commands-123"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.175.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p>
<span id="Examples-94"></span><h4 class="subsection"><a href="#toc-Examples-94"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.175.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Осмотрите всю первую строку видеокадра.
</font></font><div class="example">
<pre class="example"><code>oscilloscope=x=0.5:y=0:s=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Осмотрите всю последнюю строку видеокадра.
</font></font><div class="example">
<pre class="example"><code>oscilloscope=x=0.5:y=1:s=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Осмотрите полную 5-ю строку видеокадра высотой 1080.
</font></font><div class="example">
<pre class="example"><code>oscilloscope=x=0.5:y=5/1080:s=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проверьте полный последний столбец видеокадра.
</font></font><div class="example">
<pre class="example"><code>oscilloscope=x=1:y=0.5:s=1:t=1
</code></pre></div>

</li></ul>

<span id="overlay"></span><span id="overlay-1"></span><h3 class="section"><code><a href="#toc-overlay-1">11.176 overlay</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложение одного видео поверх другого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает два входа и имеет один выход. </font><font style="vertical-align: inherit;">Первый вход — это «основное» видео, на которое накладывается второй вход.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение для координат x и y наложенного видео на основное видео. </font><font style="vertical-align: inherit;">Значение по умолчанию равно "0" для обоих выражений. </font><font style="vertical-align: inherit;">В случае, если выражение недопустимо, ему присваивается огромное значение (это означает, что наложение не будет отображаться в видимой области вывода).
</font></font></p>
</dd>
<dt><samp><code>eof_action</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смотрите </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадровую синхронизацию</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, когда выражения для</font></font><samp><code>x</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а также</font></font><samp><code>y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оцениваются.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивайте выражения только один раз во время инициализации фильтра или при обработке команды
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивать выражения для каждого входящего кадра
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смотрите </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадровую синхронизацию</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат выходного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv420</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">форсировать выход YUV420
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv420p10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">форсировать выход YUV420p10
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv422</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">форсировать выход YUV422
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv422p10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заставить выход YUV422p10
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yuv444</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">форсировать выход YUV444
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rgb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">принудительно упакованный RGB-выход
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gbrp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">форсировать планарный выход RGB
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">автоматически выбирать формат
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>yuv420</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>repeatlast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смотрите </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадровую синхронизацию</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат альфы наложенного видео, это может быть </font></font><var><code>straight</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или
 </font></font><var><code>premultiplied</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>straight</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p>The <samp><code>x</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а также</font></font><samp><code>y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражения могут содержать следующие параметры.
</font></font></p>
<dl compact="compact">
<dt><samp><code>main_w, W</code></samp></dt>
<dt><samp><code>main_h, H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Основные входные ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>overlay_w, w</code></samp></dt>
<dt><samp><code>overlay_h, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота ввода оверлея.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисленные значения для </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Они оцениваются для каждого нового кадра.
</font></font></p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">горизонтальные и вертикальные значения подвыборки цветности выходного формата. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и
 </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер входного кадра, начиная с 0
</font></font></p>
</dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">позиция в файле входного кадра, NAN, если неизвестно
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени, выраженная в секундах. </font><font style="vertical-align: inherit;">Это NAN, если отметка времени ввода неизвестна.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что </font><font style="vertical-align: inherit;">переменные </font></font><var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">, доступны только тогда, когда оценка выполняется для </font><em><font style="vertical-align: inherit;">каждого кадра</font></em><font style="vertical-align: inherit;"> , и будут оцениваться как NAN, когда</font></font><var><code>pos</code></var><font style="vertical-align: inherit;"></font><var><code>t</code></var><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><samp><code>eval</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлен на '</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имейте в виду, что кадры берутся из каждого входного видео в порядке меток времени, поэтому, если их начальные метки времени различаются, рекомендуется пропустить два входа через </font></font><var><code>setpts=PTS-STARTPTS</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр, чтобы они начинались с одной и той же нулевой метки времени, как в примере для </font></font><var><code>movie</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр делает.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вы можете связать вместе больше оверлеев, но вы должны проверить эффективность такого подхода.
</font></font></p>
<span id="Commands-124"></span><h4 class="subsection"><a href="#toc-Commands-124"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.176.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените x и y ввода наложения. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p></dd>
</dl>

<span id="Examples-95"></span><h4 class="subsection"><a href="#toc-Examples-95"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.176.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте оверлей в 10 пикселях от нижнего правого угла основного видео:
</font></font><div class="example">
<pre class="example"><code>overlay=main_w-overlay_w-10:main_h-overlay_h-10
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При использовании именованных опций приведенный выше пример становится таким:
</font></font></p><div class="example">
<pre class="example"><code>overlay=x=main_w-overlay_w-10:y=main_h-overlay_h-10
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вставьте прозрачный логотип PNG в нижний левый угол ввода, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">инструмент с </font></font><code>-filter_complex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцией:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input -i logo -filter_complex 'overlay=10:main_h-overlay_h-10' output
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вставьте 2 разных прозрачных логотипа PNG (второй логотип в правом нижнем углу) с помощью </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">инструмента:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input -i logo1 -i logo2 -filter_complex 'overlay=x=10:y=H-h-10,overlay=x=W-w-10:y=H-h-10' output
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте прозрачный цветной слой поверх основного видео; </font></font><code>WxH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
необходимо указать размер основного входа в оверлейный фильтр:
</font></font><div class="example">
<pre class="example"><code>color=color=red@.3:size=WxH [over]; [in][over] overlay [out]
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Воспроизведите исходное видео и отфильтрованную версию (здесь с фильтром дрожания) рядом друг с другом с помощью </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">инструмента:
</font></font><div class="example">
<pre class="example"><code>ffplay input.avi -vf 'split[a][b]; [a]pad=iw*2:ih[src]; [b]deshake[filt]; [src][filt]overlay=w'
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Приведенная выше команда аналогична:
</font></font></p><div class="example">
<pre class="example"><code>ffplay input.avi -vf 'split[b], pad=iw*2[src], [b]deshake, [src]overlay=w'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте скользящее наложение, появляющееся слева направо в верхней части экрана, начиная со времени 2:
</font></font><div class="example">
<pre class="example"><code>overlay=x='if(gte(t,2), -w+(t-2)*20, NAN)':y=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скомпонуйте выходные данные, поместив два входных видео рядом друг с другом:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i left.avi -i right.avi -filter_complex "<font></font>
nullsrc=size=200x100 [background];<font></font>
[0:v] setpts=PTS-STARTPTS, scale=100x100 [left];<font></font>
[1:v] setpts=PTS-STARTPTS, scale=100x100 [right];<font></font>
[background][left]       overlay=shortest=1       [background+left];<font></font>
[background+left][right] overlay=shortest=1:x=100 [left+right]<font></font>
"<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Замаскируйте 10-20 секунд видео, применив фильтр delogo к разделу
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i test.avi -codec:v:0 wmv2 -ar 11025 -b:v 9000k<font></font>
-vf '[in]split[split_main][split_delogo];[split_delogo]trim=start=360:end=371,delogo=0:0:640:480[delogoed];[split_main][delogoed]overlay=eof_action=pass[out]'<font></font>
masked.avi<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соедините несколько накладок каскадом:
</font></font><div class="example">
<pre class="example"><code>nullsrc=s=200x200 [bg];<font></font>
testsrc=s=100x100, split=4 [in0][in1][in2][in3];<font></font>
[in0] lutrgb=r=0, [bg]   overlay=0:0     [mid0];<font></font>
[in1] lutrgb=g=0, [mid0] overlay=100:0   [mid1];<font></font>
[in2] lutrgb=b=0, [mid1] overlay=0:100   [mid2];<font></font>
[in3] null,       [mid2] overlay=100:100 [out0]<font></font>
</code></pre></div>

</li></ul>

<span id="overlay_005fcuda"></span><span id="overlay_005fcuda-1"></span><h3 class="section"><code><a href="#toc-overlay_005fcuda-1">11.177 overlay_cuda</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложение одного видео поверх другого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это вариант CUDA </font><font style="vertical-align: inherit;">фильтра </font></font><a href="#overlay"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">наложения . </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает только кадры CUDA. </font><font style="vertical-align: inherit;">Базовые форматы входных пикселей должны совпадать.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает два входа и имеет один выход. </font><font style="vertical-align: inherit;">Первый вход — это «основное» видео, на которое накладывается второй вход.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражения для координат x и y наложенного видео на основное видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Они могут содержать следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>main_w, W</code></samp></dt>
<dt><samp><code>main_h, H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Основные входные ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>overlay_w, w</code></samp></dt>
<dt><samp><code>overlay_h, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота ввода оверлея.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисленные значения для </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Они оцениваются для каждого нового кадра.
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядковый индекс основного входного кадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позиция смещения байта в файле основного входного кадра, NAN, если неизвестно.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени основного входного кадра, выраженная в секундах, NAN, если неизвестно.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно "0" для обоих выражений.
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, когда выражения для</font></font><samp><code>x</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оцениваются.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><samp><code>init</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценивайте выражения один раз во время инициализации фильтра или при обработке команды.
</font></font></p>
</dd>
<dt><samp><code>frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценивать выражения для каждого входящего кадра
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>eof_action</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смотрите </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадровую синхронизацию</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смотрите </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадровую синхронизацию</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>repeatlast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смотрите </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадровую синхронизацию</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="owdenoise"></span><h3 class="section"><code><a href="#toc-owdenoise">11.178 owdenoise</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените шумоподавитель Overcomplete Wavelet.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>depth</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить глубину.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Большие значения глубины будут сильнее подавлять шум низкочастотных компонентов, но замедлят фильтрацию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должен быть int в диапазоне 8-16, по умолчанию </font></font><code>8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>luma_strength, ls</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу яркости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должно быть двойное значение в диапазоне от 0 до 1000, по умолчанию — </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>chroma_strength, cs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу цветности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должно быть двойное значение в диапазоне от 0 до 1000, по умолчанию — </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="pad"></span><span id="pad-1"></span><h3 class="section"><code><a href="#toc-pad-1">11.179 pad</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте отступы к входному изображению и поместите исходный ввод в предоставленные </font><font style="vertical-align: inherit;">координаты
 </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, .</font></font><var><code>y</code></var><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите выражение для размера выходного изображения с добавленными отступами. </font><font style="vertical-align: inherit;">Если значение для </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0, соответствующий входной размер используется для вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может ссылаться на значение, заданное
 </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражением, и наоборот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите смещения для размещения входного изображения в области заполнения относительно верхней/левой границы выходного изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может ссылаться на значение, заданное </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
выражением, и наоборот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивается как отрицательное число, они будут изменены таким образом, чтобы входное изображение располагалось по центру заполненной области.
</font></font></p>
</dd>
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет заполненной области. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>color</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— «черный».
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, когда оценивать   </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценивайте выражения только один раз во время инициализации фильтра или при обработке команды.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оцените выражения для каждого входящего кадра.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>aspect</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pad к аспекту, а не к разрешению.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения параметров </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
являются выражениями, содержащими следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>in_w</code></samp></dt>
<dt><samp><code>in_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота входного видео.
</font></font></p>
</dd>
<dt><samp><code>iw</code></samp></dt>
<dt><samp><code>ih</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>in_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>in_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>out_w</code></samp></dt>
<dt><samp><code>out_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная ширина и высота (размер заполненной области), как указано в </font><font style="vertical-align: inherit;">выражениях
 </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и .</font></font><var><code>height</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>ow</code></samp></dt>
<dt><samp><code>oh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>out_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смещения x и y, как указано в выражениях </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, или NAN, если они еще не указаны.
</font></font></p>
</dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">то же, что </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>ih</code></var>
</p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон входного образца
</font></font></p>
</dd>
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">входное соотношение сторон дисплея, оно такое же, как ( </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>ih</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) *</font></font><var><code>sar</code></var>
</p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения подвыборки цветности по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p></dd>
</dl>

<span id="Examples-96"></span><h4 class="subsection"><a href="#toc-Examples-96"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.179.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте отступы фиолетового цвета к входному видео. </font><font style="vertical-align: inherit;">Размер выходного видео составляет 640x480, а верхний левый угол входного видео помещается в столбец 0, строку 40.
</font></font><div class="example">
<pre class="example"><code>pad=640:480:0:40:violet
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Приведенный выше пример эквивалентен следующей команде:
</font></font></p><div class="example">
<pre class="example"><code>pad=width=640:height=480:x=0:y=40:color=violet
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заполните вход, чтобы получить вывод с размерами, увеличенными на 3/2, и поместите входное видео в центр заполненной области:
</font></font><div class="example">
<pre class="example"><code>pad="3/2*iw:3/2*ih:(ow-iw)/2:(oh-ih)/2"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заполните вход, чтобы получить квадратный вывод с размером, равным максимальному значению между шириной и высотой ввода, и поместите входное видео в центр заполненной области:
</font></font><div class="example">
<pre class="example"><code>pad="max(iw\,ih):ow:(ow-iw)/2:(oh-ih)/2"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дополните ввод, чтобы получить окончательное соотношение w/h 16:9:
</font></font><div class="example">
<pre class="example"><code>pad="ih*16/9:ih:(ow-iw)/2:(oh-ih)/2"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В случае анаморфотного видео, чтобы правильно установить выходной аспект отображения, необходимо использовать </font></font><var><code>sar</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в выражении, согласно соотношению:
</font></font><div class="example">
<pre class="example"><code>(ih * X / ih) * sar = output_dar<font></font>
X = output_dar / sar<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Таким образом, предыдущий пример необходимо изменить, чтобы:
</font></font></p><div class="example">
<pre class="example"><code>pad="ih*16/9/sar:ih:(ow-iw)/2:(oh-ih)/2"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удвойте размер вывода и поместите входное видео в нижний правый угол области вывода:
</font></font><div class="example">
<pre class="example"><code>pad="2*iw:2*ih:ow-iw:oh-ih"
</code></pre></div>
</li></ul>

<span id="palettegen"></span><span id="palettegen-1"></span><h3 class="section"><code><a href="#toc-palettegen-1">11.180 palettegen</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте одну палитру для всего видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>max_colors</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество цветов для квантизации в палитре. </font><font style="vertical-align: inherit;">Примечание: палитра по-прежнему будет содержать 256 цветов; </font><font style="vertical-align: inherit;">неиспользуемые элементы палитры будут черными.
</font></font></p>
</dd>
<dt><samp><code>reserve_transparent</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте палитру максимум из 255 цветов и зарезервируйте последний для прозрачности. </font><font style="vertical-align: inherit;">Сохранение цвета прозрачности полезно для оптимизации GIF. </font><font style="vertical-align: inherit;">Если не установлено, максимальное количество цветов в палитре будет 256. Вероятно, вы захотите отключить эту опцию для отдельного изображения. </font><font style="vertical-align: inherit;">Установить по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>transparency_color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет, который будет использоваться в качестве фона для прозрачности.
</font></font></p>
</dd>
<dt><samp><code>stats_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим статистики.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>full</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислить полнокадровые гистограммы.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>diff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислять гистограммы только для той части, которая отличается от предыдущего кадра. </font><font style="vertical-align: inherit;">Это может быть уместно, чтобы придать большее значение движущейся части вашего ввода, если фон статичен.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>single</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислить новую гистограмму для каждого кадра.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>full</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
<dt><samp><code>use_alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте палитру цветов с альфа-компонентами. </font><font style="vertical-align: inherit;">Установка этого параметра автоматически отключит «reserve_transparent».
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр также экспортирует метаданные кадра </font></font><code>lavfi.color_quant_ratio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
( </font></font><code>nb_color_in / nb_color_out</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), которые можно использовать для оценки степени квантования цветов палитры. </font><font style="vertical-align: inherit;">Эта информация также видна на
 </font></font><var><code>info</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">уровне ведения журнала.
</font></font></p>
<span id="Examples-97"></span><h4 class="subsection"><a href="#toc-Examples-97"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.180.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте репрезентативную палитру данного видео, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mkv -vf palettegen palette.png
</code></pre></div>
</li></ul>

<span id="paletteuse"></span><h3 class="section"><code><a href="#toc-paletteuse">11.181 paletteuse</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте палитру для понижения дискретизации входного видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает два входа: один видеопоток и палитру. </font><font style="vertical-align: inherit;">Палитра должна быть изображением размером 256 пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dither</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите режим дизеринга. </font><font style="vertical-align: inherit;">Доступные алгоритмы:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bayer</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Упорядоченный байеровский дизеринг 8x8 (детерминированный)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>heckbert</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дизеринг по определению Пола Хекберта в 1982 году (простое распространение ошибок). </font><font style="vertical-align: inherit;">Примечание: это сглаживание иногда считается «неправильным» и приводится в качестве справочного материала.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>floyd_steinberg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дизеринг Флойда и Стейнберга (рассеивание ошибок)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sierra2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frankie Sierra dithering v2 (рассеивание ошибок)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sierra2_4a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frankie Sierra dithering v2 "Lite" (диффузия ошибок)
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>sierra2_4a</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bayer_scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Когда </font></font><var><code>bayer</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выбрано сглаживание, этот параметр определяет масштаб узора (насколько виден узор штриховки). </font><font style="vertical-align: inherit;">Низкое значение означает более заметный рисунок для меньшего количества полос, а более высокое значение означает менее видимый рисунок за счет большего количества полос.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр должен быть целым числом в диапазоне [0,5]. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>2</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>diff_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено, определите зону для обработки
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rectangle</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Только изменяющийся прямоугольник будет повторно обработан. </font><font style="vertical-align: inherit;">Это похоже на механизм сжатия GIF кадрирования/смещения. </font><font style="vertical-align: inherit;">Этот параметр может быть полезен для скорости, если изменяется только часть изображения, и имеет такие варианты использования, как ограничение области распространения ошибки.</font></font><samp><code>dither</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">к прямоугольнику, ограничивающему движущуюся сцену (это приводит к более детерминированному выводу, если сцена не сильно меняется, и, как результат, к меньшему движущемуся шуму и лучшему сжатию GIF).
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>none</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>new</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возьмите новую палитру для каждого выходного кадра.
</font></font></p>
</dd>
<dt><samp><code>alpha_threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устанавливает альфа-порог прозрачности. </font><font style="vertical-align: inherit;">Альфа-значения выше этого порога будут рассматриваться как полностью непрозрачные, а значения ниже этого порога будут рассматриваться как полностью прозрачные.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр должен быть целым числом в диапазоне [0,255]. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>128</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>use_alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените палитру, принимая во внимание альфа-значения. </font><font style="vertical-align: inherit;">Полезно только с палитрами, содержащими несколько цветов с альфа-компонентами. </font><font style="vertical-align: inherit;">Установка этого параметра автоматически отключит 'alpha_treshold'.
</font></font></p></dd>
</dl>

<span id="Examples-98"></span><h4 class="subsection"><a href="#toc-Examples-98"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.181.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте палитру (сгенерированную, например, с помощью </font></font><a href="#palettegen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panelgen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) для кодирования GIF с помощью </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mkv -i palette.png -lavfi paletteuse output.gif
</code></pre></div>
</li></ul>

<span id="perspective"></span><h3 class="section"><code><a href="#toc-perspective">11.182 perspective</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Правильная перспектива видео, записанного не перпендикулярно экрану.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>x0</code></samp></dt>
<dt><samp><code>y0</code></samp></dt>
<dt><samp><code>x1</code></samp></dt>
<dt><samp><code>y1</code></samp></dt>
<dt><samp><code>x2</code></samp></dt>
<dt><samp><code>y2</code></samp></dt>
<dt><samp><code>x3</code></samp></dt>
<dt><samp><code>y3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение координат для верхнего левого, верхнего правого, нижнего левого и нижнего правого углов. </font><font style="vertical-align: inherit;">Значения по умолчанию, </font></font><code>0:0:W:0:0:H:W:H</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с которыми перспектива останется неизменной. </font><font style="vertical-align: inherit;">Если </font></font><code>sense</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опция установлена &ZeroWidthSpace;&ZeroWidthSpace;на </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, то указанные точки будут отправлены в углы пункта назначения. </font><font style="vertical-align: inherit;">Если </font></font><code>sense</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опция установлена &ZeroWidthSpace;&ZeroWidthSpace;в </font></font><code>destination</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, то углы исходника будут отправлены в указанные координаты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В выражениях могут использоваться следующие переменные:
</font></font></p>
<dl compact="compact">
<dt><samp><code>W</code></samp></dt>
<dt><samp><code>H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ширина и высота видеокадра.
</font></font></p></dd>
<dt><samp><code>in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество входных кадров.
</font></font></p></dd>
<dt><samp><code>on</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество выходных кадров.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>interpolation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите интерполяцию для коррекции перспективы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cubic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>linear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>sense</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить интерпретацию параметров координат.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0, source</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отправить точку в источнике, заданную заданными координатами, в углы пункта назначения.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1, destination</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Направьте углы источника в точку назначения, указанную заданными координатами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>source</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить, когда выражения для координат</font></font><samp><code>x0,y0,...x3,y3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оцениваются.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивайте выражения только один раз во время инициализации фильтра или при обработке команды
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивать выражения для каждого входящего кадра
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

<span id="phase"></span><h3 class="section"><code><a href="#toc-phase">11.183 phase</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задержите чересстрочное видео на время одного поля, чтобы порядок полей изменился.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предполагаемое использование состоит в том, чтобы исправить фильмы PAL, которые были сняты с порядком полей, противоположным передаче фильма в видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить фазовый режим.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядок захвата полей сверху вниз, передача снизу. </font><font style="vertical-align: inherit;">Фильтр задержит нижнее поле.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядок захвата полей снизу вверх, передача сверху. </font><font style="vertical-align: inherit;">Фильтр задержит верхнее поле.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Захват и передача с тем же порядком поля. </font><font style="vertical-align: inherit;">Этот режим существует только для документации других параметров, на которые можно ссылаться, но если вы действительно выберете его, фильтр точно ничего не сделает.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>a</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядок захвата полей определяется автоматически по флагам полей, перенос наоборот. </font><font style="vertical-align: inherit;">Фильтр выбирает среди '</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' а также '</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режимы на покадровой основе с использованием флагов полей. </font><font style="vertical-align: inherit;">Если информация о поле недоступна, то это работает так же, как '</font></font><samp><code>u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Захват неизвестного или изменяющегося, передача напротив. </font><font style="vertical-align: inherit;">Фильтр выбирает среди '</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' а также '</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' на покадровой основе, анализируя изображения и выбирая альтернативу, которая обеспечивает наилучшее соответствие между полями.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>T</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Захват сверху, передача неизвестного или изменяющегося. </font><font style="vertical-align: inherit;">Фильтр выбирает среди '</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' а также '</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' с помощью анализа изображений.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>B</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Захват снизу, передача неизвестна или варьируется. </font><font style="vertical-align: inherit;">Фильтр выбирает среди '</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' а также '</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' с помощью анализа изображений.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>A</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Захват определяется полевыми флагами, передача неизвестна или варьируется. </font><font style="vertical-align: inherit;">Фильтр выбирает среди '</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', '</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' а также '</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' с использованием флагов полей и анализа изображений. </font><font style="vertical-align: inherit;">Если информация о поле недоступна, то это работает так же, как '</font></font><samp><code>U</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'. </font><font style="vertical-align: inherit;">Это режим "по умолчанию".
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>U</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Как захват, так и передача неизвестны или варьируются. </font><font style="vertical-align: inherit;">Фильтр выбирает среди '</font></font><samp><code>t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', '</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' а также '</font></font><samp><code>p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' только с помощью анализа изображений.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Commands-125"></span><h4 class="subsection"><a href="#toc-Commands-125"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.183.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="photosensitivity"></span><h3 class="section"><code><a href="#toc-photosensitivity">11.184 photosensitivity</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите различные вспышки в видео, чтобы помочь пользователям с эпилепсией.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>frames, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, сколько кадров использовать при фильтрации. </font><font style="vertical-align: inherit;">По умолчанию 30.
</font></font></p>
</dd>
<dt><samp><code>threshold, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговый фактор обнаружения. </font><font style="vertical-align: inherit;">По умолчанию 1. Чем ниже, тем строже.
</font></font></p>
</dd>
<dt><samp><code>skip</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, сколько пикселей пропускать при выборке кадров. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 1 до 1024.
</font></font></p>
</dd>
<dt><samp><code>bypass</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оставьте кадры без изменений. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p></dd>
</dl>

<span id="pixdesctest"></span><h3 class="section"><code><a href="#toc-pixdesctest">11.185 pixdesctest</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тестовый фильтр дескриптора формата пикселей, в основном полезный для внутреннего тестирования. </font><font style="vertical-align: inherit;">Выходное видео должно быть равно входному видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например:
</font></font></p><div class="example">
<pre class="example"><code>format=monow, pixdesctest
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">можно использовать для проверки определения дескриптора формата монобелого пикселя.
</font></font></p>
<span id="pixelize"></span><h3 class="section"><code><a href="#toc-pixelize">11.186 pixelize</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените пикселизацию к видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размеры блока, которые будут использоваться для пикселизации. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите используемый режим пикселизации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>avg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>min</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>max</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>avg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию фильтруются все плоскости.
</font></font></p></dd>
</dl>

<span id="Commands-126"></span><h4 class="subsection"><a href="#toc-Commands-126"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.186.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="pixscope"></span><h3 class="section"><code><a href="#toc-pixscope">11.187 pixscope</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите образцы значений цветовых каналов. </font><font style="vertical-align: inherit;">В основном полезно для проверки цвета и уровней. </font><font style="vertical-align: inherit;">Минимальное поддерживаемое разрешение 640x480.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтры принимают следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите положение X области видимости, относительное смещение по оси X.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите положение Y прицела, относительное смещение по оси Y.
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить ширину области.
</font></font></p>
</dd>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высоту прицела.
</font></font></p>
</dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прозрачность окна. </font><font style="vertical-align: inherit;">Это окно также содержит статистику о площади пикселей.
</font></font></p>
</dd>
<dt><samp><code>wx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите положение X окна, относительное смещение по оси X.
</font></font></p>
</dd>
<dt><samp><code>wy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить положение Y окна, относительное смещение по оси Y.
</font></font></p></dd>
</dl>

<span id="Commands-127"></span><h4 class="subsection"><a href="#toc-Commands-127"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.187.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="pp"></span><h3 class="section"><code><a href="#toc-pp">11.188 pp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите указанную цепочку подфильтров постобработки с помощью libpostproc. </font><font style="vertical-align: inherit;">Эта библиотека должна автоматически выбираться при сборке GPL ( </font></font><code>--enable-gpl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Подфильтры должны быть разделены символом «/» и могут быть отключены путем добавления «-». </font><font style="vertical-align: inherit;">Каждый подфильтр и некоторые опции имеют короткое и длинное имя, которые могут использоваться взаимозаменяемо, т.е. dr/dering одинаковы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтры принимают следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>subfilters</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить строку подфильтров постобработки.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все подфильтры имеют общие параметры для определения их области действия:
</font></font></p>
<dl compact="compact">
<dt><samp><code>a/autoq</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соблюдайте команды качества для этого подфильтра.
</font></font></p>
</dd>
<dt><samp><code>c/chrom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Также выполните фильтрацию цветности (по умолчанию).
</font></font></p>
</dd>
<dt><samp><code>y/nochrom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выполнять только фильтрацию яркости (без цветности).
</font></font></p>
</dd>
<dt><samp><code>n/noluma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выполните только фильтрацию цветности (без яркости).
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти параметры могут быть добавлены после имени подфильтра, разделенного символом «|».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные подфильтры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>hb/hdeblock[|difference[|flatness]]</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Горизонтальный деблокирующий фильтр
</font></font></p><dl compact="compact">
<dt><samp><code>difference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент разницы, где более высокие значения означают большее разблокирование (по умолчанию: </font></font><code>32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
<dt><samp><code>flatness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог плоскостности, при котором более низкие значения означают большее удаление блоков (по умолчанию: </font></font><code>39</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>vb/vdeblock[|difference[|flatness]]</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вертикальный деблокирующий фильтр
</font></font></p><dl compact="compact">
<dt><samp><code>difference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент разницы, где более высокие значения означают большее разблокирование (по умолчанию: </font></font><code>32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
<dt><samp><code>flatness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог плоскостности, при котором более низкие значения означают большее удаление блоков (по умолчанию: </font></font><code>39</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>ha/hadeblock[|difference[|flatness]]</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Точный горизонтальный деблокирующий фильтр
</font></font></p><dl compact="compact">
<dt><samp><code>difference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент разницы, где более высокие значения означают большее разблокирование (по умолчанию: </font></font><code>32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
<dt><samp><code>flatness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог плоскостности, при котором более низкие значения означают большее удаление блоков (по умолчанию: </font></font><code>39</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>va/vadeblock[|difference[|flatness]]</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Точный вертикальный деблокирующий фильтр
</font></font></p><dl compact="compact">
<dt><samp><code>difference</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент разницы, где более высокие значения означают большее разблокирование (по умолчанию: </font></font><code>32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
<dt><samp><code>flatness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог плоскостности, при котором более низкие значения означают большее удаление блоков (по умолчанию: </font></font><code>39</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
</dl>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтры удаления блочности по горизонтали и вертикали имеют одинаковые значения разницы и плоскостности, поэтому вы не можете установить разные пороговые значения по горизонтали и вертикали.
</font></font></p>
<dl compact="compact">
<dt><samp><code>h1/x1hdeblock</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Экспериментальный горизонтальный деблокирующий фильтр
</font></font></p>
</dd>
<dt><samp><code>v1/x1vdeblock</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Экспериментальный вертикальный деблокирующий фильтр
</font></font></p>
</dd>
<dt><samp><code>dr/dering</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр Деринга
</font></font></p>
</dd>
<dt><samp><code>tn/tmpnoise[|threshold1[|threshold2[|threshold3]]], temporal noise reducer</code></samp></dt>
<dd><dl compact="compact">
<dt><samp><code>threshold1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">больше -&gt; более сильная фильтрация
</font></font></p></dd>
<dt><samp><code>threshold2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">больше -&gt; более сильная фильтрация
</font></font></p></dd>
<dt><samp><code>threshold3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">больше -&gt; более сильная фильтрация
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>al/autolevels[:f/fullyrange], automatic brightness / contrast correction</code></samp></dt>
<dd><dl compact="compact">
<dt><samp><code>f/fullyrange</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Растянуть яркость до </font></font><code>0-255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>lb/linblenddeint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейный фильтр деинтерлейсинга смешивания, который деинтерлейсирует заданный блок, фильтруя все строки с помощью </font></font><code>(1 2 1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтра.
</font></font></p>
</dd>
<dt><samp><code>li/linipoldeint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр деинтерлейсинга с линейной интерполяцией, который деинтерлейсирует заданный блок путем линейной интерполяции каждой второй строки.
</font></font></p>
</dd>
<dt><samp><code>ci/cubicipoldeint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр деинтерлейсинга с кубической интерполяцией деинтерлейсирует заданный блок путем кубической интерполяции каждой второй строки.
</font></font></p>
</dd>
<dt><samp><code>md/mediandeint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Медианный фильтр деинтерлейсинга, который деинтерлейсирует заданный блок, применяя медианный фильтр к каждой второй строке.
</font></font></p>
</dd>
<dt><samp><code>fd/ffmpegdeint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр деинтерлейсинга FFmpeg, который деинтерлейсирует заданный блок, фильтруя каждую вторую строку </font></font><code>(-1 4 2 4 -1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром.
</font></font></p>
</dd>
<dt><samp><code>l5/lowpass5</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вертикально применяемый КИХ-фильтр нижних частот деинтерлейсинга, который деинтерлейсирует заданный блок, фильтруя все строки </font></font><code>(-1 2 6 2 -1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром.
</font></font></p>
</dd>
<dt><samp><code>fq/forceQuant[|quantizer]</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переопределяет таблицу квантователя из ввода с помощью указанного вами постоянного квантователя.
</font></font></p><dl compact="compact">
<dt><samp><code>quantizer</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Квантизатор для использования
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>de/default</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Комбинация фильтров pp по умолчанию ( </font></font><code>hb|a,vb|a,dr|a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)
</font></font></p>
</dd>
<dt><samp><code>fa/fast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Комбинация фильтров Fast pp ( </font></font><code>h1|a,v1|a,dr|a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)
</font></font></p>
</dd>
<dt><samp><code>ac</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Комбинация высококачественных полипропиленовых фильтров ( </font></font><code>ha|a|128|7,va|a,dr|a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)
</font></font></p></dd>
</dl>

<span id="Examples-99"></span><h4 class="subsection"><a href="#toc-Examples-99"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.188.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените горизонтальную и вертикальную деблокировку, устранение шумов и автоматическую яркость/контрастность:
</font></font><div class="example">
<pre class="example"><code>pp=hb/vb/dr/al
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить фильтры по умолчанию без коррекции яркости/контрастности:
</font></font><div class="example">
<pre class="example"><code>pp=de/-al
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтры по умолчанию и временной шумоподавитель:
</font></font><div class="example">
<pre class="example"><code>pp=default/tmpnoise|1|2|3
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените деблокировку только к яркости и автоматически включайте или выключайте вертикальную деблокировку в зависимости от доступного процессорного времени:
</font></font><div class="example">
<pre class="example"><code>pp=hb|y/vb|a
</code></pre></div>
</li></ul>

<span id="pp7"></span><h3 class="section"><code><a href="#toc-pp7">11.189 pp7</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр постобработки 7. Это вариант фильтра </font></font><a href="#spp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , аналогичный spp = 6 с 7-точечным DCT, где после IDCT используется только центральная выборка.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите постоянный параметр квантования. </font><font style="vertical-align: inherit;">Он принимает целое число в диапазоне от 0 до 63. Если не установлено, фильтр будет использовать QP из видеопотока (если доступно).
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговый режим. </font><font style="vertical-align: inherit;">Доступные режимы:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hard</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите жесткий порог.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>soft</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите мягкое пороговое значение (лучший эффект устранения звона, но, вероятно, более размытый).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>medium</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите средний порог (хорошие результаты, по умолчанию).
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="premultiply"></span><h3 class="section"><code><a href="#toc-premultiply">11.190 premultiply</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект предварительного умножения альфа-канала к входному видеопотоку, используя первую плоскость второго потока в качестве альфа-канала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба потока должны иметь одинаковые размеры и одинаковый формат пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны, необработанные плоскости будут скопированы. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p>
</dd>
<dt><samp><code>inplace</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не требуйте 2-го ввода для обработки, вместо этого используйте альфа-плоскость из входного потока.
</font></font></p></dd>
</dl>

<span id="prewitt"></span><h3 class="section"><code><a href="#toc-prewitt">11.191 prewitt</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить оператор prewitt к входному видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны, необработанные плоскости будут скопированы. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет умножено на отфильтрованный результат.
</font></font></p>
</dd>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет добавлено к отфильтрованному результату.
</font></font></p></dd>
</dl>

<span id="Commands-128"></span><h4 class="subsection"><a href="#toc-Commands-128"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.191.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="pseudocolor"></span><h3 class="section"><code><a href="#toc-pseudocolor">11.192 pseudocolor</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените цвета кадров в видео с помощью псевдоцветов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>c0</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение первого компонента пикселя
</font></font></p>
</dd>
<dt><samp><code>c1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение второго компонента пикселя
</font></font></p>
</dd>
<dt><samp><code>c2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение третьего компонента пикселя
</font></font></p>
</dd>
<dt><samp><code>c3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить выражение четвертого компонента пикселя, соответствует альфа-компоненту
</font></font></p>
</dd>
<dt><samp><code>index, i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить компонент для использования в качестве основы для изменения цветов
</font></font></p>
</dd>
<dt><samp><code>preset, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите один из встроенных LUT. </font><font style="vertical-align: inherit;">По умолчанию установлено значение none.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные LUT:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>magma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>inferno</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>plasma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>viridis</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>turbo</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cividis</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>range1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>range2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>shadows</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>highlights</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>solar</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nominal</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>preferred</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>total</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>opacity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите непрозрачность выходных цветов. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 1. Значение по умолчанию равно 1.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждая из опций выражения задает выражение, используемое для вычисления таблицы поиска для соответствующих значений компонента пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения могут содержать следующие константы и функции:
</font></font></p>
<dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>val</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входное значение для компонента пикселя.
</font></font></p>
</dd>
<dt><samp><code>ymin, umin, vmin, amin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Минимально допустимое значение компонента.
</font></font></p>
</dd>
<dt><samp><code>ymax, umax, vmax, amax</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимально допустимое значение компонента.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все выражения по умолчанию равны "val".
</font></font></p>
<span id="Commands-129"></span><h4 class="subsection"><a href="#toc-Commands-129"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.192.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-100"></span><h4 class="subsection"><a href="#toc-Examples-100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.192.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените слишком высокие значения яркости на градиент:
</font></font><div class="example">
<pre class="example"><code>pseudocolor="'if(between(val,ymax,amax),lerp(ymin,ymax,(val-ymax)/(amax-ymax)),-1):if(between(val,ymax,amax),lerp(umax,umin,(val-ymax)/(amax-ymax)),-1):if(between(val,ymax,amax),lerp(vmin,vmax,(val-ymax)/(amax-ymax)),-1):-1'"
</code></pre></div>
</li></ul>

<span id="psnr"></span><h3 class="section"><code><a href="#toc-psnr">11.193 psnr</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите среднее, максимальное и минимальное PSNR (отношение пикового сигнала к шуму) между двумя входными видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает на вход два входных видео, первый вход считается «основным» источником и без изменений передается на выход. </font><font style="vertical-align: inherit;">Второй вход используется как «эталонное» видео для вычисления PSNR.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба видеовхода должны иметь одинаковое разрешение и формат пикселей, чтобы этот фильтр работал правильно. </font><font style="vertical-align: inherit;">Также предполагается, что оба входа имеют одинаковое количество кадров, которые сравниваются один за другим.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученное среднее значение PSNR распечатывается через систему регистрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр сохраняет накопленную MSE (среднеквадратичную ошибку) каждого кадра, а в конце обработки она усредняется по всем кадрам одинаково, и для получения PSNR применяется следующая формула:
</font></font></p>
<div class="example">
<pre class="example"><code>PSNR = 10*log10(MAX^2/MSE)
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Где MAX — это среднее максимальных значений каждого компонента изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>stats_file, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указано, фильтр будет использовать именованный файл для сохранения PSNR каждого отдельного кадра. </font><font style="vertical-align: inherit;">Когда имя файла равно "-", данные отправляются на стандартный вывод.
</font></font></p>
</dd>
<dt><samp><code>stats_version</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает, какую версию формата файла статистики использовать. </font><font style="vertical-align: inherit;">Детали каждого формата описаны ниже. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>stats_add_max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяет, выводится ли максимальное значение в журнал статистики. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0. Требуется stats_version &gt;= 2. Если это установлено и stats_version &lt; 2, фильтр вернет ошибку.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Печатаемый файл, если </font></font><var><code>stats_file</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">он выбран, содержит последовательность пар ключ/значение вида </font></font><var><code>key</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для каждой сравниваемой пары кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если </font></font><var><code>stats_version</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указано значение больше 1, строка заголовка предшествует списку статистики для каждой пары кадров, а пары ключ-значение следуют за форматом кадра со следующими параметрами:
</font></font></p>
<dl compact="compact">
<dt><samp><code>psnr_log_version</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Версия формата файла журнала. </font><font style="vertical-align: inherit;">Будет соответствовать </font></font><var><code>stats_version</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fields</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный запятыми список параметров для каждой пары кадров, включенный в журнал.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приводится описание каждого отображаемого параметра для каждой пары кадров:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">порядковый номер входного кадра, начиная с 1
</font></font></p>
</dd>
<dt><samp><code>mse_avg</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Среднеквадратическая ошибка — средняя попиксельная разница сравниваемых кадров, усредненная по всем компонентам изображения.
</font></font></p>
</dd>
<dt><samp><code>mse_y, mse_u, mse_v, mse_r, mse_g, mse_b, mse_a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Среднеквадратическая ошибка — попиксельная средняя разница сравниваемых кадров для компонента, указанного суффиксом.
</font></font></p>
</dd>
<dt><samp><code>psnr_y, psnr_u, psnr_v, psnr_r, psnr_g, psnr_b, psnr_a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отношение пикового сигнала к шуму сравниваемых кадров для компонента, указанного суффиксом.
</font></font></p>
</dd>
<dt><samp><code>max_avg, max_y, max_u, max_v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимально допустимое значение для каждого канала и среднее значение по всем каналам.
</font></font></p></dd>
</dl>

<span id="Examples-101"></span><h4 class="subsection"><a href="#toc-Examples-101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.193.1 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например:
</font></font><div class="example">
<pre class="example"><code>movie=ref_movie.mpg, setpts=PTS-STARTPTS [main];<font></font>
[main][ref] psnr="stats_file=stats.log" [out]<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В этом примере обрабатываемый входной файл сравнивается с эталонным файлом.</font></font><samp><code>ref_movie.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">PSNR каждого отдельного кадра хранится в</font></font><samp><code>stats.log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Другой пример с разными контейнерами:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i main.mpg -i ref.mkv -lavfi  "[0:v]settb=AVTB,setpts=PTS-STARTPTS[main];[1:v]settb=AVTB,setpts=PTS-STARTPTS[ref];[main][ref]psnr" -f null -
</code></pre></div>
</li></ul>

<span id="pullup"></span><span id="pullup-1"></span><h3 class="section"><code><a href="#toc-pullup-1">11.194 pullup</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Реверсивный фильтр Pulldown (обратный телесин), способный обрабатывать смешанный жесткий телесин, прогрессивный контент с частотой 24000/1001 кадр/с и прогрессивный контент с частотой 30000/1001 кадр/с.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Подтягивающий фильтр предназначен для использования будущего контекста при принятии решений. </font><font style="vertical-align: inherit;">Этот фильтр не имеет состояния в том смысле, что он не привязывается к шаблону, которому следует следовать, а вместо этого ожидает следующих полей, чтобы идентифицировать совпадения и восстанавливать прогрессивные кадры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы создать контент с равномерной частотой кадров, вставьте фильтр кадров в секунду после подтягивания, используйте, </font></font><code>fps=24000/1001</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">если частота входных кадров составляет 29,97 кадров в секунду,
 </font></font><code>fps=24</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для 30 кадров в секунду и (редко) телесин на входе 25 кадров в секунду.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>jl</code></samp></dt>
<dt><samp><code>jr</code></samp></dt>
<dt><samp><code>jt</code></samp></dt>
<dt><samp><code>jb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти параметры задают количество игнорируемого «мусора» слева, справа, сверху и снизу изображения соответственно. </font><font style="vertical-align: inherit;">Слева и справа — по 8 пикселей, а сверху и снизу — по 2 строки. </font><font style="vertical-align: inherit;">По умолчанию 8 пикселей с каждой стороны.
</font></font></p>
</dd>
<dt><samp><code>sb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите строгие перерывы. </font><font style="vertical-align: inherit;">Установка для этого параметра значения 1 снизит вероятность того, что фильтр будет генерировать случайные несовпадающие кадры, но также может привести к отбрасыванию чрезмерного количества кадров во время последовательностей с большим движением. </font><font style="vertical-align: inherit;">И наоборот, установка значения -1 упростит сопоставление полей фильтра. </font><font style="vertical-align: inherit;">Это может помочь при обработке видео с небольшим размытием между полями, но также может привести к появлению чересстрочных кадров на выходе. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите метрическую плоскость для использования. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте яркостную плоскость.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте хроматический синий самолет.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>v</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте красную плоскость цветности.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эта опция может быть настроена на использование плоскости цветности вместо плоскости яркости по умолчанию для выполнения вычислений фильтра. </font><font style="vertical-align: inherit;">Это может улучшить точность на очень чистом исходном материале, но, скорее всего, снизит точность, особенно если присутствует цветной шум (эффект радуги) или любое видео в градациях серого. </font><font style="vertical-align: inherit;">Основная цель установки</font></font><samp><code>mp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">к плоскости цветности, чтобы уменьшить нагрузку на ЦП и сделать подтягивание пригодным для использования в реальном времени на медленных машинах.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для достижения наилучших результатов (без дублирования кадров в выходном файле) необходимо изменить частоту кадров на выходе. </font><font style="vertical-align: inherit;">Например, для обратного ввода телесина NTSC:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i input -vf pullup -r 24000/1001 ...
</code></pre></div>

<span id="qp"></span><h3 class="section"><code><a href="#toc-qp">11.195 qp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить параметры квантования видео (QP).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение для параметра квантования.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение оценивается через eval API и может содержать, среди прочего, следующие константы:
</font></font></p>
<dl compact="compact">
<dt><var><code>known</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1, если индекс не равен 129, иначе 0.
</font></font></p>
</dd>
<dt><var><code>qp</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Последовательный индекс, начиная с -129 до 128.
</font></font></p></dd>
</dl>

<span id="Examples-102"></span><h4 class="subsection"><a href="#toc-Examples-102"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.195.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторое уравнение типа:
</font></font><div class="example">
<pre class="example"><code>qp=2+2*sin(PI*qp)
</code></pre></div>
</li></ul>

<span id="random"></span><h3 class="section"><code><a href="#toc-random">11.196 random</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сбрасывать видеокадры из внутреннего кеша кадров в случайном порядке. </font><font style="vertical-align: inherit;">Ни один кадр не отбрасывается. </font><font style="vertical-align: inherit;">Вдохновлен </font><font style="vertical-align: inherit;">нервным фильтром
 </font></font><a href="#frei0r"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">frei0r .</font></font></a><font style="vertical-align: inherit;"></font></p>
<dl compact="compact">
<dt><samp><code>frames</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте размер в количестве кадров внутреннего кэша в диапазоне от </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до
 </font></font><code>512</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>30</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>seed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное число для генератора случайных чисел, это должно быть целое число между
 </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>UINT32_MAX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если не указано или явно задано значение меньше </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, фильтр попытается использовать хорошее случайное начальное число в максимально возможной степени.
</font></font></p></dd>
</dl>

<span id="readeia608"></span><h3 class="section"><code><a href="#toc-readeia608">11.197 readeia608</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтение информации скрытых субтитров (EIA-608) из верхних строк видеокадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр добавляет метаданные кадра для </font></font><code>lavfi.readeia608.X.cc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><code>lavfi.readeia608.X.line</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, где </font></font><code>X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">– номер идентифицированной строки с данными EIA-608 (начиная с 0). </font><font style="vertical-align: inherit;">Ниже приводится описание каждого значения метаданных:
</font></font></p>
<dl compact="compact">
<dt><samp><code>lavfi.readeia608.X.cc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Два байта хранятся как данные EIA-608 (напечатаны в шестнадцатеричном формате).
</font></font></p>
</dd>
<dt><samp><code>lavfi.readeia608.X.line</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер строки, на которой были идентифицированы и прочитаны данные EIA-608.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>scan_min</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите строку, чтобы начать сканирование данных EIA-608. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>scan_max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите строку для завершения сканирования данных EIA-608. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>29</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>spw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите соотношение ширины, зарезервированное для обнаружения кода синхронизации. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.27</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0.1 - 0.7]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>chp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите проверку бита четности. </font><font style="vertical-align: inherit;">В случае ошибки четности фильтр будет выводить
 </font></font><code>0x00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">этот символ. </font><font style="vertical-align: inherit;">Значение по умолчанию — ложь.
</font></font></p>
</dd>
<dt><samp><code>lp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линии нижних частот перед дальнейшей обработкой. </font><font style="vertical-align: inherit;">По умолчанию включено.
</font></font></p></dd>
</dl>

<span id="Commands-130"></span><h4 class="subsection"><a href="#toc-Commands-130"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.197.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-103"></span><h4 class="subsection"><a href="#toc-Examples-103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.197.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите CSV-файл со временем презентации и первыми двумя строками идентифицированных данных подписей EIA-608.
</font></font><div class="example">
<pre class="example"><code>ffprobe -f lavfi -i movie=captioned_video.mov,readeia608 -show_entries frame=pts_time:frame_tags=lavfi.readeia608.0.cc,lavfi.readeia608.1.cc -of csv
</code></pre></div>
</li></ul>

<span id="readvitc"></span><h3 class="section"><code><a href="#toc-readvitc">11.198 readvitc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Считайте информацию о временном коде вертикального интервала (VITC) из верхних строк видеокадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр добавляет ключ метаданных кадра </font></font><code>lavfi.readvitc.tc_str</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">со значением временного кода, если был обнаружен действительный временной код. </font><font style="vertical-align: inherit;">Ключ дальнейших метаданных
 </font></font><code>lavfi.readvitc.found</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливается на 0/1 в зависимости от того, были ли найдены данные тайм-кода или нет.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>scan_max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество строк для сканирования данных VITC. </font><font style="vertical-align: inherit;">Если установлено значение,
 </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сканируется весь видеокадр. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>45</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>thr_b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог яркости для черного. </font><font style="vertical-align: inherit;">Принимает числа с плавающей запятой в диапазоне [0.0,1.0], значение по умолчанию — </font></font><code>0.2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение должно быть равно или меньше </font></font><code>thr_w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>thr_w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог яркости для белого. </font><font style="vertical-align: inherit;">Принимает числа с плавающей запятой в диапазоне [0.0,1.0], значение по умолчанию — </font></font><code>0.6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение должно быть равно или больше </font></font><code>thr_b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-104"></span><h4 class="subsection"><a href="#toc-Examples-104"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.198.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение и отображение данных VITC на видеокадре; </font><font style="vertical-align: inherit;">если действительный VITC не обнаружен, нарисуйте </font></font><code>--:--:--:--</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в качестве заполнителя:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.avi -filter:v 'readvitc,drawtext=fontfile=FreeMono.ttf:text=%{metadata\\:lavfi.readvitc.tc_str\\:--\\\\\\:--\\\\\\:--\\\\\\:--}:x=(w-tw)/2:y=400-ascent'
</code></pre></div>
</li></ul>

<span id="remap"></span><h3 class="section"><code><a href="#toc-remap">11.199 remap</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переназначьте пиксели, используя 2-й: Xmap и 3-й: входной видеопоток Ymap.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиксель назначения в позиции (X, Y) будет выбран из позиции источника (x, y), где x = Xmap(X, Y) и y = Ymap(X, Y). </font><font style="vertical-align: inherit;">Если значения сопоставления выходят за пределы допустимого диапазона, для целевого пикселя будет использоваться нулевое значение для пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входные видеопотоки Xmap и Ymap должны иметь одинаковые размеры. </font><font style="vertical-align: inherit;">Выходной видеопоток будет иметь размеры видеопотока Xmap/Ymap. </font><font style="vertical-align: inherit;">Входные видеопотоки Xmap и Ymap имеют глубину 16 бит, одноканальные.
</font></font></p>
<dl compact="compact">
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите формат пикселя вывода этого фильтра. </font><font style="vertical-align: inherit;">Можно </font></font><code>color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>gray</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fill</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет неотображенных пикселей. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Цвет по умолчанию </font></font><code>black</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="removegrain"></span><h3 class="section"><code><a href="#toc-removegrain">11.200 removegrain</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр removegrain — это пространственный шумоподавитель для прогрессивного видео.
</font></font></p>
<dl compact="compact">
<dt><samp><code>m0</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим для первой плоскости.
</font></font></p>
</dd>
<dt><samp><code>m1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим для второй плоскости.
</font></font></p>
</dd>
<dt><samp><code>m2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим для третьей плоскости.
</font></font></p>
</dd>
<dt><samp><code>m3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим для четвертой плоскости.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Диапазон режимов от 0 до 24. Ниже приводится описание каждого режима:
</font></font></p>
<dl compact="compact">
<dt><var><code>0</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оставьте входную плоскость без изменений. </font><font style="vertical-align: inherit;">По умолчанию.
</font></font></p>
</dd>
<dt><var><code>1</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезает пиксель с минимумом и максимумом из 8 соседних пикселей.
</font></font></p>
</dd>
<dt><var><code>2</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезает пиксель со вторым минимумом и максимумом из 8 соседних пикселей.
</font></font></p>
</dd>
<dt><var><code>3</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезает пиксель с третьим минимумом и максимумом из 8 соседних пикселей.
</font></font></p>
</dd>
<dt><var><code>4</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезает пиксель с четвертым минимумом и максимумом из 8 соседних пикселей. </font><font style="vertical-align: inherit;">Это эквивалентно медианному фильтру.
</font></font></p>
</dd>
<dt><var><code>5</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чувствительное к линии отсечение с минимальными изменениями.
</font></font></p>
</dd>
<dt><var><code>6</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чувствительное к линии отсечение, промежуточное.
</font></font></p>
</dd>
<dt><var><code>7</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чувствительное к линии отсечение, промежуточное.
</font></font></p>
</dd>
<dt><var><code>8</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чувствительное к линии отсечение, промежуточное.
</font></font></p>
</dd>
<dt><var><code>9</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чувствительное к линии отсечение на линии, где соседние пиксели находятся ближе всего.
</font></font></p>
</dd>
<dt><var><code>10</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заменяет целевой пиксель ближайшим соседом.
</font></font></p>
</dd>
<dt><var><code>11</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1 2 1] горизонтальное и вертикальное размытие ядра.
</font></font></p>
</dd>
<dt><var><code>12</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и режим 11.
</font></font></p>
</dd>
<dt><var><code>13</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим Боба интерполирует верхнее поле из строки, где соседние пиксели находятся ближе всего.
</font></font></p>
</dd>
<dt><var><code>14</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим Боба интерполирует нижнее поле от линии, где соседние пиксели находятся ближе всего.
</font></font></p>
</dd>
<dt><var><code>15</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим Боба, интерполирует верхнее поле. </font><font style="vertical-align: inherit;">То же, что и 13, но с более сложной формулой интерполяции.
</font></font></p>
</dd>
<dt><var><code>16</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим Боба, интерполирует нижнее поле. </font><font style="vertical-align: inherit;">То же, что и 14, но с более сложной формулой интерполяции.
</font></font></p>
</dd>
<dt><var><code>17</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезает пиксель с минимумом и максимумом соответственно максимума и минимума каждой пары противоположных соседних пикселей.
</font></font></p>
</dd>
<dt><var><code>18</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чувствительное к линии отсечение с использованием противоположных соседей, максимальное расстояние которых от текущего пикселя минимально.
</font></font></p>
</dd>
<dt><var><code>19</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Заменяет пиксель средним значением 8 его соседей.
</font></font></p>
</dd>
<dt><var><code>20</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Усредняет 9 пикселей ([1 1 1] размытие по горизонтали и вертикали).
</font></font></p>
</dd>
<dt><var><code>21</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезает пиксели, используя средние значения противоположного соседа.
</font></font></p>
</dd>
<dt><var><code>22</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и режим 21, но проще и быстрее.
</font></font></p>
</dd>
<dt><var><code>23</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Небольшое удаление краев и ореолов, но считается бесполезным.
</font></font></p>
</dd>
<dt><var><code>24</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Похоже на 23.
</font></font></p></dd>
</dl>

<span id="removelogo"></span><h3 class="section"><code><a href="#toc-removelogo">11.201 removelogo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Подавить логотип телестанции, используя файл изображения, чтобы определить, какие пиксели составляют логотип. </font><font style="vertical-align: inherit;">Он работает путем заполнения пикселей, составляющих логотип, соседними пикселями.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filename, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите файл растрового изображения фильтра, который может быть любым форматом изображения, поддерживаемым libavformat. </font><font style="vertical-align: inherit;">Ширина и высота файла изображения должны соответствовать ширине и высоте обрабатываемого видеопотока.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиксели в предоставленном растровом изображении со значением ноль не считаются частью логотипа, ненулевые пиксели считаются частью логотипа. </font><font style="vertical-align: inherit;">Если вы используете белый (255) для логотипа и черный (0) для остальных, вы будете в безопасности. </font><font style="vertical-align: inherit;">Для создания растрового изображения фильтра рекомендуется сделать снимок экрана с черной рамкой с видимым логотипом, а затем использовать пороговый фильтр, а затем фильтр эрозии один или два раза.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При необходимости небольшие пятна можно исправить вручную. </font><font style="vertical-align: inherit;">Помните, что если пиксели логотипа не закрыты, качество фильтра сильно ухудшится. </font><font style="vertical-align: inherit;">Пометка слишком большого количества пикселей как части логотипа не так сильно повредит, но увеличит степень размытия, необходимого для покрытия изображения, и уничтожит больше информации, чем необходимо, а дополнительные пиксели замедлят работу на большом логотипе.
</font></font></p>
<span id="repeatfields"></span><h3 class="section"><code><a href="#toc-repeatfields">11.202 repeatfields</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр использует флаг repeat_field из заголовков Video ES и поля жесткого повтора на основе его значения.
</font></font></p>
<span id="reverse"></span><h3 class="section"><code><a href="#toc-reverse">11.203 reverse</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перевернуть видеоклип.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предупреждение: этому фильтру требуется память для буферизации всего клипа, поэтому рекомендуется обрезка.
</font></font></p>
<span id="Examples-105"></span><h4 class="subsection"><a href="#toc-Examples-105"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.203.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возьмите первые 5 секунд клипа и переверните его.
</font></font><div class="example">
<pre class="example"><code>trim=end=5,reverse
</code></pre></div>
</li></ul>

<span id="rgbashift"></span><h3 class="section"><code><a href="#toc-rgbashift">11.204 rgbashift</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сдвиг пикселей R/G/B/A по горизонтали и/или по вертикали.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>rh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения красного цвета по горизонтали.
</font></font></p></dd>
<dt><samp><code>rv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения красного цвета по вертикали.
</font></font></p></dd>
<dt><samp><code>gh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество для смещения зеленого по горизонтали.
</font></font></p></dd>
<dt><samp><code>gv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения зеленого цвета по вертикали.
</font></font></p></dd>
<dt><samp><code>bh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения синего цвета по горизонтали.
</font></font></p></dd>
<dt><samp><code>bv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения синего цвета по вертикали.
</font></font></p></dd>
<dt><samp><code>ah</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения альфы по горизонтали.
</font></font></p></dd>
<dt><samp><code>av</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите величину смещения альфа-канала по вертикали.
</font></font></p></dd>
<dt><samp><code>edge</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить граничный режим, может быть </font></font><var><code>smear</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по умолчанию или </font></font><var><code>warp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-131"></span><h4 class="subsection"><a href="#toc-Commands-131"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.204.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="roberts"></span><h3 class="section"><code><a href="#toc-roberts">11.205 roberts</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить оператор roberts cross к входному видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны, необработанные плоскости будут скопированы. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет умножено на отфильтрованный результат.
</font></font></p>
</dd>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет добавлено к отфильтрованному результату.
</font></font></p></dd>
</dl>

<span id="Commands-132"></span><h4 class="subsection"><a href="#toc-Commands-132"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.205.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="rotate"></span><h3 class="section"><code><a href="#toc-rotate">11.206 rotate</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поворот видео на произвольный угол, выраженный в радианах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание необязательных параметров.
</font></font></p><dl compact="compact">
<dt><samp><code>angle, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение для угла поворота входного видео по часовой стрелке, выраженное в радианах. </font><font style="vertical-align: inherit;">Отрицательное значение приведет к вращению против часовой стрелки. </font><font style="vertical-align: inherit;">По умолчанию установлено значение «0».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это выражение оценивается для каждого кадра.
</font></font></p>
</dd>
<dt><samp><code>out_w, ow</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте выражение ширины вывода, значение по умолчанию — «iw». </font><font style="vertical-align: inherit;">Это выражение оценивается только один раз во время настройки.
</font></font></p>
</dd>
<dt><samp><code>out_h, oh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте выражение выходной высоты, значение по умолчанию — «ih». </font><font style="vertical-align: inherit;">Это выражение оценивается только один раз во время настройки.
</font></font></p>
</dd>
<dt><samp><code>bilinear</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить билинейную интерполяцию, если установлено значение 1, значение 0 отключает ее. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>fillcolor, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет, используемый для заполнения выходной области, не покрытой повернутым изображением. </font><font style="vertical-align: inherit;">Общий синтаксис этой опции см. в разделе
 </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Если выбрано специальное значение «none», фон не печатается (полезно, например, если фон никогда не отображается).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — «черный».
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения для угла и выходного размера могут содержать следующие константы и функции:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">порядковый номер входного кадра, начиная с 0. Перед фильтрацией первого кадра всегда NAN.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">время в секундах входного кадра, при настройке фильтра устанавливается равным 0. </font><font style="vertical-align: inherit;">Это всегда NAN перед фильтрацией первого кадра.
</font></font></p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значения подвыборки цветности по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><samp><code>in_w, iw</code></samp></dt>
<dt><samp><code>in_h, ih</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ширина и высота входного видео
</font></font></p>
</dd>
<dt><samp><code>out_w, ow</code></samp></dt>
<dt><samp><code>out_h, oh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выходная ширина и высота, то есть размер заполненной области, как указано в </font><font style="vertical-align: inherit;">выражениях
 </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и</font></font><var><code>height</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>rotw(a)</code></samp></dt>
<dt><samp><code>roth(a)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">минимальная ширина/высота, необходимая для полного размещения входного видео, повернутого на </font></font><var><code>a</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">радианы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Они доступны только при вычислении</font></font><samp><code>out_w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также
</font></font><samp><code>out_h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражения.
</font></font></p></dd>
</dl>

<span id="Examples-106"></span><h4 class="subsection"><a href="#toc-Examples-106"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.206.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните вход на PI/6 радиан по часовой стрелке:
</font></font><div class="example">
<pre class="example"><code>rotate=PI/6
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните вход на PI/6 в радианах против часовой стрелки:
</font></font><div class="example">
<pre class="example"><code>rotate=-PI/6
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните вход на 45 градусов по часовой стрелке:
</font></font><div class="example">
<pre class="example"><code>rotate=45*PI/180
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените постоянное вращение с периодом T, начиная с угла PI/3:
</font></font><div class="example">
<pre class="example"><code>rotate=PI/3+2*PI*t/T
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте вращение входного видео колеблющимся с периодом T секунд и амплитудой A радиан:
</font></font><div class="example">
<pre class="example"><code>rotate=A*sin(2*PI/T*t)
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните видео, размер вывода выбирается таким образом, чтобы все вращающееся входное видео всегда полностью содержалось в выводе:
</font></font><div class="example">
<pre class="example"><code>rotate='2*PI*t:ow=hypot(iw,ih):oh=ow'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните видео, уменьшите размер вывода, чтобы фон никогда не отображался:
</font></font><div class="example">
<pre class="example"><code>rotate=2*PI*t:ow='min(iw,ih)/sqrt(2)':oh=ow:c=none
</code></pre></div>
</li></ul>

<span id="Commands-133"></span><h4 class="subsection"><a href="#toc-Commands-133"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.206.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр поддерживает следующие команды:
</font></font></p>
<dl compact="compact">
<dt><samp><code>a, angle</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте выражение угла. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p></dd>
</dl>

<span id="sab"></span><h3 class="section"><code><a href="#toc-sab">11.207 sab</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените адаптивное размытие формы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_radius, lr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу фильтра размытия яркости, значение должно быть в диапазоне 0,1–4,0, значение по умолчанию — 1,0. </font><font style="vertical-align: inherit;">Большее значение приведет к более размытому изображению и более медленной обработке.
</font></font></p>
</dd>
<dt><samp><code>luma_pre_filter_radius, lpfr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус предварительного фильтра яркости, значение должно быть в диапазоне 0,1–2,0, значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>luma_strength, ls</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальную разницу яркости между пикселями, которая все еще будет учитываться. Значение должно быть в диапазоне 0,1–100,0, значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>chroma_radius, cr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу фильтра размытия цветности, значение должно быть в диапазоне от -0,9 до 4,0. </font><font style="vertical-align: inherit;">Большее значение приведет к более размытому изображению и более медленной обработке.
</font></font></p>
</dd>
<dt><samp><code>chroma_pre_filter_radius, cpfr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте радиус предварительного фильтра цветности, значение должно быть в диапазоне от -0,9 до 2,0.
</font></font></p>
</dd>
<dt><samp><code>chroma_strength, cs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальную разницу цветности между пикселями, которая все еще будет учитываться, она должна быть в диапазоне от -0,9 до 100,0.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждое значение параметра цветности, если оно не указано явно, устанавливается равным соответствующему значению параметра яркости.
</font></font></p>
<span id="scale"></span><span id="scale-1"></span><h3 class="section"><code><a href="#toc-scale-1">11.208 scale</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте (измените размер) входное видео, используя библиотеку libswscale.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабный фильтр заставляет соотношение сторон выходного дисплея быть таким же, как и входное, путем изменения соотношения сторон выходного образца.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если формат входного изображения отличается от формата, запрошенного следующим фильтром, масштабный фильтр преобразует входные данные в запрошенный формат.
</font></font></p>
<span id="Options-2"></span><h4 class="subsection"><a href="#toc-Options-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.208.1 Опции</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры или любые параметры, поддерживаемые масштабатором libswscale.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. </font></font><a href="ffmpeg-scaler.html#scaler_005foptions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-scaler) руководство ffmpeg-scaler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для получения полного списка параметров масштабирования.
</font></font></p>
<dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение размера выходного видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — входное измерение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если значение </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0, входная ширина используется для вывода. </font><font style="vertical-align: inherit;">Если значение </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0, входная высота используется для вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если одно и только одно из значений равно -n с n &gt;= 1, масштабный фильтр будет использовать значение, поддерживающее соотношение сторон входного изображения, рассчитанное на основе другого указанного измерения. </font><font style="vertical-align: inherit;">Однако после этого он проверит, что вычисленное измерение делится на n, и при необходимости скорректирует значение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если оба значения равны -n с n &gt;= 1, поведение будет идентичным обоим значениям, установленным равным 0, как описано ранее.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. ниже список допустимых констант для использования в выражении измерения.
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, когда оценивать </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражать. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценивайте выражения только один раз во время инициализации фильтра или при обработке команды.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оцените выражения для каждого входящего кадра.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>

</dd>
<dt><samp><code>interl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим чересстрочной развертки. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительное масштабирование с поддержкой чересстрочной развертки.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не применяйте чересстрочное масштабирование.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>-1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите масштабирование с учетом чересстрочной развертки в зависимости от того, помечены ли исходные кадры как чересстрочные или нет.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>flags</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите флаги масштабирования libswscale. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-scaler.html#sws_005fflags"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-scaler) руководство по ffmpeg-scaler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для получения полного списка значений. </font><font style="vertical-align: inherit;">Если это не указано явно, фильтр применяет флаги по умолчанию.
</font></font></p>

</dd>
<dt><samp><code>param0, param1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте входные параметры libswscale для алгоритмов масштабирования, которым они нужны. </font><font style="vertical-align: inherit;">Полную документацию см. в руководстве по ffmpeg- </font><font style="vertical-align: inherit;">scaler
 </font></font><a href="ffmpeg-scaler.html#sws_005fparams"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-scaler) . </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если это не указано явно, фильтр применяет пустые параметры.
</font></font></p>


</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>in_color_matrix</code></samp></dt>
<dt><samp><code>out_color_matrix</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип цветового пространства входа/выхода YCbCr.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это позволяет переопределить автоматически обнаруженное значение, а также позволяет принудительно задать конкретное значение, используемое для выхода и кодировщика.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если не указано, тип цветового пространства зависит от формата пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выбирайте автоматически.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Формат соответствует Рекомендации Международного союза электросвязи (ITU) BT.709.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fcc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовое пространство в соответствии с Кодексом федеральных правил (CFR) Федеральной комиссии по связи США (FCC), раздел 47 (2003) 73.682 (a).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt601</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовое пространство в соответствии с:
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Рекомендация Сектора радиосвязи МСЭ (ITU-R) BT.601

</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">МСЭ-R Рек. </font><font style="vertical-align: inherit;">BT.470-6 (1998) Системы B, B1 и G

</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Общество инженеров кино и телевидения (SMPTE) ST 170: 2004

</font></font></li></ul>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовое пространство в соответствии со SMPTE ST 240:1999.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовое пространство в соответствии с непостоянной системой яркости ITU-R BT.2020.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>in_range</code></samp></dt>
<dt><samp><code>out_range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входной/выходной диапазон выборки YCbCr.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это позволяет переопределить автоматически обнаруженное значение, а также позволяет принудительно задать конкретное значение, используемое для выхода и кодировщика. </font><font style="vertical-align: inherit;">Если не указано, диапазон зависит от формата пикселей. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto/unknown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выбирайте автоматически.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>jpeg/full/pc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите полный диапазон (0-255 в случае 8-битной яркости).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mpeg/limited/tv</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите диапазон "MPEG" (16-235 в случае 8-битной яркости).
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>force_original_aspect_ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите уменьшение или увеличение ширины или высоты выходного видео, если это необходимо, чтобы сохранить исходное соотношение сторон. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>disable</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте видео, как указано, и отключите эту функцию.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>decrease</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При необходимости размеры выходного видео будут автоматически уменьшены.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>increase</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При необходимости размеры выходного видео будут автоматически увеличены.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Одним из полезных примеров этой опции является то, что, когда вы знаете максимально допустимое разрешение для конкретного устройства, вы можете использовать его, чтобы ограничить выходное видео этим, сохраняя при этом соотношение сторон. </font><font style="vertical-align: inherit;">Например, устройство А поддерживает воспроизведение с разрешением 1280&nbsp;x&nbsp;720, а ваше видео имеет разрешение 1920&nbsp;x&nbsp;800. </font><font style="vertical-align: inherit;">Использование этой опции (установите ее на уменьшение) и указание 1280x720 в командной строке делает вывод 1280x533.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что это отличается от указания -1 для</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
или же</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, вам все равно нужно указать выходное разрешение, чтобы эта опция работала.
</font></font></p>
</dd>
<dt><samp><code>force_divisible_by</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гарантирует, что оба выходных размера, ширина и высота, делятся на заданное целое число при использовании вместе с</font></font><samp><code>force_original_aspect_ratio</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это работает аналогично использованию </font></font><code>-n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр учитывает значение, установленное для</font></font><samp><code>force_original_aspect_ratio</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, увеличивая или уменьшая разрешение соответственно. </font><font style="vertical-align: inherit;">Соотношение сторон видео может быть немного изменено.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр может быть удобен, если вам нужно, чтобы видео соответствовало определенному разрешению или превышало его с помощью</font></font><samp><code>force_original_aspect_ratio</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">но также имеют ограничения кодировщика на делимость по ширине или высоте.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options — это выражения, содержащие следующие константы:
</font></font></p>
<dl compact="compact">
<dt><var><code>in_w</code></var></dt>
<dt><var><code>in_h</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота ввода
</font></font></p>
</dd>
<dt><var><code>iw</code></var></dt>
<dt><var><code>ih</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>in_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>in_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>out_w</code></var></dt>
<dt><var><code>out_h</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная (масштабированная) ширина и высота
</font></font></p>
</dd>
<dt><var><code>ow</code></var></dt>
<dt><var><code>oh</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и</font></font><var><code>out_h</code></var>
</p>
</dd>
<dt><var><code>a</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>ih</code></var>
</p>
</dd>
<dt><var><code>sar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон входного образца
</font></font></p>
</dd>
<dt><var><code>dar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного дисплея. </font><font style="vertical-align: inherit;">Рассчитано из </font></font><code>(iw / ih) * sar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>hsub</code></var></dt>
<dt><var><code>vsub</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">горизонтальные и вертикальные входные значения подвыборки цветности. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><var><code>ohsub</code></var></dt>
<dt><var><code>ovsub</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">горизонтальные и вертикальные выходные значения цветности подвыборки. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><var><code>n</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер входного кадра, начиная с 0. Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>t</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная метка представления входного кадра, выраженная в секундах. </font><font style="vertical-align: inherit;">Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>pos</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позиция (байтовое смещение) кадра во входном потоке или NaN, если эта информация недоступна и/или бессмысленна (например, в случае синтетического видео). </font><font style="vertical-align: inherit;">Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-107"></span><h4 class="subsection"><a href="#toc-Examples-107"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.208.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте входное видео до размера 200x100.
</font></font><div class="example">
<pre class="example"><code>scale=w=200:h=100
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это эквивалентно:
</font></font></p><div class="example">
<pre class="example"><code>scale=200:100
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или же:
</font></font></p><div class="example">
<pre class="example"><code>scale=200x100
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите аббревиатуру размера для выходного размера:
</font></font><div class="example">
<pre class="example"><code>scale=qcif
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">что также можно записать как:
</font></font></p><div class="example">
<pre class="example"><code>scale=size=qcif
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте ввод до 2x:
</font></font><div class="example">
<pre class="example"><code>scale=w=2*iw:h=2*ih
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вышеупомянутое аналогично:
</font></font><div class="example">
<pre class="example"><code>scale=2*in_w:2*in_h
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте вход до 2x с принудительным чересстрочным масштабированием:
</font></font><div class="example">
<pre class="example"><code>scale=2*iw:2*ih:interl=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшите ввод до половины размера:
</font></font><div class="example">
<pre class="example"><code>scale=w=iw/2:h=ih/2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте ширину и установите высоту того же размера:
</font></font><div class="example">
<pre class="example"><code>scale=3/2*iw:ow
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ищите греческую гармонию:
</font></font><div class="example">
<pre class="example"><code>scale=iw:1/PHI*iw<font></font>
scale=ih*PHI:ih<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте высоту и установите ширину на 3/2 высоты:
</font></font><div class="example">
<pre class="example"><code>scale=w=3/2*oh:h=3/5*ih
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте размер, сделав размер кратным значениям подвыборки цветности:
</font></font><div class="example">
<pre class="example"><code>scale="trunc(3/2*iw/hsub)*hsub:trunc(3/2*ih/vsub)*vsub"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте ширину до максимум 500 пикселей, сохраняя то же соотношение сторон, что и на входе:
</font></font><div class="example">
<pre class="example"><code>scale=w='min(500\, iw*3/2):h=-1'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте пиксели квадратными, объединив масштаб и сетсар:
</font></font><div class="example">
<pre class="example"><code>scale='trunc(ih*dar):ih',setsar=1/1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте пиксели квадратными, объединив масштаб и сетсар, убедившись, что результирующее разрешение равно (требуется некоторыми кодеками):
</font></font><div class="example">
<pre class="example"><code>scale='trunc(ih*dar/2)*2:trunc(ih/2)*2',setsar=1/1
</code></pre></div>
</li></ul>

<span id="Commands-134"></span><h4 class="subsection"><a href="#toc-Commands-134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.208.3 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение размера выходного видео. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p></dd>
</dl>

<span id="scale_005fcuda"></span><h3 class="section"><code><a href="#toc-scale_005fcuda">11.209 scale_cuda</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабирование (изменение размера) и преобразование (формат пикселей) входного видео с использованием ускоренных ядер CUDA. </font><font style="vertical-align: inherit;">Настройка выходной ширины и высоты работает так же, как и для </font></font><a href="#scale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабного</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение размера выходного видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — входное измерение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позволяет использовать те же выражения, что и </font></font><a href="#scale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабный</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтр.
</font></font></p>
</dd>
<dt><samp><code>interp_algo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устанавливает алгоритм, используемый для масштабирования:
</font></font></p>
<dl compact="compact">
<dt><var><code>nearest</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ближайший сосед
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используется по умолчанию, если входные параметры соответствуют желаемому результату.
</font></font></p>
</dd>
<dt><var><code>bilinear</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Билинейный
</font></font></p>
</dd>
<dt><var><code>bicubic</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Бикубический
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p>
</dd>
<dt><var><code>lanczos</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ланцош
</font></font></p>
</dd>
</dl>

</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Управляет выходным форматом пикселей. </font><font style="vertical-align: inherit;">По умолчанию или если ничего не указано, используется формат входных пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр не поддерживает преобразование между форматами пикселей YUV и RGB.
</font></font></p>
</dd>
<dt><samp><code>passthrough</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 0, обрабатывается каждый кадр, даже если преобразование не требуется. </font><font style="vertical-align: inherit;">Этот режим может быть полезен для использования фильтра в качестве буфера для потребителя кадров нисходящего потока, который исчерпывает ограниченный пул кадров декодера.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, кадры передаются как есть, если они соответствуют желаемым выходным параметрам. </font><font style="vertical-align: inherit;">Это поведение по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>param</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр, зависящий от алгоритма.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Влияет на кривые бикубического алгоритма.
</font></font></p>
</dd>
<dt><samp><code>force_original_aspect_ratio</code></samp></dt>
<dt><samp><code>force_divisible_by</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Работайте так же, как и идентичные параметры </font></font><a href="#scale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабного</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтра.
</font></font></p>
</dd>
</dl>

<span id="Examples-108"></span><h4 class="subsection"><a href="#toc-Examples-108"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.209.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте входное изображение до 720p, сохраняя соотношение сторон и гарантируя, что на выходе будет yuv420p.
</font></font><div class="example">
<pre class="example"><code>scale_cuda=-2:720:format=yuv420p
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабирование до 4K с использованием алгоритма ближайшего соседа.
</font></font><div class="example">
<pre class="example"><code>scale_cuda=4096:2160:interp_algo=nearest
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не выполняйте никаких преобразований или масштабирования, а скопируйте все входные кадры во вновь выделенные. </font><font style="vertical-align: inherit;">Это может быть полезно для работы с цепочкой фильтрации и кодирования, которая в противном случае исчерпывает пул кадров декодеров.
</font></font><div class="example">
<pre class="example"><code>scale_cuda=passthrough=0
</code></pre></div>
</li></ul>

<span id="scale_005fnpp"></span><span id="scale_005fnpp-1"></span><h3 class="section"><code><a href="#toc-scale_005fnpp-1">11.210 scale_npp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте примитивы производительности NVIDIA (libnpp) для выполнения масштабирования и/или преобразования формата пикселей в видеокадрах CUDA. </font><font style="vertical-align: inherit;">Установка ширины и высоты вывода работает так же, как и для </font></font><var><code>scale</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принимаются следующие дополнительные опции:
</font></font></p><dl compact="compact">
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиксельный формат выходных кадров CUDA. </font><font style="vertical-align: inherit;">Если установлено значение «такой же» (по умолчанию), формат ввода будет сохранен. </font><font style="vertical-align: inherit;">Обратите внимание, что автоматическое согласование формата и преобразование пока не поддерживаются для аппаратных фреймов.
</font></font></p>
</dd>
<dt><samp><code>interp_algo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Алгоритм интерполяции, используемый для изменения размера. </font><font style="vertical-align: inherit;">Одно из следующего:
</font></font></p><dl compact="compact">
<dt><samp><code>nn</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ближайший сосед.
</font></font></p>
</dd>
<dt><samp><code>linear</code></samp></dt>
<dt><samp><code>cubic</code></samp></dt>
<dt><samp><code>cubic2p_bspline</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-параметрический кубический (B=1, C=0)
</font></font></p>
</dd>
<dt><samp><code>cubic2p_catmullrom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-параметрический кубический (B=0, C=1/2)
</font></font></p>
</dd>
<dt><samp><code>cubic2p_b05c03</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-параметрический кубический (B=1/2, C=3/10)
</font></font></p>
</dd>
<dt><samp><code>super</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Суперсэмплинг
</font></font></p>
</dd>
<dt><samp><code>lanczos</code></samp></dt>
</dl>

</dd>
<dt><samp><code>force_original_aspect_ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите уменьшение или увеличение ширины или высоты выходного видео, если это необходимо, чтобы сохранить исходное соотношение сторон. </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>disable</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте видео, как указано, и отключите эту функцию.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>decrease</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При необходимости размеры выходного видео будут автоматически уменьшены.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>increase</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При необходимости размеры выходного видео будут автоматически увеличены.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Одним из полезных примеров этой опции является то, что, когда вы знаете максимально допустимое разрешение для конкретного устройства, вы можете использовать его, чтобы ограничить выходное видео этим, сохраняя при этом соотношение сторон. </font><font style="vertical-align: inherit;">Например, устройство А поддерживает воспроизведение с разрешением 1280&nbsp;x&nbsp;720, а ваше видео имеет разрешение 1920&nbsp;x&nbsp;800. </font><font style="vertical-align: inherit;">Использование этой опции (установите ее на уменьшение) и указание 1280x720 в командной строке делает вывод 1280x533.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что это отличается от указания -1 для</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
или же</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, вам все равно нужно указать выходное разрешение, чтобы эта опция работала.
</font></font></p>
</dd>
<dt><samp><code>force_divisible_by</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гарантирует, что оба выходных размера, ширина и высота, делятся на заданное целое число при использовании вместе с</font></font><samp><code>force_original_aspect_ratio</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это работает аналогично использованию </font></font><code>-n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр учитывает значение, установленное для</font></font><samp><code>force_original_aspect_ratio</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, увеличивая или уменьшая разрешение соответственно. </font><font style="vertical-align: inherit;">Соотношение сторон видео может быть немного изменено.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр может быть удобен, если вам нужно, чтобы видео соответствовало определенному разрешению или превышало его с помощью</font></font><samp><code>force_original_aspect_ratio</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">но также имеют ограничения кодировщика на делимость по ширине или высоте.
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, когда оценивать </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражать. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценивайте выражения только один раз во время инициализации фильтра или при обработке команды.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оцените выражения для каждого входящего кадра.
</font></font></p>
</dd>
</dl>

</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options — это выражения, содержащие следующие константы:
</font></font></p>
<dl compact="compact">
<dt><var><code>in_w</code></var></dt>
<dt><var><code>in_h</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота ввода
</font></font></p>
</dd>
<dt><var><code>iw</code></var></dt>
<dt><var><code>ih</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>in_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>in_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>out_w</code></var></dt>
<dt><var><code>out_h</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная (масштабированная) ширина и высота
</font></font></p>
</dd>
<dt><var><code>ow</code></var></dt>
<dt><var><code>oh</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и</font></font><var><code>out_h</code></var>
</p>
</dd>
<dt><var><code>a</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>ih</code></var>
</p>
</dd>
<dt><var><code>sar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон входного образца
</font></font></p>
</dd>
<dt><var><code>dar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного дисплея. </font><font style="vertical-align: inherit;">Рассчитано из </font></font><code>(iw / ih) * sar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>n</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер входного кадра, начиная с 0. Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>t</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная метка представления входного кадра, выраженная в секундах. </font><font style="vertical-align: inherit;">Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>pos</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позиция (байтовое смещение) кадра во входном потоке или NaN, если эта информация недоступна и/или бессмысленна (например, в случае синтетического видео). </font><font style="vertical-align: inherit;">Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="scale2ref"></span><h3 class="section"><code><a href="#toc-scale2ref">11.211 scale2ref</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте (измените размер) входное видео на основе эталонного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. Масштабный фильтр для доступных опций, scale2ref поддерживает то же самое, но использует эталонное видео вместо основного входа в качестве основы. </font><font style="vertical-align: inherit;">Scale2ref также поддерживает следующие дополнительные константы для</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также
</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции:
</font></font></p>
<dl compact="compact">
<dt><var><code>main_w</code></var></dt>
<dt><var><code>main_h</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота основного входного видео
</font></font></p>
</dd>
<dt><var><code>main_a</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что </font></font><var><code>main_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>main_h</code></var>
</p>
</dd>
<dt><var><code>main_sar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образец соотношения сторон основного входного видео
</font></font></p>
</dd>
<dt><var><code>main_dar, mdar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон дисплея основного входного видео. </font><font style="vertical-align: inherit;">Рассчитано из
 </font></font><code>(main_w / main_h) * main_sar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>main_hsub</code></var></dt>
<dt><var><code>main_vsub</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения подвыборки цветности основного входного видео по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
равно 1.
</font></font></p>
</dd>
<dt><var><code>main_n</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер основного входного кадра, начиная с 0. Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>main_t</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная метка представления основного входного кадра, выраженная в секундах. </font><font style="vertical-align: inherit;">Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>main_pos</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позиция (байтовое смещение) кадра в основном входном потоке или NaN, если эта информация недоступна и/или бессмысленна (например, в случае синтетического видео). </font><font style="vertical-align: inherit;">Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-109"></span><h4 class="subsection"><a href="#toc-Examples-109"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.211.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте поток субтитров (б) так, чтобы он соответствовал размеру основного видео (а) перед наложением
</font></font><div class="example">
<pre class="example"><code>'scale2ref[b][a];[a][b]overlay'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте логотип до 1/10 высоты видео, сохраняя соотношение сторон экрана.
</font></font><div class="example">
<pre class="example"><code>[logo-in][video-in]scale2ref=w=oh*mdar:h=ih/10[logo-out][video-out]
</code></pre></div>
</li></ul>

<span id="Commands-135"></span><h4 class="subsection"><a href="#toc-Commands-135"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.211.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение размера выходного видео. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p></dd>
</dl>

<span id="scale2ref_005fnpp"></span><h3 class="section"><code><a href="#toc-scale2ref_005fnpp">11.212 scale2ref_npp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте примитивы производительности NVIDIA (libnpp) для масштабирования (изменения размера) входного видео на основе эталонного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные параметры см. в фильтре </font></font><a href="#scale_005fnpp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scale_npp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Scale2ref_npp поддерживает то же самое, но использует эталонное видео вместо основного ввода в качестве основы. </font><font style="vertical-align: inherit;">Scale2ref_npp также поддерживает следующие дополнительные константы для</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также
</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции:
</font></font></p>
<dl compact="compact">
<dt><var><code>main_w</code></var></dt>
<dt><var><code>main_h</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота основного входного видео
</font></font></p>
</dd>
<dt><var><code>main_a</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что </font></font><var><code>main_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>main_h</code></var>
</p>
</dd>
<dt><var><code>main_sar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образец соотношения сторон основного входного видео
</font></font></p>
</dd>
<dt><var><code>main_dar, mdar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон дисплея основного входного видео. </font><font style="vertical-align: inherit;">Рассчитано из
 </font></font><code>(main_w / main_h) * main_sar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>main_n</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер основного входного кадра, начиная с 0. Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>main_t</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная метка представления основного входного кадра, выраженная в секундах. </font><font style="vertical-align: inherit;">Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>main_pos</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позиция (байтовое смещение) кадра в основном входном потоке или NaN, если эта информация недоступна и/или бессмысленна (например, в случае синтетического видео). </font><font style="vertical-align: inherit;">Доступно только с </font></font><code>eval=frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-110"></span><h4 class="subsection"><a href="#toc-Examples-110"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.212.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте поток субтитров (б) так, чтобы он соответствовал размеру основного видео (а) перед наложением
</font></font><div class="example">
<pre class="example"><code>'scale2ref_npp[b][a];[a][b]overlay_cuda'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте логотип до 1/10 высоты видео, сохраняя соотношение сторон экрана.
</font></font><div class="example">
<pre class="example"><code>[logo-in][video-in]scale2ref_npp=w=oh*mdar:h=ih/10[logo-out][video-out]
</code></pre></div>
</li></ul>

<span id="scharr"></span><h3 class="section"><code><a href="#toc-scharr">11.213 scharr</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить оператор scharr к входному видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны, необработанные плоскости будут скопированы. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет умножено на отфильтрованный результат.
</font></font></p>
</dd>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет добавлено к отфильтрованному результату.
</font></font></p></dd>
</dl>

<span id="Commands-136"></span><h4 class="subsection"><a href="#toc-Commands-136"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.213.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="scroll"></span><h3 class="section"><code><a href="#toc-scroll">11.214 scroll</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прокручивайте входное видео по горизонтали и/или по вертикали с постоянной скоростью.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>horizontal, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорость горизонтальной прокрутки. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1. Отрицательные значения изменяют направление прокрутки.
</font></font></p>
</dd>
<dt><samp><code>vertical, v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорость вертикальной прокрутки. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -1 до 1. Отрицательные значения изменяют направление прокрутки.
</font></font></p>
</dd>
<dt><samp><code>hpos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальную позицию горизонтальной прокрутки. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от 0 до 1.
</font></font></p>
</dd>
<dt><samp><code>vpos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальную позицию вертикальной прокрутки. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от 0 до 1.
</font></font></p></dd>
</dl>

<span id="Commands-137"></span><h4 class="subsection"><a href="#toc-Commands-137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.214.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :
</font></font></p><dl compact="compact">
<dt><samp><code>horizontal, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорость горизонтальной прокрутки.
</font></font></p></dd>
<dt><samp><code>vertical, v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорость вертикальной прокрутки.
</font></font></p></dd>
</dl>

<span id="scdet"></span><span id="scdet-1"></span><h3 class="section"><code><a href="#toc-scdet-1">11.215 scdet</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение изменения сцены видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр устанавливает метаданные кадра с помощью mafd между кадром, оценкой сцены и пересылает кадр следующему фильтру, чтобы они могли использовать эти метаданные для обнаружения изменения сцены или других действий.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кроме того, этот фильтр регистрирует сообщение и устанавливает метаданные кадра при обнаружении смены сцены путем</font></font><samp><code>threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><code>lavfi.scd.mafd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ключи метаданных устанавливаются с помощью mafd для каждого кадра.
</font></font></p>
<p><code>lavfi.scd.score</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ключи метаданных устанавливаются с оценкой смены сцены для каждого кадра, чтобы обнаружить смену сцены.
</font></font></p>
<p><code>lavfi.scd.time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ключи метаданных устанавливаются с текущим отфильтрованным временем кадра, которые обнаруживают изменение сцены с помощью</font></font><samp><code>threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог обнаружения изменения сцены в процентах от максимального изменения. </font><font style="vertical-align: inherit;">Хорошие значения находятся в </font></font><code>[8.0, 14.0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">диапазоне. </font><font style="vertical-align: inherit;">Диапазон для</font></font><samp><code>threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">есть
 </font></font><code>[0., 100.]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>10.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sc_pass, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите флаг, чтобы передать кадры смены сцены следующему фильтру. </font><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Вы можете включить его, если хотите получать снимки только кадров смены сцены.
</font></font></p></dd>
</dl>

<span id="selectivecolor"></span><span id="selectivecolor-1"></span><h3 class="section"><code><a href="#toc-selectivecolor-1">11.216 selectivecolor</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте голубой, пурпурный, желтый и черный (CMYK) на определенные диапазоны цветов (например, «красный», «желтый», «зеленый», «голубой» и т. д.). </font><font style="vertical-align: inherit;">Диапазон регулировки определяется «чистотой» цвета (то есть, насколько он уже насыщен).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр похож на инструмент «Выбор цвета» в Adobe Photoshop.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>correction_method</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите метод цветокоррекции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>absolute</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указанные корректировки применяются «как есть» (добавляются/вычитаются из исходного значения компонента пикселя).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>relative</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указанные корректировки относятся к исходному значению компонента.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>absolute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
<dt><samp><code>reds</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Корректировки для красных пикселей (пиксели, в которых красная составляющая максимальна)
</font></font></p></dd>
<dt><samp><code>yellows</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Корректировки для желтых пикселей (пикселей, где синий компонент минимален)
</font></font></p></dd>
<dt><samp><code>greens</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройки для зеленых пикселей (пиксели, в которых зеленый компонент максимален)
</font></font></p></dd>
<dt><samp><code>cyans</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройки для голубых пикселей (пиксели, в которых красная составляющая минимальна)
</font></font></p></dd>
<dt><samp><code>blues</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройки для синих пикселей (пикселей, в которых синий компонент максимален)
</font></font></p></dd>
<dt><samp><code>magentas</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коррекция пурпурных пикселей (пикселей, в которых зеленый компонент минимален)
</font></font></p></dd>
<dt><samp><code>whites</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Корректировка белых пикселей (пикселей, в которых все компоненты больше 128)
</font></font></p></dd>
<dt><samp><code>neutrals</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройки для всех пикселей, кроме чисто черного и чисто белого.
</font></font></p></dd>
<dt><samp><code>blacks</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коррекция для черных пикселей (пиксели, все компоненты которых меньше 128)
</font></font></p></dd>
<dt><samp><code>psfile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите файл выборочного цвета Photoshop ( </font></font><code>.asv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), из которого нужно импортировать настройки.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все настройки регулировки (</font></font><samp><code>reds</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>yellows</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ...) принимает до 4 значений настройки с плавающей запятой, разделенных пробелами, в диапазоне [-1,1], соответственно, чтобы настроить количество голубого, пурпурного, желтого и черного для пикселей своего диапазона.
</font></font></p>
<span id="Examples-111"></span><h4 class="subsection"><a href="#toc-Examples-111"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.216.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте голубой на 50% и уменьшите желтый на 33% в каждой зеленой области и увеличьте пурпурный на 27% в синих областях:
</font></font><div class="example">
<pre class="example"><code>selectivecolor=greens=.5 0 -.33 0:blues=0 .27
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте предустановку выборочного цвета Photoshop:
</font></font><div class="example">
<pre class="example"><code>selectivecolor=psfile=MySelectiveColorPresets/Misty.asv
</code></pre></div>
</li></ul>

<span id="separatefields"></span><span id="separatefields-1"></span><h3 class="section"><code><a href="#toc-separatefields-1">11.217 separatefields</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он </font></font><code>separatefields</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">принимает видеовход на основе кадров и разбивает каждый кадр на поля его компонентов, создавая новый клип половинной высоты с удвоенной частотой кадров и удвоенным количеством кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр использует информацию о доминантности полей в кадре, чтобы решить, какое из каждой пары полей следует разместить первым в выходных данных. </font><font style="vertical-align: inherit;">Если он ошибается, используйте фильтр </font></font><a href="#setfield"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfield</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> перед </font></font><code>separatefields</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром.
</font></font></p>
<span id="setdar_002c-setsar"></span><h3 class="section"><code><a href="#toc-setdar_002c-setsar">11.218 setdar, setsar</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>setdar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливает соотношение сторон экрана для выходного видео фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это делается путем изменения указанного соотношения сторон образца (также известного как пиксель) в соответствии со следующим уравнением:
</font></font></p><div class="example">
<pre class="example"><code><var><code>DAR</code></var> = <var><code>HORIZONTAL_RESOLUTION</code></var> / <var><code>VERTICAL_RESOLUTION</code></var> * <var><code>SAR</code></var>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имейте в виду, что </font></font><code>setdar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтр не изменяет размеры видеокадра в пикселях. </font><font style="vertical-align: inherit;">Кроме того, соотношение сторон экрана, установленное этим фильтром, может быть изменено более поздними фильтрами в цепочке фильтров, например, в случае масштабирования или применения другого фильтра «setdar» или «setsar».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>setsar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливает соотношение сторон образца (также известного как пиксель) для выходного видео фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что в результате применения этого фильтра соотношение сторон выходного изображения будет изменяться в соответствии с приведенным выше уравнением.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имейте в виду, что соотношение сторон образца, установленное </font></font><code>setsar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
фильтром, может быть изменено более поздними фильтрами в цепочке фильтров, например, если применяется другой фильтр «setsar» или «setdar».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>r, ratio, dar (<code>setdar</code> only), sar (<code>setsar</code> only)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите соотношение сторон, используемое фильтром.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр может быть строкой числа с плавающей запятой, выражением или строкой вида </font></font><var><code>num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, где </font></font><var><code>num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><var><code>den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— числитель и знаменатель соотношения сторон. </font><font style="vertical-align: inherit;">Если параметр не указан, принимается значение «0». </font><font style="vertical-align: inherit;">В случае использования формы " </font></font><var><code>num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><code>:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">символ должен быть экранирован.
</font></font></p>
</dd>
<dt><samp><code>max</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное целочисленное значение, которое будет использоваться для выражения числителя и знаменателя при уменьшении выраженного соотношения сторон до рационального. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр </font></font><var><code>sar</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">представляет собой выражение, содержащее следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>E, PI, PHI</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это приблизительные значения математических констант e (число Эйлера), pi (греческое пи) и фи (золотое сечение).
</font></font></p>
</dd>
<dt><samp><code>w, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это то же самое, что </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного образца.
</font></font></p>
</dd>
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного дисплея. </font><font style="vertical-align: inherit;">Это то же самое, что ( </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) * </font></font><var><code>sar</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>hsub, vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Горизонтальные и вертикальные значения подвыборки цветности. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p></dd>
</dl>

<span id="Examples-112"></span><h4 class="subsection"><a href="#toc-Examples-112"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.218.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы изменить соотношение сторон экрана на 16:9, укажите одно из следующих значений:
</font></font><div class="example">
<pre class="example"><code>setdar=dar=1.77777<font></font>
setdar=dar=16/9<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы изменить соотношение сторон образца на 10:11, укажите:
</font></font><div class="example">
<pre class="example"><code>setsar=sar=10/11
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы установить соотношение сторон дисплея 16:9 и указать максимальное целочисленное значение 1000 в уменьшении соотношения сторон, используйте команду:
</font></font><div class="example">
<pre class="example"><code>setdar=ratio=16/9:max=1000
</code></pre></div>

</li></ul>

<span id="setfield"></span><span id="setfield-1"></span><h3 class="section"><code><a href="#toc-setfield-1">11.219 setfield</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Силовое поле для выходного видеокадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>setfield</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">помечает поле типа чересстрочной развертки для выходных кадров. </font><font style="vertical-align: inherit;">Он не изменяет входной кадр, а только устанавливает соответствующее свойство, которое влияет на то, как кадр обрабатывается следующими фильтрами (например, </font></font><code>fieldorder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>yadif</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте то же свойство поля.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте кадр как нижнее поле вперед.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте кадр как верхний-поле-сначала.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>prog</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте кадр как прогрессивный.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="setparams"></span><span id="setparams-1"></span><h3 class="section"><code><a href="#toc-setparams-1">11.220 setparams</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр принудительного кадра для выходного видеокадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>setparams</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отмечает чересстрочность и цветовой диапазон для выходных кадров. </font><font style="vertical-align: inherit;">Он не изменяет входной кадр, а только устанавливает соответствующее свойство, которое влияет на то, как кадр обрабатывается фильтрами/энкодерами.
</font></font></p>
<dl compact="compact">
<dt><samp><code>field_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте то же свойство поля (по умолчанию).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте кадр как нижнее поле вперед.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tff</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте кадр как верхний-поле-сначала.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>prog</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте кадр как прогрессивный.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте то же свойство цветового диапазона (по умолчанию).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>unspecified, unknown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пометить рамку как неопределенную цветовую гамму.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>limited, tv, mpeg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте кадр как ограниченный диапазон.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>full, pc, jpeg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметьте кадр как полный диапазон.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>color_primaries</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите основные цвета. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте то же свойство основных цветов (по умолчанию).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>unknown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>film</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte428</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte431</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte432</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>jedec-p22</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>color_trc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите передачу цвета. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте свойство trc того же цвета (по умолчанию).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>unknown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log100</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log316</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>iec61966-2-4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt1361e</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>iec61966-2-1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020-10</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020-12</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte2084</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte428</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>arib-std-b67</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>colorspace</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовое пространство. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте то же свойство цветового пространства (по умолчанию).
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gbr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>unknown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fcc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ycgco</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020nc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020c</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte2085</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>chroma-derived-nc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>chroma-derived-c</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ictcp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
</dd>
</dl>

<span id="sharpen_005fnpp"></span><h3 class="section"><code><a href="#toc-sharpen_005fnpp">11.221 sharpen_npp</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте примитивы производительности NVIDIA (libnpp) для повышения резкости изображения с контролем границ.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принимаются следующие дополнительные опции:
</font></font></p><dl compact="compact">
<dt><samp><code>border_type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип выборки, который будет использоваться для границ рекламного фрейма. </font><font style="vertical-align: inherit;">Одно из следующего:
</font></font></p><dl compact="compact">
<dt><samp><code>replicate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повторяйте значения пикселей.
</font></font></p>
</dd>
</dl>
</dd>
</dl>

<span id="shear"></span><h3 class="section"><code><a href="#toc-shear">11.222 shear</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените сдвиговое преобразование к входному видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>shx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент сдвига в направлении X. </font><font style="vertical-align: inherit;">Значение по умолчанию 0. Допустимый диапазон от -2 до 2.
</font></font></p>
</dd>
<dt><samp><code>shy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Коэффициент сдвига в направлении Y. </font><font style="vertical-align: inherit;">Значение по умолчанию 0. Допустимый диапазон от -2 до 2.
</font></font></p>
</dd>
<dt><samp><code>fillcolor, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет, используемый для заполнения выходной области, не покрытой преобразованным видео. </font><font style="vertical-align: inherit;">Общий синтаксис этой опции см. в разделе
 </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Если выбрано специальное значение «none», фон не печатается (полезно, например, если фон никогда не отображается).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — «черный».
</font></font></p>
</dd>
<dt><samp><code>interp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип интерполяции. </font><font style="vertical-align: inherit;">Можно </font></font><code>bilinear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>nearest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>bilinear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Commands-138"></span><h4 class="subsection"><a href="#toc-Commands-138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.222.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="showinfo"></span><h3 class="section"><code><a href="#toc-showinfo">11.223 showinfo</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать строку, содержащую различную информацию для каждого входного видеокадра. </font><font style="vertical-align: inherit;">Входное видео не изменяется.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>checksum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислить контрольные суммы каждой плоскости. </font><font style="vertical-align: inherit;">По умолчанию включено.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показанная строка содержит последовательность пар ключ/значение вида
 </font></font><var><code>key</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">На выходе отображаются следующие значения:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер входного кадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени представления входного кадра, выраженная в виде количества базовых единиц времени. </font><font style="vertical-align: inherit;">Базовая единица времени зависит от входной площадки фильтра.
</font></font></p>
</dd>
<dt><samp><code>pts_time</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени представления входного кадра, выраженная в секундах.
</font></font></p>
</dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Позиция кадра во входном потоке или -1, если эта информация недоступна и/или бессмысленна (например, в случае синтетического видео).
</font></font></p>
</dd>
<dt><samp><code>fmt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имя формата пикселей.
</font></font></p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образец соотношения сторон входного кадра, выраженный в форме
 </font></font><var><code>num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер входного кадра. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип чересстрочного режима («P» — «прогрессивный», «T» — сначала верхнее поле, «B» — сначала нижнее поле).
</font></font></p>
</dd>
<dt><samp><code>iskey</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это 1, если кадр является ключевым кадром, 0 в противном случае.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип изображения входного кадра ("I" для I-кадра, "P" для P-кадра, "B" для B-кадра или "?" для неизвестного типа). </font><font style="vertical-align: inherit;">Также обратитесь к документации </font></font><code>AVPictureType</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">перечисления и </font></font><code>av_get_picture_type_char</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">функции, определенной в
</font></font><samp><code>libavutil/avutil.h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>checksum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контрольная сумма Adler-32 (в шестнадцатеричном формате) всех плоскостей входного кадра.
</font></font></p>
</dd>
<dt><samp><code>plane_checksum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Контрольная сумма Adler-32 (в шестнадцатеричном формате) каждой плоскости входного кадра, выраженная в виде «[ </font><font style="vertical-align: inherit;">]».
</font></font><var><code>c0</code></var> <var><code>c1</code></var> <var><code>c2</code></var> <var><code>c3</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>mean</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Среднее значение пикселей в каждой плоскости входного кадра, выраженное в виде «[ </font><font style="vertical-align: inherit;">]».
</font></font><var><code>mean0</code></var> <var><code>mean1</code></var> <var><code>mean2</code></var> <var><code>mean3</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>stdev</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стандартное отклонение значений пикселей в каждой плоскости входного кадра, выраженное в виде «[ </font><font style="vertical-align: inherit;">]».
</font></font><var><code>stdev0</code></var> <var><code>stdev1</code></var> <var><code>stdev2</code></var> <var><code>stdev3</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
</dl>

<span id="showpalette"></span><h3 class="section"><code><a href="#toc-showpalette">11.224 showpalette</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображает палитру из 256 цветов каждого кадра. </font><font style="vertical-align: inherit;">Этот фильтр актуален только для
 </font></font><var><code>pal8</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадров пиксельного формата.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер поля, используемого для представления одной записи цвета палитры. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>30</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(для </font></font><code>30x30</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пиксельного поля).
</font></font></p></dd>
</dl>

<span id="shuffleframes"></span><h3 class="section"><code><a href="#toc-shuffleframes">11.225 shuffleframes</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить порядок и/или дублировать и/или удалить видеокадры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mapping</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите целевые индексы входных кадров. </font><font style="vertical-align: inherit;">Это пробел или '|' </font><font style="vertical-align: inherit;">разделенный список индексов, который сопоставляет входные кадры с выходными кадрами. </font><font style="vertical-align: inherit;">Количество индексов также устанавливает максимальное значение, которое может иметь каждый индекс. </font><font style="vertical-align: inherit;">Индекс «-1» имеет особое значение и означает пропуск кадров.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первый кадр имеет индекс 0. По умолчанию ввод остается неизменным.
</font></font></p>
<span id="Examples-113"></span><h4 class="subsection"><a href="#toc-Examples-113"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.225.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменяйте местами второй и третий кадры каждых трех кадров ввода:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -vf "shuffleframes=0 2 1" OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменяйте местами 10-й и 1-й кадры каждых десяти кадров ввода:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -vf "shuffleframes=9 1 2 3 4 5 6 7 8 0" OUTPUT
</code></pre></div>
</li></ul>

<span id="shufflepixels"></span><h3 class="section"><code><a href="#toc-shufflepixels">11.226 shufflepixels</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменение порядка пикселей в видеокадрах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>direction, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить направление перемешивания. </font><font style="vertical-align: inherit;">Может быть прямое или обратное направление. </font><font style="vertical-align: inherit;">Направление по умолчанию — вперед.
</font></font></p>
</dd>
<dt><samp><code>mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим воспроизведения в случайном порядке. </font><font style="vertical-align: inherit;">Может быть горизонтальным, вертикальным или блочным режимом.
</font></font></p>
</dd>
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер блока для перемешивания. </font><font style="vertical-align: inherit;">В случае режима горизонтального перемешивания используется только часть ширины по ширине, а в режиме вертикального перемешивания используется только часть размера по высоте.
</font></font></p>
</dd>
<dt><samp><code>seed, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите случайное начальное число, используемое при перетасовке пикселей. </font><font style="vertical-align: inherit;">В основном полезно установить, чтобы иметь возможность обратить процесс фильтрации, чтобы получить исходный ввод. </font><font style="vertical-align: inherit;">Например, для обратного перемешивания в прямом направлении вам нужно использовать те же параметры и точно такое же начальное число, а также установить обратное направление.
</font></font></p></dd>
</dl>

<span id="shuffleplanes"></span><h3 class="section"><code><a href="#toc-shuffleplanes">11.227 shuffleplanes</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменение порядка и/или дублирование видеоплоскостей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>map0</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Индекс входной плоскости, которая будет использоваться в качестве первой выходной плоскости.
</font></font></p>
</dd>
<dt><samp><code>map1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Индекс входной плоскости, которая будет использоваться в качестве второй выходной плоскости.
</font></font></p>
</dd>
<dt><samp><code>map2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Индекс входной плоскости, которая будет использоваться в качестве третьей выходной плоскости.
</font></font></p>
</dd>
<dt><samp><code>map3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Индекс входной плоскости, которая будет использоваться в качестве четвертой выходной плоскости.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первая плоскость имеет индекс 0. По умолчанию ввод не изменяется.
</font></font></p>
<span id="Examples-114"></span><h4 class="subsection"><a href="#toc-Examples-114"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.227.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменяйте местами вторую и третью плоскости ввода:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -vf shuffleplanes=0:2:1:3 OUTPUT
</code></pre></div>
</li></ul>

<span id="signalstats"></span><span id="signalstats-1"></span><h3 class="section"><code><a href="#toc-signalstats-1">11.228 signalstats</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оценивайте различные визуальные метрики, помогающие определить проблемы, связанные с оцифровкой аналоговых видеоносителей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию фильтр регистрирует следующие значения метаданных:
</font></font></p>
<dl compact="compact">
<dt><samp><code>YMIN</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите минимальное значение Y, содержащееся во входном фрейме. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>YLOW</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите значение Y в процентиле 10% во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>YAVG</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите среднее значение Y в пределах входного кадра. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>YHIGH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите значение Y в процентиле 90% во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>YMAX</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите максимальное значение Y, содержащееся во входном фрейме. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>UMIN</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите минимальное значение U, содержащееся во входном фрейме. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>ULOW</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите значение U в 10%-м процентиле во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>UAVG</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите среднее значение U в пределах входного кадра. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>UHIGH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите значение U в процентиле 90% во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>UMAX</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите максимальное значение U, содержащееся во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>VMIN</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите минимальное значение V, содержащееся во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>VLOW</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите значение V в 10%-м процентиле во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>VAVG</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите среднее значение V в пределах входного кадра. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>VHIGH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите значение V в процентиле 90% во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>VMAX</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите максимальное значение V, содержащееся во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>SATMIN</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите минимальное значение насыщенности, содержащееся во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0–~181,02].
</font></font></p>
</dd>
<dt><samp><code>SATLOW</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите значение насыщенности в процентиле 10% во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0–~181,02].
</font></font></p>
</dd>
<dt><samp><code>SATAVG</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение среднего значения насыщенности в пределах входного кадра. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0–~181,02].
</font></font></p>
</dd>
<dt><samp><code>SATHIGH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите значение насыщенности в процентиле 90% во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0–~181,02].
</font></font></p>
</dd>
<dt><samp><code>SATMAX</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите максимальное значение насыщенности, содержащееся во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0–~181,02].
</font></font></p>
</dd>
<dt><samp><code>HUEMED</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите среднее значение оттенка во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-360].
</font></font></p>
</dd>
<dt><samp><code>HUEAVG</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение среднего значения оттенка во входном кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-360].
</font></font></p>
</dd>
<dt><samp><code>YDIF</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите среднее значение разницы выборочных значений между всеми значениями плоскости Y в текущем кадре и соответствующими значениями предыдущего входного кадра. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>UDIF</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите среднее значение разницы выборочных значений между всеми значениями плоскости U в текущем кадре и соответствующими значениями предыдущего входного кадра. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>VDIF</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите среднее значение разницы выборочных значений между всеми значениями плоскости V в текущем кадре и соответствующими значениями предыдущего входного кадра. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-255].
</font></font></p>
</dd>
<dt><samp><code>YBITDEPTH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение разрядности плоскости Y в текущем кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-16].
</font></font></p>
</dd>
<dt><samp><code>UBITDEPTH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение разрядности плоскости U в текущем кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-16].
</font></font></p>
</dd>
<dt><samp><code>VBITDEPTH</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение разрядности плоскости V в текущем кадре. </font><font style="vertical-align: inherit;">Выражается в диапазоне [0-16].
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>stat</code></samp></dt>
<dt><samp><code>out</code></samp></dt>
<dd>
<p><samp><code>stat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указать дополнительную форму анализа изображения.
</font></font><samp><code>out</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вывод видео с выделенным типом пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба параметра принимают следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tout</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите </font></font><var><code>temporal outliers</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пиксели. </font><font style="vertical-align: inherit;">A </font></font><var><code>temporal outlier</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— пиксель, не похожий на соседние пиксели того же поля. </font><font style="vertical-align: inherit;">Примеры временных выбросов включают результаты пропадания видео, засорения головок или проблем с отслеживанием ленты.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vrep</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определить </font></font><var><code>vertical line repetition</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Повторение вертикальных строк включает в себя одинаковые ряды пикселей внутри кадра. </font><font style="vertical-align: inherit;">В рожденном цифровым видео повторение вертикальных строк является обычным явлением, но эта картина необычна для видео, оцифрованного с аналогового источника. </font><font style="vertical-align: inherit;">Когда это происходит в видео, полученном в результате оцифровки аналогового источника, это может указывать на маскировку из-за компенсатора выпадения.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>brng</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определите пиксели, выходящие за пределы допустимого диапазона вещания.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>color, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет выделения для</font></font><samp><code>out</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант. </font><font style="vertical-align: inherit;">Цвет по умолчанию желтый.
</font></font></p></dd>
</dl>

<span id="Examples-115"></span><h4 class="subsection"><a href="#toc-Examples-115"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.228.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходные данные различных метрик видео:
</font></font><div class="example">
<pre class="example"><code>ffprobe -f lavfi movie=example.mov,signalstats="stat=tout+vrep+brng" -show_frames
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вывести конкретные данные о минимальном и максимальном значениях плоскости Y на кадр:
</font></font><div class="example">
<pre class="example"><code>ffprobe -f lavfi movie=example.mov,signalstats -show_entries frame_tags=lavfi.signalstats.YMAX,lavfi.signalstats.YMIN
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Воспроизведение видео с выделением пикселов, выходящих за пределы диапазона трансляции, красным цветом.
</font></font><div class="example">
<pre class="example"><code>ffplay example.mov -vf signalstats="out=brng:color=red"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Воспроизведение видео с метаданными signalstats, нарисованными поверх кадра.
</font></font><div class="example">
<pre class="example"><code>ffplay example.mov -vf signalstats=stat=brng+vrep+tout,drawtext=fontfile=FreeSerif.ttf:textfile=signalstat_drawtext.txt
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Содержимое signalstat_drawtext.txt, используемое в команде:
</font></font></p><div class="example">
<pre class="example"><code>time %{pts:hms}<font></font>
Y (%{metadata:lavfi.signalstats.YMIN}-%{metadata:lavfi.signalstats.YMAX})<font></font>
U (%{metadata:lavfi.signalstats.UMIN}-%{metadata:lavfi.signalstats.UMAX})<font></font>
V (%{metadata:lavfi.signalstats.VMIN}-%{metadata:lavfi.signalstats.VMAX})<font></font>
saturation maximum: %{metadata:lavfi.signalstats.SATMAX}<font></font>
<font></font>
</code></pre></div>
</li></ul>

<span id="signature"></span><span id="signature-1"></span><h3 class="section"><code><a href="#toc-signature-1">11.229 signature</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисляет видеосигнатуру MPEG-7. </font><font style="vertical-align: inherit;">Фильтр может обрабатывать более одного входа. </font><font style="vertical-align: inherit;">В этом случае соответствие между входами может быть рассчитано дополнительно. </font><font style="vertical-align: inherit;">Фильтр всегда проходит через первый вход. </font><font style="vertical-align: inherit;">Подпись каждого потока может быть записана в файл.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>detectmode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите или отключите процесс сопоставления.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>off</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключить вычисление соответствия (по умолчанию).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>full</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите соответствие для всего видео и выведите, соответствует ли оно всему видео или только его частям.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fast</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисляйте только до тех пор, пока не будет найдено совпадение или видео не закончится. </font><font style="vertical-align: inherit;">В некоторых случаях должно быть быстрее.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>nb_inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество входов. </font><font style="vertical-align: inherit;">Значение параметра должно быть неотрицательным целым числом. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p>
</dd>
<dt><samp><code>filename</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите путь, по которому записывается вывод. </font><font style="vertical-align: inherit;">Если имеется более одного входа, путь должен быть прототипом, т.е. должен содержать %d или %0nd (где n — целое положительное число), которые будут заменены номером входа. </font><font style="vertical-align: inherit;">Если имя файла не указано, вывод не будет записан. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите выходной формат.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>binary</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте указанное двоичное представление (по умолчанию).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>xml</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте указанное представление xml.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>th_d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог, чтобы определить одно слово как похожее. </font><font style="vertical-align: inherit;">Значение параметра должно быть целым числом больше нуля. </font><font style="vertical-align: inherit;">Значение по умолчанию — 9000.
</font></font></p>
</dd>
<dt><samp><code>th_dc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог для обнаружения всех слов как похожих. </font><font style="vertical-align: inherit;">Значение параметра должно быть целым числом больше нуля. </font><font style="vertical-align: inherit;">Значение по умолчанию — 60000.
</font></font></p>
</dd>
<dt><samp><code>th_xh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог для обнаружения кадров как похожих. </font><font style="vertical-align: inherit;">Значение параметра должно быть целым числом больше нуля. </font><font style="vertical-align: inherit;">Значение по умолчанию — 116.
</font></font></p>
</dd>
<dt><samp><code>th_di</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальную длину последовательности в кадрах, чтобы распознать ее как совпадающую последовательность. </font><font style="vertical-align: inherit;">Значение параметра должно быть неотрицательным целым числом. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>th_it</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальное отношение, которое должны иметь совпадающие кадры со всеми кадрами. </font><font style="vertical-align: inherit;">Значение параметра должно быть двойным значением от 0 до 1. Значение по умолчанию — 0,5.
</font></font></p></dd>
</dl>

<span id="Examples-116"></span><h4 class="subsection"><a href="#toc-Examples-116"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.229.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы вычислить подпись входного видео и сохранить ее в signal.bin:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mkv -vf signature=filename=signature.bin -map 0:v -f null -
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы определить, совпадают ли два видео, и сохранить подписи в формате XML в signal0.xml и signal1.xml:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input1.mkv -i input2.mkv -filter_complex "[0:v][1:v] signature=nb_inputs=2:detectmode=full:format=xml:filename=signature%d.xml" -map :v -f null -
</code></pre></div>

</li></ul>

<span id="siti"></span><span id="siti-1"></span><h3 class="section"><code><a href="#toc-siti-1">11.230 siti</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите оценки пространственной информации (SI) и временной информации (TI) для видео, как определено в ITU-T P.910: Методы субъективной оценки качества видео для мультимедийных приложений. </font><font style="vertical-align: inherit;">Доступен в формате PDF по адресу </font></font><a href="https://www.itu.int/rec/T-REC-P.910-199909-S/en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.itu.int/rec/T-REC-P.910-199909-S/en</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>print_summary</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, сводная статистика будет выведена на консоль. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p></dd>
</dl>

<span id="Examples-117"></span><h4 class="subsection"><a href="#toc-Examples-117"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.230.1 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы рассчитать показатели SI/TI и распечатать сводку:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mp4 -vf siti=print_summary=1 -f null -
</code></pre></div>
</li></ul>

<span id="smartblur"></span><span id="smartblur-1"></span><h3 class="section"><code><a href="#toc-smartblur-1">11.231 smartblur</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размывайте входное видео, не затрагивая контуры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_radius, lr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус яркости. </font><font style="vertical-align: inherit;">Значение параметра должно быть числом с плавающей запятой в диапазоне [0,1,5,0], указывающим дисперсию гауссового фильтра, используемого для размытия изображения (медленнее, чем больше). </font><font style="vertical-align: inherit;">Значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>luma_strength, ls</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу яркости. </font><font style="vertical-align: inherit;">Значение параметра должно быть числом с плавающей запятой в диапазоне [-1.0,1.0], которое настраивает размытие. </font><font style="vertical-align: inherit;">Значение, включенное в [0.0,1.0], будет размывать изображение, тогда как значение, включенное в [-1.0,0.0], сделает изображение более четким. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>luma_threshold, lt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог яркости, используемый в качестве коэффициента, чтобы определить, должен ли пиксель быть размытым или нет. </font><font style="vertical-align: inherit;">Значение параметра должно быть целым числом в диапазоне [-30,30]. </font><font style="vertical-align: inherit;">Значение 0 будет фильтровать все изображение, значение, включенное в [0,30], будет фильтровать плоские области, а значение, включенное в [-30,0], будет фильтровать края. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>chroma_radius, cr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус цветности. </font><font style="vertical-align: inherit;">Значение параметра должно быть числом с плавающей запятой в диапазоне [0,1,5,0], указывающим дисперсию гауссового фильтра, используемого для размытия изображения (медленнее, чем больше). </font><font style="vertical-align: inherit;">Значение по умолчанию</font></font><samp><code>luma_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>chroma_strength, cs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу цветности. </font><font style="vertical-align: inherit;">Значение параметра должно быть числом с плавающей запятой в диапазоне [-1.0,1.0], которое настраивает размытие. </font><font style="vertical-align: inherit;">Значение, включенное в [0.0,1.0], будет размывать изображение, тогда как значение, включенное в [-1.0,0.0], сделает изображение более четким. </font><font style="vertical-align: inherit;">Значение по умолчанию</font></font><samp><code>luma_strength</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>chroma_threshold, ct</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порог цветности, используемый в качестве коэффициента, чтобы определить, должен ли пиксель быть размытым или нет. </font><font style="vertical-align: inherit;">Значение параметра должно быть целым числом в диапазоне [-30,30]. </font><font style="vertical-align: inherit;">Значение 0 будет фильтровать все изображение, значение, включенное в [0,30], будет фильтровать плоские области, а значение, включенное в [-30,0], будет фильтровать края. </font><font style="vertical-align: inherit;">Значение по умолчанию</font></font><samp><code>luma_threshold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если параметр цветности не задан явно, устанавливается соответствующее значение яркости.
</font></font></p>
<span id="sobel"></span><h3 class="section"><code><a href="#toc-sobel">11.232 sobel</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить оператор sobel к входному видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны, необработанные плоскости будут скопированы. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет умножено на отфильтрованный результат.
</font></font></p>
</dd>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет добавлено к отфильтрованному результату.
</font></font></p></dd>
</dl>

<span id="Commands-139"></span><h4 class="subsection"><a href="#toc-Commands-139"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.232.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="spp"></span><span id="spp-1"></span><h3 class="section"><code><a href="#toc-spp-1">11.233 spp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените простой фильтр постобработки, сжимающий и распаковывающий изображение в несколько (или - в случае</font></font><samp><code>quality</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">уровень </font></font><code>6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- все) сдвиги и средние результаты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>quality</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить качество. </font><font style="vertical-align: inherit;">Эта опция определяет количество уровней для усреднения. </font><font style="vertical-align: inherit;">Он принимает целое число в диапазоне 0-6. </font><font style="vertical-align: inherit;">Если установлено значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, фильтр не будет действовать. </font><font style="vertical-align: inherit;">Значение </font></font><code>6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">означает более высокое качество. </font><font style="vertical-align: inherit;">Для каждого приращения этого значения скорость падает примерно в 2 раза. Значение по умолчанию —
 </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите постоянный параметр квантования. </font><font style="vertical-align: inherit;">Если не установлено, фильтр будет использовать QP из видеопотока (если он доступен).
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговый режим. </font><font style="vertical-align: inherit;">Доступные режимы:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hard</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить жесткое пороговое значение (по умолчанию).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>soft</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите мягкое пороговое значение (лучший эффект устранения звона, но, вероятно, более размытый).
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>use_bframe_qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите использование QP из B-кадров, если установлено значение </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Использование этой опции может вызвать мерцание, так как B-кадры часто имеют большее значение QP. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(не включено).
</font></font></p></dd>
</dl>

<span id="Commands-140"></span><h4 class="subsection"><a href="#toc-Commands-140"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.233.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>quality, level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите уровень качества. </font><font style="vertical-align: inherit;">Значение </font></font><code>max</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может использоваться для установки максимального уровня, в настоящее время </font></font><code>6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="sr"></span><span id="sr-1"></span><h3 class="section"><code><a href="#toc-sr-1">11.234 sr</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте ввод, применяя один из методов сверхвысокого разрешения на основе сверточных нейронных сетей. </font><font style="vertical-align: inherit;">Поддерживаемые модели:
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Модель сверточной нейронной сети сверхвысокого разрешения (SRCNN). </font><font style="vertical-align: inherit;">См . </font></font><a href="https://arxiv.org/abs/1501.00092"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://arxiv.org/abs/1501.00092</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .

</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Модель эффективной субпиксельной сверточной нейронной сети (ESPCN). </font><font style="vertical-align: inherit;">См . </font></font><a href="https://arxiv.org/abs/1609.05158"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://arxiv.org/abs/1609.05158</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скрипты обучения, а также скрипты для сохранения файла модели (.pb) можно найти по адресу
 </font></font><a href="https://github.com/XueweiMeng/sr/tree/sr_dnn_native"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/XueweiMeng/sr/tree/sr_dnn_native</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Оригинальный репозиторий находится по адресу </font></font><a href="https://github.com/HighVoltageRocknRoll/sr.git"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/HighVoltageRocknRoll/sr.git</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Файлы собственных моделей (.model) можно создавать из файлов моделей TensorFlow (.pb) с помощью tools/python/convert.py.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dnn_backend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какой сервер DNN использовать для загрузки и выполнения модели. </font><font style="vertical-align: inherit;">Эта опция принимает следующие значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>native</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нативная реализация загрузки и выполнения DNN.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tensorflow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Бэкэнд TensorFlow. </font><font style="vertical-align: inherit;">Чтобы включить этот бэкенд, вам необходимо установить библиотеку TensorFlow для C (см.
 </font></font><a href="https://www.tensorflow.org/install/lang_c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.tensorflow.org/install/lang_c</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) и настроить FFmpeg с помощью
</font></font><code>--enable-libtensorflow</code>
</p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>native</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>model</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к файлу модели, указав сетевую архитектуру и ее параметры. </font><font style="vertical-align: inherit;">Обратите внимание, что разные серверные части используют разные форматы файлов. </font><font style="vertical-align: inherit;">Бэкэнд TensorFlow может загружать файлы для обоих форматов, в то время как собственный бэкэнд может загружать файлы только для своего формата.
</font></font></p>
</dd>
<dt><samp><code>scale_factor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент масштабирования для модели SRCNN. </font><font style="vertical-align: inherit;">Допустимые значения </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Масштабный коэффициент необходим для модели SRCNN, потому что она принимает входные данные, увеличенные с использованием бикубического масштабирования с надлежащим масштабным коэффициентом.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы получить полную функциональность (например, асинхронное выполнение), используйте фильтр </font></font><a href="#dnn_005fprocessing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnn_processing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="ssim"></span><h3 class="section"><code><a href="#toc-ssim">11.235 ssim</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите SSIM (показатель структурного сходства) между двумя входными видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает на вход два входных видео, первый вход считается «основным» источником и без изменений передается на выход. </font><font style="vertical-align: inherit;">Второй вход используется как «эталонное» видео для вычисления SSIM.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба видеовхода должны иметь одинаковое разрешение и формат пикселей, чтобы этот фильтр работал правильно. </font><font style="vertical-align: inherit;">Также предполагается, что оба входа имеют одинаковое количество кадров, которые сравниваются один за другим.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр сохраняет рассчитанный SSIM каждого кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых параметров.
</font></font></p>
<dl compact="compact">
<dt><samp><code>stats_file, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указано, фильтр будет использовать именованный файл для сохранения SSIM каждого отдельного кадра. </font><font style="vertical-align: inherit;">Когда имя файла равно "-", данные отправляются на стандартный вывод.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Печатаемый файл, если </font></font><var><code>stats_file</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">он выбран, содержит последовательность пар ключ/значение вида </font></font><var><code>key</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для каждой сравниваемой пары кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приводится описание каждого отображаемого параметра:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">порядковый номер входного кадра, начиная с 1
</font></font></p>
</dd>
<dt><samp><code>Y, U, V, R, G, B</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSIM сравниваемых кадров для компонента, указанного суффиксом.
</font></font></p>
</dd>
<dt><samp><code>All</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSIM сравниваемых кадров для всего кадра.
</font></font></p>
</dd>
<dt><samp><code>dB</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но в дБ.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-118"></span><h4 class="subsection"><a href="#toc-Examples-118"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.235.1 Примеры</font></font></a></h4>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например:
</font></font><div class="example">
<pre class="example"><code>movie=ref_movie.mpg, setpts=PTS-STARTPTS [main];<font></font>
[main][ref] ssim="stats_file=stats.log" [out]<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В этом примере обрабатываемый входной файл сравнивается с эталонным файлом.</font></font><samp><code>ref_movie.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">SSIM каждого отдельного кадра хранится в</font></font><samp><code>stats.log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Другой пример с psnr и ssim одновременно:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i main.mpg -i ref.mpg -lavfi  "ssim;[0:v][1:v]psnr" -f null -
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Другой пример с разными контейнерами:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i main.mpg -i ref.mkv -lavfi  "[0:v]settb=AVTB,setpts=PTS-STARTPTS[main];[1:v]settb=AVTB,setpts=PTS-STARTPTS[ref];[main][ref]ssim" -f null -
</code></pre></div>
</li></ul>

<span id="stereo3d"></span><h3 class="section"><code><a href="#toc-stereo3d">11.236 stereo3d</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование между различными форматами стереоскопического изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтры принимают следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат входного стереоскопического изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения для форматов входного изображения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbsl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">бок о бок параллельно (левый глаз левый, правый глаз правый)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbsr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">бок о бок перекрестие (правый глаз влево, левый глаз вправо)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbs2l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">бок о бок параллельно с разрешением половинной ширины (левый глаз слева, правый глаз справа)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbs2r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параллельное перекрестие с разрешением половинной ширины (правый глаз слева, левый глаз справа)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>abl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tbl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вверху-внизу (левый глаз вверху, правый глаз внизу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>abr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tbr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сверху-снизу (правый глаз сверху, левый снизу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ab2l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tb2l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сверху-снизу с половинным разрешением по высоте (левый глаз вверху, правый глаз внизу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ab2r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tb2r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сверху-снизу с половинным разрешением по высоте (правый глаз вверху, левый глаз внизу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>al</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся кадры (сначала левый глаз, потом правый глаз)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ar</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся кадры (сначала правый глаз, потом левый глаз)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>irl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся строки (левый глаз имеет верхний ряд, правый глаз начинается со следующего ряда)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>irr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся строки (правый глаз имеет верхний ряд, левый глаз начинается со следующего ряда)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>icl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся столбцы, левый глаз вперед
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>icr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся столбцы, правый глаз вперед
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>sbsl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>out</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите формат стереоскопического изображения для вывода.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbsl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">бок о бок параллельно (левый глаз левый, правый глаз правый)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbsr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">бок о бок перекрестие (правый глаз влево, левый глаз вправо)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbs2l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">бок о бок параллельно с разрешением половинной ширины (левый глаз слева, правый глаз справа)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbs2r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параллельное перекрестие с разрешением половинной ширины (правый глаз слева, левый глаз справа)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>abl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tbl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вверху-внизу (левый глаз вверху, правый глаз внизу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>abr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tbr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сверху-снизу (правый глаз сверху, левый снизу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ab2l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tb2l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сверху-снизу с половинным разрешением по высоте (левый глаз вверху, правый глаз внизу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ab2r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tb2r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сверху-снизу с половинным разрешением по высоте (правый глаз вверху, левый глаз внизу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>al</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся кадры (сначала левый глаз, потом правый глаз)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ar</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся кадры (сначала правый глаз, потом левый глаз)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>irl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся строки (левый глаз имеет верхний ряд, правый глаз начинается со следующего ряда)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>irr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся строки (правый глаз имеет верхний ряд, левый глаз начинается со следующего ряда)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>arbg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглиф красный/сине-серый (красный фильтр на левый глаз, синий фильтр на правый глаз)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>argg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглиф красный/зелено-серый (красный фильтр на левый глаз, зеленый фильтр на правый глаз)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>arcg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглиф красный/голубой серый (красный фильтр на левом глазу, голубой фильтр на правом глазу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>arch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглифный красный/голубой полуцвет (красный фильтр на левом глазу, голубой фильтр на правом глазу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>arcc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглифный красный/голубой цвет (красный фильтр для левого глаза, голубой фильтр для правого глаза)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>arcd</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглифный красный/голубой цвет, оптимизированный с помощью проекции Дюбуа методом наименьших квадратов (красный фильтр для левого глаза, голубой фильтр для правого глаза)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>agmg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглифный зеленый/пурпурно-серый (зеленый фильтр на левом глазу, пурпурный фильтр на правом глазу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>agmh</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглифный зеленый/пурпурный полуцвет (зеленый фильтр на левом глазу, пурпурный фильтр на правом глазу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>agmc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглифный зеленый/пурпурный цвет (зеленый фильтр на левом глазу, пурпурный фильтр на правом глазу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>agmd</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглифный зеленый/пурпурный цвет, оптимизированный с помощью проекции Дюбуа методом наименьших квадратов (зеленый фильтр для левого глаза, пурпурный фильтр для правого глаза)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>aybg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглиф желтый/сине-серый (желтый фильтр на левом глазу, синий фильтр на правом глазу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>aybh</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглиф желто-синий наполовину окрашенный (желтый фильтр на левый глаз, синий фильтр на правый глаз)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>aybc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглиф желтого/синего цвета (желтый фильтр на левом глазу, синий фильтр на правом глазу)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>aybd</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">анаглифный желтый/синий цвет, оптимизированный с помощью проекции Дюбуа методом наименьших квадратов (желтый фильтр для левого глаза, синий фильтр для правого глаза)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ml</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">моно выход (только для левого глаза)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">моно выход (только для правого глаза)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>chl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">шахматная доска, левый глаз вперед
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>chr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">шахматная доска, правый глаз вперед
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>icl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся столбцы, левый глаз вперед
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>icr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чередующиеся столбцы, правый глаз вперед
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hdmi</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пакет кадров HDMI
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>arcd</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

<span id="Examples-119"></span><h4 class="subsection"><a href="#toc-Examples-119"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.236.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование входного видео из параллельного анаглифического желтого / синего дюбуа:
</font></font><div class="example">
<pre class="example"><code>stereo3d=sbsl:aybd
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование входного видео сверху вниз (левый глаз вверху, правый глаз внизу) в параллельное перекрестие.
</font></font><div class="example">
<pre class="example"><code>stereo3d=abl:sbsr
</code></pre></div>
</li></ul>

<span id="streamselect_002c-astreamselect"></span><h3 class="section"><code><a href="#toc-streamselect_002c-astreamselect">11.237 streamselect, astreamselect</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите видео- или аудиопотоки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить количество входов. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>map</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входные индексы для переназначения на выходы.
</font></font></p></dd>
</dl>

<span id="Commands-141"></span><h4 class="subsection"><a href="#toc-Commands-141"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.237.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>streamselect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>astreamselect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">поддерживает следующие команды:
</font></font></p>
<dl compact="compact">
<dt><samp><code>map</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входные индексы для переназначения на выходы.
</font></font></p></dd>
</dl>

<span id="Examples-120"></span><h4 class="subsection"><a href="#toc-Examples-120"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.237.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите первые 5 секунд 1-го потока и остальное время 2-го потока:
</font></font><div class="example">
<pre class="example"><code>sendcmd='5.0 streamselect map 1',streamselect=inputs=2:map=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но для звука:
</font></font><div class="example">
<pre class="example"><code>asendcmd='5.0 astreamselect map 1',astreamselect=inputs=2:map=0
</code></pre></div>
</li></ul>

<span id="subtitles"></span><span id="subtitles-1"></span><h3 class="section"><code><a href="#toc-subtitles-1">11.238 subtitles</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте субтитры поверх входного видео, используя библиотеку libass.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-libass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Этот фильтр также требует сборки с libavcodec и libavformat для преобразования переданного файла субтитров в формат субтитров ASS (Advanced Substation Alpha).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filename, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите имя файла субтитров для чтения. </font><font style="vertical-align: inherit;">Это должно быть указано.
</font></font></p>
</dd>
<dt><samp><code>original_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер исходного видео, видео, для которого был составлен файл ASS. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Из-за неправильного расчета соотношения сторон ASS это необходимо для правильного масштабирования шрифтов, если соотношение сторон было изменено.
</font></font></p>
</dd>
<dt><samp><code>fontsdir</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте путь к каталогу, содержащему шрифты, которые могут использоваться фильтром. </font><font style="vertical-align: inherit;">Эти шрифты будут использоваться в дополнение к тому, что использует поставщик шрифтов.
</font></font></p>
</dd>
<dt><samp><code>alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Альфа-канал процесса, по умолчанию альфа-канал не изменен.
</font></font></p>
</dd>
<dt><samp><code>charenc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите кодировку символов для ввода субтитров. </font></font><code>subtitles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">только фильтр. </font><font style="vertical-align: inherit;">Полезно только если не UTF-8.
</font></font></p>
</dd>
<dt><samp><code>stream_index, si</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите индекс потока субтитров. </font></font><code>subtitles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">только фильтр.
</font></font></p>
</dd>
<dt><samp><code>force_style</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переопределить параметры стиля или информации сценария по умолчанию для субтитров. </font><font style="vertical-align: inherit;">Он принимает строку, содержащую </font></font><code>KEY=VALUE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пары форматов стиля ASS, разделенные знаком «,».
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если первый ключ не указан, предполагается, что первое значение указывает</font></font><samp><code>filename</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы отобразить файл</font></font><samp><code>sub.srt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">поверх входного видео используйте команду:
</font></font></p><div class="example">
<pre class="example"><code>subtitles=sub.srt
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">что эквивалентно:
</font></font></p><div class="example">
<pre class="example"><code>subtitles=filename=sub.srt
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы отобразить поток субтитров по умолчанию из файла</font></font><samp><code>video.mkv</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, использовать:
</font></font></p><div class="example">
<pre class="example"><code>subtitles=video.mkv
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы отобразить второй поток субтитров из этого файла, используйте:
</font></font></p><div class="example">
<pre class="example"><code>subtitles=video.mkv:si=1
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы субтитры транслировались с</font></font><samp><code>sub.srt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отображаются в 80% прозрачном синем цвете
 </font></font><code>DejaVu Serif</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, используйте:
</font></font></p><div class="example">
<pre class="example"><code>subtitles=sub.srt:force_style='Fontname=DejaVu Serif,PrimaryColour=&amp;HCCFF0000'
</code></pre></div>

<span id="super2xsai"></span><h3 class="section"><code><a href="#toc-super2xsai">11.239 super2xsai</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте входные данные в 2 раза и сгладьте их с помощью алгоритма масштабирования пиксельной графики Super2xSaI (Scale and Interpolate).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полезно для увеличения пиксельных изображений без снижения резкости.
</font></font></p>
<span id="swaprect"></span><h3 class="section"><code><a href="#toc-swaprect">11.240 swaprect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменяйте местами два прямоугольных объекта в видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину объекта.
</font></font></p>
</dd>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить высоту объекта.
</font></font></p>
</dd>
<dt><samp><code>x1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите 1-ю координату X прямоугольника.
</font></font></p>
</dd>
<dt><samp><code>y1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите 1-ю координату y прямоугольника.
</font></font></p>
</dd>
<dt><samp><code>x2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вторую координату X прямоугольника.
</font></font></p>
</dd>
<dt><samp><code>y2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите 2-ю координату прямоугольника y.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все выражения оцениваются один раз для каждого кадра.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все параметры являются выражениями, содержащими следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота.
</font></font></p>
</dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">то же, что </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>h</code></var>
</p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон входного образца
</font></font></p>
</dd>
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">входное соотношение сторон дисплея, оно такое же, как ( </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) *</font></font><var><code>sar</code></var>
</p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер входного кадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени, выраженная в секундах. </font><font style="vertical-align: inherit;">Это NAN, если отметка времени ввода неизвестна.
</font></font></p>
</dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">позиция в файле входного кадра, NAN, если неизвестно
</font></font></p></dd>
</dl>

<span id="Commands-142"></span><h4 class="subsection"><a href="#toc-Commands-142"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.240.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="swapuv"></span><h3 class="section"><code><a href="#toc-swapuv">11.241 swapuv</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменяйте местами U и V плоскость.
</font></font></p>
<span id="tblend"></span><h3 class="section"><code><a href="#toc-tblend">11.242 tblend</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешайте последовательные видеокадры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Посмотреть </font></font><a href="#blend"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">смесь</font></font></a>
</p>
<span id="telecine"></span><h3 class="section"><code><a href="#toc-telecine">11.243 telecine</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените процесс телесина к видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>first_field</code></samp></dt>
<dd><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>top, t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сначала верхнее поле
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bottom, b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сначала нижнее поле. Значение по умолчанию — </font></font><code>top</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>pattern</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Строка чисел, представляющая шаблон раскрывающегося списка, который вы хотите применить. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>23</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<div class="example">
<pre class="example"><code>Some typical patterns:<font></font>
<font></font>
NTSC output (30i):<font></font>
27.5p: 32222<font></font>
24p: 23 (classic)<font></font>
24p: 2332 (preferred)<font></font>
20p: 33<font></font>
18p: 334<font></font>
16p: 3444<font></font>
<font></font>
PAL output (25i):<font></font>
27.5p: 12222<font></font>
24p: 222222222223 ("Euro pulldown")<font></font>
16.67p: 33<font></font>
16p: 33333334<font></font>
</code></pre></div>

<span id="thistogram"></span><h3 class="section"><code><a href="#toc-thistogram">11.244 thistogram</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычислите и нарисуйте гистограмму распределения цветов для входного видео во времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В отличие от видеофильтра </font></font><a href="#histogram"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">гистограммы</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , который показывает гистограмму только одного входного кадра в определенное время, этот фильтр также показывает прошлые гистограммы количества кадров, определенного </font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцией.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисленная гистограмма представляет собой представление распределения компонентов цвета в изображении.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину вывода одноцветного компонента. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">средней ширины будет взято из входного видео. </font><font style="vertical-align: inherit;">Это также устанавливает количество пройденных гистограмм для хранения. </font><font style="vertical-align: inherit;">Допустимый диапазон: [0, 8192].
</font></font></p>
</dd>
<dt><samp><code>display_mode, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим отображения. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>stack</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Графики компонентов цвета располагаются друг под другом.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parade</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Графики компонентов цвета расположены рядом.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>overlay</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Представляет информацию, идентичную представленной в </font></font><code>parade</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, за исключением того, что графики, представляющие компоненты цвета, накладываются непосредственно друг на друга.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>stack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>levels_mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим. </font><font style="vertical-align: inherit;">Можно или </font></font><code>linear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, или </font></font><code>logarithmic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>linear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>components, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие компоненты цвета отображать. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bgopacity, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прозрачность фона. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>envelope, e</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать конверт. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>ecolor, ec</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить цвет конверта. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>gold</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>slide</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим слайдов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения для слайда:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте новую рамку, когда будет достигнута правая граница.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>replace</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Замените старые столбцы новыми.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>scroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прокрутите справа налево.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rscroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прокрутите слева направо.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>picture</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте одну картинку.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="threshold"></span><h3 class="section"><code><a href="#toc-threshold">11.245 threshold</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените пороговый эффект к видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этому фильтру требуется четыре видеопотока для выполнения пороговой обработки. </font><font style="vertical-align: inherit;">Первый поток — это поток, который мы фильтруем. </font><font style="vertical-align: inherit;">Второй поток содержит пороговые значения, третий поток содержит минимальные значения, а последний, четвертый поток содержит максимальные значения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны, необработанные плоскости будут скопированы. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, если значение компонента пикселя первого потока меньше порогового значения компонента пикселя из 2-го порогового потока, будет выбрано значение третьего потока, в противном случае будет выбрано значение компонента пикселя четвертого потока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используя фильтр источника цвета, можно выполнять различные типы пороговой обработки:
</font></font></p>
<span id="Commands-143"></span><h4 class="subsection"><a href="#toc-Commands-143"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.245.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Examples-121"></span><h4 class="subsection"><a href="#toc-Examples-121"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.245.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Двоичный порог с использованием серого цвета в качестве порога:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i 320x240.avi -f lavfi -i color=gray -f lavfi -i color=black -f lavfi -i color=white -lavfi threshold output.avi
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перевернутый двоичный порог, использующий серый цвет в качестве порога:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i 320x240.avi -f lavfi -i color=gray -f lavfi -i color=white -f lavfi -i color=black -lavfi threshold output.avi
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрезать двоичный порог, используя серый цвет в качестве порога:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i 320x240.avi -f lavfi -i color=gray -i 320x240.avi -f lavfi -i color=gray -lavfi threshold output.avi
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог до нуля, используя серый цвет в качестве порога:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i 320x240.avi -f lavfi -i color=gray -f lavfi -i color=white -i 320x240.avi -lavfi threshold output.avi
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порог инвертирован в ноль, используя серый цвет в качестве порога:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i 320x240.avi -f lavfi -i color=gray -i 320x240.avi -f lavfi -i color=white -lavfi threshold output.avi
</code></pre></div>
</li></ul>

<span id="thumbnail"></span><h3 class="section"><code><a href="#toc-thumbnail">11.246 thumbnail</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите наиболее репрезентативный кадр в заданной последовательности последовательных кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер пакета кадров для анализа; </font><font style="vertical-align: inherit;">в наборе </font></font><var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадров фильтр выберет один из них, а затем обработает следующий пакет </font></font><var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадров до конца. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поскольку фильтр отслеживает всю последовательность кадров, большее </font></font><var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
значение приведет к большему использованию памяти, поэтому высокое значение не рекомендуется.
</font></font></p>
<span id="Examples-122"></span><h4 class="subsection"><a href="#toc-Examples-122"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.246.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлеките одно изображение каждые 50 кадров:
</font></font><div class="example">
<pre class="example"><code>thumbnail=50
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример создания миниатюры с помощью </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i in.avi -vf thumbnail,scale=300:200 -frames:v 1 out.png
</code></pre></div>
</li></ul>

<span id="tile"></span><span id="tile-1"></span><h3 class="section"><code><a href="#toc-tile-1">11.247 tile</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Мозаика несколько последовательных кадров вместе.
</font></font></p>
<p><font style="vertical-align: inherit;"></font><a href="#untile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пока</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтр может сделать обратное
 </font><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>layout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте размер сетки в форме </font></font><code>COLUMNSxROWS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Диапазон до ячеек UINT_MAX. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>6x5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>nb_frames</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество кадров для рендеринга в данной области. </font><font style="vertical-align: inherit;">Оно должно быть меньше или равно </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что означает, что будет использоваться вся область.
</font></font></p>
</dd>
<dt><samp><code>margin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте поле внешней границы в пикселях. </font><font style="vertical-align: inherit;">Диапазон от 0 до 1024. По умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>padding</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите толщину внутренней границы (т.е. количество пикселей между кадрами). </font><font style="vertical-align: inherit;">Дополнительные параметры заполнения (например, различные значения для краев) см. в видеофильтре заполнения. </font><font style="vertical-align: inherit;">Диапазон от 0 до 1024. По умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет неиспользуемой области. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе
 </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>color</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— «черный».
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество кадров, которые будут перекрываться при объединении нескольких последовательных кадров. </font><font style="vertical-align: inherit;">Значение должно быть между </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>nb_frames - 1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>init_padding</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество кадров, чтобы они изначально были пустыми перед отображением первого выходного кадра. </font><font style="vertical-align: inherit;">Это определяет, как скоро будет получен первый выходной кадр. </font><font style="vertical-align: inherit;">Значение должно быть между </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>nb_frames - 1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-123"></span><h4 class="subsection"><a href="#toc-Examples-123"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.247.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создание тайлов PNG размером 8x8 из всех ключевых кадров (</font></font><samp><code>-skip_frame nokey</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) в фильме:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -skip_frame nokey -i file.avi -vf 'scale=128:72,tile=8x8' -an -vsync 0 keyframes%03d.png
</code></pre></div>
<p>The <samp><code>-vsync 0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">необходимо для предотвращения </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">дублирования каждого выходного кадра для соответствия первоначально обнаруженной частоте кадров.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображать </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">изображения в области </font></font><code>3x2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадров, с </font></font><code>7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пикселями между ними и </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пикселями начального поля, используя смешанные плоские и именованные параметры:
</font></font><div class="example">
<pre class="example"><code>tile=3x2:nb_frames=5:padding=7:margin=2
</code></pre></div>
</li></ul>

<span id="tinterlace"></span><h3 class="section"><code><a href="#toc-tinterlace">11.248 tinterlace</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выполнение различных типов чередования временных полей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кадры считаются, начиная с 1, поэтому первый входной кадр считается нечетным.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите режим чередования. </font><font style="vertical-align: inherit;">Этот параметр также может быть указан как отдельное значение. </font><font style="vertical-align: inherit;">См. ниже список значений для этой опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>merge, 0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перемещайте нечетные кадры в верхнее поле, четные — в нижнее поле, создавая кадр двойной высоты с половинной частотой кадров.
</font></font></p><div class="example">
<pre class="example"><code> ------&gt; time<font></font>
Input:<font></font>
Frame 1         Frame 2         Frame 3         Frame 4<font></font>
<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
<font></font>
Output:<font></font>
11111                           33333<font></font>
22222                           44444<font></font>
11111                           33333<font></font>
22222                           44444<font></font>
11111                           33333<font></font>
22222                           44444<font></font>
11111                           33333<font></font>
22222                           44444<font></font>
</code></pre></div>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>drop_even, 1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выводить только нечетные кадры, четные кадры отбрасываются, создавая кадр с неизменной высотой при половинной частоте кадров.
</font></font></p>
<div class="example">
<pre class="example"><code> ------&gt; time<font></font>
Input:<font></font>
Frame 1         Frame 2         Frame 3         Frame 4<font></font>
<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
<font></font>
Output:<font></font>
11111                           33333<font></font>
11111                           33333<font></font>
11111                           33333<font></font>
11111                           33333<font></font>
</code></pre></div>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>drop_odd, 2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выводить только четные кадры, нечетные кадры отбрасываются, создавая кадр с неизменной высотой при половинной частоте кадров.
</font></font></p>
<div class="example">
<pre class="example"><code> ------&gt; time<font></font>
Input:<font></font>
Frame 1         Frame 2         Frame 3         Frame 4<font></font>
<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
<font></font>
Output:<font></font>
                22222                           44444<font></font>
                22222                           44444<font></font>
                22222                           44444<font></font>
                22222                           44444<font></font>
</code></pre></div>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pad, 3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расширьте каждый кадр до полной высоты, но заполните чередующиеся линии черным цветом, создав кадр с двойной высотой при той же частоте входных кадров.
</font></font></p>
<div class="example">
<pre class="example"><code> ------&gt; time<font></font>
Input:<font></font>
Frame 1         Frame 2         Frame 3         Frame 4<font></font>
<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
<font></font>
Output:<font></font>
11111           .....           33333           .....<font></font>
.....           22222           .....           44444<font></font>
11111           .....           33333           .....<font></font>
.....           22222           .....           44444<font></font>
11111           .....           33333           .....<font></font>
.....           22222           .....           44444<font></font>
11111           .....           33333           .....<font></font>
.....           22222           .....           44444<font></font>
</code></pre></div>


</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>interleave_top, 4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чередуйте верхнее поле из нечетных кадров с нижним полем из четных кадров, создавая кадр с неизменной высотой при половинной частоте кадров.
</font></font></p>
<div class="example">
<pre class="example"><code> ------&gt; time<font></font>
Input:<font></font>
Frame 1         Frame 2         Frame 3         Frame 4<font></font>
<font></font>
11111&lt;-         22222           33333&lt;-         44444<font></font>
11111           22222&lt;-         33333           44444&lt;-<font></font>
11111&lt;-         22222           33333&lt;-         44444<font></font>
11111           22222&lt;-         33333           44444&lt;-<font></font>
<font></font>
Output:<font></font>
11111                           33333<font></font>
22222                           44444<font></font>
11111                           33333<font></font>
22222                           44444<font></font>
</code></pre></div>


</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>interleave_bottom, 5</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чередуйте нижнее поле из нечетных кадров с верхним полем из четных кадров, создавая кадр с неизменной высотой при половинной частоте кадров.
</font></font></p>
<div class="example">
<pre class="example"><code> ------&gt; time<font></font>
Input:<font></font>
Frame 1         Frame 2         Frame 3         Frame 4<font></font>
<font></font>
11111           22222&lt;-         33333           44444&lt;-<font></font>
11111&lt;-         22222           33333&lt;-         44444<font></font>
11111           22222&lt;-         33333           44444&lt;-<font></font>
11111&lt;-         22222           33333&lt;-         44444<font></font>
<font></font>
Output:<font></font>
22222                           44444<font></font>
11111                           33333<font></font>
22222                           44444<font></font>
11111                           33333<font></font>
</code></pre></div>


</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>interlacex2, 6</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Двойная частота кадров с неизменной высотой. </font><font style="vertical-align: inherit;">Вставляются кадры, каждый из которых содержит второе временное поле из предыдущего входного кадра и первое временное поле из следующего входного кадра. </font><font style="vertical-align: inherit;">Этот режим зависит от флага top_field_first. </font><font style="vertical-align: inherit;">Полезно для отображения чересстрочного видео без синхронизации поля.
</font></font></p>
<div class="example">
<pre class="example"><code> ------&gt; time<font></font>
Input:<font></font>
Frame 1         Frame 2         Frame 3         Frame 4<font></font>
<font></font>
11111           22222           33333           44444<font></font>
 11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
 11111           22222           33333           44444<font></font>
<font></font>
Output:<font></font>
11111   22222   22222   33333   33333   44444   44444<font></font>
 11111   11111   22222   22222   33333   33333   44444<font></font>
11111   22222   22222   33333   33333   44444   44444<font></font>
 11111   11111   22222   22222   33333   33333   44444<font></font>
</code></pre></div>


</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mergex2, 7</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перемещайте нечетные кадры в верхнее поле, четные — в нижнее поле, создавая кадр двойной высоты с той же частотой кадров.
</font></font></p>
<div class="example">
<pre class="example"><code> ------&gt; time<font></font>
Input:<font></font>
Frame 1         Frame 2         Frame 3         Frame 4<font></font>
<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
11111           22222           33333           44444<font></font>
<font></font>
Output:<font></font>
11111           33333           33333           55555<font></font>
22222           22222           44444           44444<font></font>
11111           33333           33333           55555<font></font>
22222           22222           44444           44444<font></font>
11111           33333           33333           55555<font></font>
22222           22222           44444           44444<font></font>
11111           33333           33333           55555<font></font>
22222           22222           44444           44444<font></font>
</code></pre></div>

</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Числовые значения устарели, но принимаются по соображениям обратной совместимости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим по умолчанию </font></font><code>merge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>flags</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите флаги, влияющие на процесс фильтрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступное значение для </font></font><var><code>flags</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p>
<dl compact="compact">
<dt><samp><code>low_pass_filter, vlpf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите линейную вертикальную фильтрацию нижних частот в фильтре. </font><font style="vertical-align: inherit;">Вертикальная низкочастотная фильтрация требуется при создании чересстрочного приемника из прогрессивного источника, который содержит высокочастотные вертикальные детали. </font><font style="vertical-align: inherit;">Фильтрация уменьшит чересстрочное «щебетание» и муаровые узоры.
</font></font></p>
</dd>
<dt><samp><code>complex_filter, cvlpf</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите сложную вертикальную фильтрацию нижних частот. </font><font style="vertical-align: inherit;">Это несколько меньше уменьшит чересстрочную развёртку и муаровые узоры, но лучше сохранит детали и субъективное впечатление резкости.
</font></font></p>
</dd>
<dt><samp><code>bypass_il</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обходите уже чересстрочные кадры, регулируйте только частоту кадров.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вертикальная низкочастотная фильтрация и обход уже чересстрочных кадров могут быть включены только для</font></font><samp><code>mode</code></samp> <var><code>interleave_top</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>interleave_bottom</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="tmedian"></span><h3 class="section"><code><a href="#toc-tmedian">11.249 tmedian</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите срединные пиксели из нескольких последовательных входных видеокадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус медианного фильтра. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от 1 до 127.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по которому обрабатываются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>percentile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите средний процентиль. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">всегда будет выбирать средние значения, тогда как </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будут выбираться минимальные значения и </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">максимальные значения.
</font></font></p></dd>
</dl>

<span id="Commands-144"></span><h4 class="subsection"><a href="#toc-Commands-144"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.249.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , за исключением параметра </font></font><code>radius</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="tmidequalizer"></span><h3 class="section"><code><a href="#toc-tmidequalizer">11.250 tmidequalizer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект Temporal Midway Video Equalization.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Midway Video Equalization корректирует последовательность видеокадров, чтобы они имели одинаковые гистограммы, сохраняя при этом их динамику в максимально возможной степени. </font><font style="vertical-align: inherit;">Это полезно, например, для сопоставления экспозиций из последовательности видеокадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>radius</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус фильтрации. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 127.
</font></font></p>
</dd>
<dt><samp><code>sigma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить фильтрацию сигмы. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это контролирует силу фильтрации. </font><font style="vertical-align: inherit;">Установка этого параметра на 0 фактически ничего не делает.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости обрабатывать. </font><font style="vertical-align: inherit;">По умолчанию это </font></font><code>15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все доступные плоскости.
</font></font></p></dd>
</dl>

<span id="tmix"></span><h3 class="section"><code><a href="#toc-tmix">11.251 tmix</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешайте последовательные видеокадры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>frames</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество последовательных кадров для микширования. </font><font style="vertical-align: inherit;">Если не указано, по умолчанию 3.
</font></font></p>
</dd>
<dt><samp><code>weights</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите вес каждого входного видеокадра. </font><font style="vertical-align: inherit;">Каждый вес отделен пробелом. </font><font style="vertical-align: inherit;">Если количество весов меньше, чем количество </font></font><var><code>frames</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">последних указанных весов, будет использоваться для всех оставшихся неустановленных весов.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите масштаб, если он установлен, он будет умножен на сумму каждого веса, умноженного на значения пикселей, чтобы получить конечное значение целевого пикселя. </font><font style="vertical-align: inherit;">По умолчанию </font></font><var><code>scale</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">автоматически масштабируется до суммы весов.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию все. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 15.
</font></font></p></dd>
</dl>

<span id="Examples-124"></span><h4 class="subsection"><a href="#toc-Examples-124"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.251.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В среднем 7 последовательных кадров:
</font></font><div class="example">
<pre class="example"><code>tmix=frames=7:weights="1 1 1 1 1 1 1"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените простую временную свертку:
</font></font><div class="example">
<pre class="example"><code>tmix=frames=3:weights="-1 3 -1"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аналогично предыдущему, но показаны только временные различия:
</font></font><div class="example">
<pre class="example"><code>tmix=frames=3:weights="-1 2 -1":scale=1
</code></pre></div>
</li></ul>

<span id="Commands-145"></span><h4 class="subsection"><a href="#toc-Commands-145"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.251.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>weights</code></samp></dt>
<dt><samp><code>scale</code></samp></dt>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синтаксис такой же, как у опции с тем же именем.
</font></font></p></dd>
</dl>

<span id="tonemap"></span><span id="tonemap-1"></span><h3 class="section"><code><a href="#toc-tonemap-1">11.252 tonemap</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвета карты тонов из разных динамических диапазонов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр ожидает данные с плавающей запятой одинарной точности, так как он должен работать (и может выводить) со значениями вне допустимого диапазона. </font><font style="vertical-align: inherit;">Другой фильтр, например
 </font></font><a href="#zscale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zscale</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , необходим для преобразования результирующего кадра в пригодный для использования формат.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Реализованные алгоритмы тональной компрессии работают только с линейным светом, поэтому входные данные должны быть заранее линеаризованы (и, возможно, правильно помечены).
</font></font></p>
<div class="example">
<pre class="example"><code>ffmpeg -i INPUT -vf zscale=transfer=linear,tonemap=clip,zscale=transfer=bt709,format=yuv420p OUTPUT
</code></pre></div>

<span id="Options-3"></span><h4 class="subsection"><a href="#toc-Options-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.252.1 Опции</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры.
</font></font></p>
<dl compact="compact">
<dt><samp><code>tonemap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите алгоритм карты тонов для использования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>none</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не применяйте карту тонов, а только обесцветьте слишком яркие пиксели.
</font></font></p>
</dd>
<dt><var><code>clip</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Жестко обрежьте любые значения, выходящие за пределы допустимого диапазона. </font><font style="vertical-align: inherit;">Используйте его для идеальной точности цветопередачи для значений в пределах диапазона и искажения значений вне диапазона.
</font></font></p>
</dd>
<dt><var><code>linear</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Растяните всю эталонную гамму до линейного кратного размера дисплея.
</font></font></p>
</dd>
<dt><var><code>gamma</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соответствуйте логарифмическому переносу между кривыми тона.
</font></font></p>
</dd>
<dt><var><code>reinhard</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте общую яркость изображения с помощью простой кривой, используя нелинейный контраст, что приводит к сглаживанию деталей и ухудшению точности цветопередачи.
</font></font></p>
</dd>
<dt><var><code>hable</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняет как темные, так и яркие детали лучше, чем </font></font><var><code>reinhard</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, за счет небольшого затемнения всего. </font><font style="vertical-align: inherit;">Используйте его, когда сохранение деталей важнее точности цвета и яркости.
</font></font></p>
</dd>
<dt><var><code>mobius</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Плавно отображайте значения вне диапазона, максимально сохраняя контраст и цвета для материала в диапазоне. </font><font style="vertical-align: inherit;">Используйте его, когда точность цветопередачи важнее сохранения деталей.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию нет.
</font></font></p>
</dd>
<dt><samp><code>param</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте алгоритм отображения тонов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это влияет на следующие алгоритмы:
</font></font></p><dl compact="compact">
<dt><var><code>none</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Игнорируется.
</font></font></p>
</dd>
<dt><var><code>linear</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает коэффициент масштабирования, используемый при растяжении. </font><font style="vertical-align: inherit;">По умолчанию 1.0.
</font></font></p>
</dd>
<dt><var><code>gamma</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задает показатель степени функции. </font><font style="vertical-align: inherit;">По умолчанию 1,8.
</font></font></p>
</dd>
<dt><var><code>clip</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте дополнительный линейный коэффициент для умножения на сигнал перед отсечением. </font><font style="vertical-align: inherit;">По умолчанию 1.0.
</font></font></p>
</dd>
<dt><var><code>reinhard</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите локальный коэффициент контрастности на пике отображения. </font><font style="vertical-align: inherit;">По умолчанию установлено значение 0,5, что означает, что значения в пределах гаммы будут примерно в два раза ярче, чем при отсечении.
</font></font></p>
</dd>
<dt><var><code>hable</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Игнорируется.
</font></font></p>
</dd>
<dt><var><code>mobius</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте точку перехода от линейного к преобразованию Мёбиуса. </font><font style="vertical-align: inherit;">Каждое значение ниже этой точки гарантированно будет сопоставлено 1:1. </font><font style="vertical-align: inherit;">Чем выше значение, тем точнее будет результат за счет потери ярких деталей. </font><font style="vertical-align: inherit;">По умолчанию установлено значение 0,3, которое из-за крутого начального наклона по-прежнему довольно точно сохраняет цвета в диапазоне.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>desat</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените обесцвечивание к светлым участкам, яркость которых превышает этот уровень. </font><font style="vertical-align: inherit;">Чем выше параметр, тем больше информации о цвете будет сохранено. </font><font style="vertical-align: inherit;">Этот параметр помогает предотвратить неестественное размытие цветов для супербликов, вместо этого (плавно) превращая их в белые. </font><font style="vertical-align: inherit;">Это делает изображения более естественными за счет уменьшения информации о цветах вне диапазона.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию 2.0 несколько консервативно и в основном применяется только к небу или прямо освещенным солнечным светом поверхностям. </font><font style="vertical-align: inherit;">Значение 0.0 отключает эту опцию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр работает только в том случае, если входной кадр имеет поддерживаемый цветовой тег.
</font></font></p>
</dd>
<dt><samp><code>peak</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Замените сигнал/номинальный/опорный пик этим значением. </font><font style="vertical-align: inherit;">Полезно, когда встроенная информация о пиках в метаданных дисплея ненадежна или при преобразовании тонов из нижнего диапазона в более высокий диапазон.
</font></font></p></dd>
</dl>

<span id="tpad"></span><h3 class="section"><code><a href="#toc-tpad">11.253 tpad</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временно дополнить кадры видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>start</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите количество кадров задержки перед входным видеопотоком. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>stop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите количество дополнительных кадров после входного видеопотока. </font><font style="vertical-align: inherit;">Установите на -1, чтобы заполнять бесконечно. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>start_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить тип кадров, добавляемых в начало потока. </font><font style="vertical-align: inherit;">Может быть или </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>clone</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Добавлены </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рамки сплошного цвета. </font><font style="vertical-align: inherit;">С </font></font><var><code>clone</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадрами являются клонами первого кадра. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>stop_mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип кадров, добавляемых в конец потока. </font><font style="vertical-align: inherit;">Может быть или </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>clone</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Добавлены </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рамки сплошного цвета. </font><font style="vertical-align: inherit;">С </font></font><var><code>clone</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадрами являются клонами последнего кадра. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>add</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start_duration, stop_duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите продолжительность задержки запуска/останова. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе. </font><font style="vertical-align: inherit;">Эти параметры переопределяют </font></font><var><code>start</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>stop</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет заполненной области. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>color</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— «черный».
</font></font></p></dd>
</dl>

<span id="transpose"></span><span id="transpose-1"></span><h3 class="section"><code><a href="#toc-transpose-1">11.254 transpose</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Транспонируйте строки со столбцами во входном видео и, при необходимости, отразите его.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dir</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите направление транспонирования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может принимать следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0, 4, cclock_flip</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повернуть на 90 градусов против часовой стрелки и вертикально отразить (по умолчанию), то есть:
</font></font></p><div class="example">
<pre class="example"><code>L.R     L.l<font></font>
. . -&gt;  . .<font></font>
l.r     R.r<font></font>
</code></pre></div>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1, 5, clock</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повернуть на 90 градусов по часовой стрелке, то есть:
</font></font></p><div class="example">
<pre class="example"><code>L.R     l.L<font></font>
. . -&gt;  . .<font></font>
l.r     r.R<font></font>
</code></pre></div>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2, 6, cclock</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повернуть на 90 градусов против часовой стрелки, то есть:
</font></font></p><div class="example">
<pre class="example"><code>L.R     R.r<font></font>
. . -&gt;  . .<font></font>
l.r     L.l<font></font>
</code></pre></div>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>3, 7, clock_flip</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повернуть на 90 градусов по часовой стрелке и вертикально отразить, то есть:
</font></font></p><div class="example">
<pre class="example"><code>L.R     r.R<font></font>
. . -&gt;  . .<font></font>
l.r     l.L<font></font>
</code></pre></div>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для значений от 4 до 7 транспонирование выполняется только в том случае, если геометрия входного видео является портретной, а не альбомной. </font><font style="vertical-align: inherit;">Эти значения устарели, </font></font><code>passthrough</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вместо них следует использовать этот параметр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Числовые значения устарели, и от них следует отказаться в пользу символических констант.
</font></font></p>
</dd>
<dt><samp><code>passthrough</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не применять транспонирование, если входная геометрия соответствует геометрии, заданной указанным значением. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда применяйте транспонирование.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>portrait</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранять портретную геометрию (когда </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;= </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>landscape</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранять геометрию ландшафта (когда </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;= </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы повернуть на 90 градусов по часовой стрелке и сохранить портретную ориентацию:
</font></font></p><div class="example">
<pre class="example"><code>transpose=dir=1:passthrough=portrait
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Команда выше также может быть указана как:
</font></font></p><div class="example">
<pre class="example"><code>transpose=1:portrait
</code></pre></div>

<span id="transpose_005fnpp"></span><h3 class="section"><code><a href="#toc-transpose_005fnpp">11.255 transpose_npp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Транспонируйте строки со столбцами во входном видео и, при необходимости, отразите его. </font><font style="vertical-align: inherit;">Более подробные примеры см. в видеофильтре </font></font><a href="#transpose"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">транспонирования</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , который имеет в основном те же параметры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dir</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите направление транспонирования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может принимать следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cclock_flip</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните на 90 градусов против часовой стрелки и вертикально отразите. </font><font style="vertical-align: inherit;">(дефолт)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>clock</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Повернуть на 90 градусов по часовой стрелке.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cclock</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните на 90 градусов против часовой стрелки.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>clock_flip</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поверните на 90 градусов по часовой стрелке и вертикально отразите.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>passthrough</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не применять транспонирование, если входная геометрия соответствует геометрии, заданной указанным значением. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Всегда применяйте транспонирование. </font><font style="vertical-align: inherit;">(дефолт)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>portrait</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранять портретную геометрию (когда </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;= </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>landscape</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохранять геометрию ландшафта (когда </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;= </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
</dl>

</dd>
</dl>

<span id="trim"></span><h3 class="section"><code><a href="#toc-trim">11.256 trim</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обрежьте ввод так, чтобы вывод содержал одну непрерывную часть ввода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>start</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите время начала сохраняемого раздела, т.е. кадр с отметкой времени </font></font><var><code>start</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет первым кадром в выводе.
</font></font></p>
</dd>
<dt><samp><code>end</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите время первого кадра, который будет удален, т. е. кадр, непосредственно предшествующий кадру с отметкой времени </font></font><var><code>end</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, будет последним кадром в выводе.
</font></font></p>
</dd>
<dt><samp><code>start_pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это то же самое </font></font><var><code>start</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что и , за исключением того, что эта опция устанавливает метку времени начала в единицах измерения времени, а не в секундах.
</font></font></p>
</dd>
<dt><samp><code>end_pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это то же самое </font></font><var><code>end</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что и , за исключением того, что эта опция устанавливает конечную метку времени в единицах измерения времени, а не в секундах.
</font></font></p>
</dd>
<dt><samp><code>duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Максимальная продолжительность вывода в секундах.
</font></font></p>
</dd>
<dt><samp><code>start_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер первого кадра, который необходимо передать на выход.
</font></font></p>
</dd>
<dt><samp><code>end_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Номер первого кадра, который следует отбросить.
</font></font></p></dd>
</dl>

<p><samp><code>start</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>end</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, а также</font></font><samp><code>duration</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражаются в виде спецификаций продолжительности времени; </font><font style="vertical-align: inherit;">см.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел «Продолжительность времени» в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что первые два набора параметров начала/конца и</font></font><samp><code>duration</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
вариант смотрит на метку времени кадра, в то время как варианты _frame просто подсчитывают кадры, прошедшие через фильтр. </font><font style="vertical-align: inherit;">Также обратите внимание, что этот фильтр не изменяет метки времени. </font><font style="vertical-align: inherit;">Если вы хотите, чтобы временные метки вывода начинались с нуля, вставьте фильтр настроек после фильтра обрезки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если задано несколько параметров начала или конца, этот фильтр пытается быть жадным и сохраняет все кадры, соответствующие хотя бы одному из указанных ограничений. </font><font style="vertical-align: inherit;">Чтобы сохранить только ту часть, которая соответствует всем ограничениям сразу, объедините несколько фильтров обрезки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию все входные данные сохраняются. </font><font style="vertical-align: inherit;">Таким образом, можно установить, например, только конечные значения, чтобы сохранить все до указанного времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примеры:
</font></font></p><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отбросьте все, кроме второй минуты ввода:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -vf trim=60:120
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Держите только первую секунду:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -vf trim=duration=1
</code></pre></div>

</li></ul>

<span id="unpremultiply"></span><h3 class="section"><code><a href="#toc-unpremultiply">11.257 unpremultiply</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект предварительного умножения альфа-канала к входному видеопотоку, используя первую плоскость второго потока в качестве альфа-канала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба потока должны иметь одинаковые размеры и одинаковый формат пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие плоскости будут обработаны, необработанные плоскости будут скопированы. </font><font style="vertical-align: inherit;">При значении по умолчанию 0xf будут обработаны все плоскости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если формат имеет 1 или 2 компонента, то яркость имеет бит 0. Если формат имеет 3 или 4 компонента: для форматов RGB бит 0 — зеленый, бит 1 — синий, а бит 2 — красный; </font><font style="vertical-align: inherit;">для форматов YUV бит 0 — это яркость, бит 1 — цветность-U, а бит 2 — цветность-V. </font><font style="vertical-align: inherit;">Если он присутствует, альфа-канал всегда является последним битом.
</font></font></p>
</dd>
<dt><samp><code>inplace</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не требуйте 2-го ввода для обработки, вместо этого используйте альфа-плоскость из входного потока.
</font></font></p></dd>
</dl>

<span id="unsharp"></span><span id="unsharp-1"></span><h3 class="section"><code><a href="#toc-unsharp-1">11.258 unsharp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Резкость или размытие входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_msize_x, lx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите горизонтальный размер матрицы яркости. </font><font style="vertical-align: inherit;">Это должно быть нечетное целое число от 3 до 23. Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>luma_msize_y, ly</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер матрицы яркости по вертикали. </font><font style="vertical-align: inherit;">Это должно быть нечетное целое число от 3 до 23. Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>luma_amount, la</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу эффекта яркости. </font><font style="vertical-align: inherit;">Это должно быть число с плавающей запятой, разумные значения лежат между -1,5 и 1,5.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрицательные значения будут размывать входное видео, а положительные значения сделают его более четким, нулевое значение отключит эффект.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — 1,0.
</font></font></p>
</dd>
<dt><samp><code>chroma_msize_x, cx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер матрицы цветности по горизонтали. </font><font style="vertical-align: inherit;">Это должно быть нечетное целое число от 3 до 23. Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>chroma_msize_y, cy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер матрицы цветности по вертикали. </font><font style="vertical-align: inherit;">Это должно быть нечетное целое число от 3 до 23. Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>chroma_amount, ca</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу эффекта цветности. </font><font style="vertical-align: inherit;">Это должно быть число с плавающей запятой, разумные значения лежат между -1,5 и 1,5.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрицательные значения будут размывать входное видео, а положительные значения сделают его более четким, нулевое значение отключит эффект.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — 0,0.
</font></font></p>
</dd>
<dt><samp><code>alpha_msize_x, ax</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите горизонтальный размер альфа-матрицы. </font><font style="vertical-align: inherit;">Это должно быть нечетное целое число от 3 до 23. Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>alpha_msize_y, ay</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер альфа-матрицы по вертикали. </font><font style="vertical-align: inherit;">Это должно быть нечетное целое число от 3 до 23. Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>alpha_amount, aa</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу альфа-эффекта. </font><font style="vertical-align: inherit;">Это должно быть число с плавающей запятой, разумные значения лежат между -1,5 и 1,5.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрицательные значения будут размывать входное видео, а положительные значения сделают его более четким, нулевое значение отключит эффект.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — 0,0.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все параметры являются необязательными и по умолчанию эквивалентны строке «5:5:1.0:5:5:0.0».
</font></font></p>
<span id="Examples-125"></span><h4 class="subsection"><a href="#toc-Examples-125"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.258.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените сильный эффект резкости яркости:
</font></font><div class="example">
<pre class="example"><code>unsharp=luma_msize_x=7:luma_msize_y=7:luma_amount=2.5
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените сильное размытие параметров яркости и цветности:
</font></font><div class="example">
<pre class="example"><code>unsharp=7:7:-2:7:7:-2
</code></pre></div>
</li></ul>

<span id="untile"></span><span id="untile-1"></span><h3 class="section"><code><a href="#toc-untile-1">11.259 untile</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разложите видео, состоящее из мозаичных изображений, на отдельные изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота кадров выходного видео равна частоте кадров входного видео, умноженной на количество фрагментов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр делает обратное </font></font><a href="#tile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tile</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>layout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер сетки (т.е. количество строк и столбцов). </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p></dd>
</dl>

<span id="Examples-126"></span><h4 class="subsection"><a href="#toc-Examples-126"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.259.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте 1-секундное видео из файла неподвижного изображения, состоящего из 25 кадров, сложенных вертикально, как аналоговая кинолента:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -r 1 -i image.jpg -vf untile=1x25 movie.mkv
</code></pre></div>
</li></ul>

<span id="uspp"></span><h3 class="section"><code><a href="#toc-uspp">11.260 uspp</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить сверхмедленный/простой фильтр постобработки, который сжимает и распаковывает изображение в несколько раз (или - в случае</font></font><samp><code>quality</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">уровень </font></font><code>8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- все) сдвиги и средние результаты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это отличается от поведения spp тем, что uspp фактически кодирует и декодирует каждый случай с помощью libavcodec Snow, в то время как spp использует упрощенный внутренний DCT 8x8, аналогичный MJPEG.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр доступен только в ffmpeg версии 4.4 или более ранней.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>quality</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить качество. </font><font style="vertical-align: inherit;">Эта опция определяет количество уровней для усреднения. </font><font style="vertical-align: inherit;">Он принимает целое число в диапазоне 0-8. </font><font style="vertical-align: inherit;">Если установлено значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, фильтр не будет действовать. </font><font style="vertical-align: inherit;">Значение </font></font><code>8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">означает более высокое качество. </font><font style="vertical-align: inherit;">Для каждого приращения этого значения скорость падает примерно в 2 раза. Значение по умолчанию —
 </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>qp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите постоянный параметр квантования. </font><font style="vertical-align: inherit;">Если не установлено, фильтр будет использовать QP из видеопотока (если он доступен).
</font></font></p></dd>
</dl>

<span id="v360"></span><h3 class="section"><code><a href="#toc-v360">11.261 v360</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Конвертируйте 360 видео между различными форматами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>input</code></samp></dt>
<dt><samp><code>output</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить формат входного/выходного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные форматы:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>e</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>equirect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Равноугольная проекция.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>c3x2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>c6x1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>c1x6</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кубическая карта с макетом 3x2/6x1/1x6.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p>
<dl compact="compact">
<dt><samp><code>in_pad</code></samp></dt>
<dt><samp><code>out_pad</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пропорцию заполнения для входной/выходной кубической карты. </font><font style="vertical-align: inherit;">Значения в десятичных дробях.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примеры значений:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Без прокладки.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0.01</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1% лица заполняется. </font><font style="vertical-align: inherit;">Например, при разрешении 1920x1280 размер лица будет 640x640, а отступ будет равен 3 пикселям с каждой стороны. </font><font style="vertical-align: inherit;">(640 * 0,01 = 6 пикселей)
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Максимальное значение </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0.1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>fin_pad</code></samp></dt>
<dt><samp><code>fout_pad</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите фиксированное заполнение для входной/выходной кубической карты. </font><font style="vertical-align: inherit;">Значения в пикселях.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Если больше нуля, он переопределяет другие параметры заполнения.
</font></font></p>
</dd>
<dt><samp><code>in_forder</code></samp></dt>
<dt><samp><code>out_forder</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок граней для входной/выходной кубической карты. </font><font style="vertical-align: inherit;">Выберите одно направление для каждой позиции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обозначение направлений:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>r</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Правильно
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>l</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оставил
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>u</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вверх
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>d</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вниз
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>f</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вперед
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">назад
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rludfb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>in_frot</code></samp></dt>
<dt><samp><code>out_frot</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите поворот граней для входной/выходной кубической карты. </font><font style="vertical-align: inherit;">Выберите один угол для каждой позиции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обозначение углов:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 градусов по часовой стрелке
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90 градусов по часовой стрелке
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">180 градусов по часовой стрелке
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">270 градусов по часовой стрелке
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>000000</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>eac</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Равноугольная кубическая карта.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gnomonic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rectilinear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обычное видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>h_fov</code></samp></dt>
<dt><samp><code>v_fov</code></samp></dt>
<dt><samp><code>d_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p>
</dd>
<dt><samp><code>ih_fov</code></samp></dt>
<dt><samp><code>iv_fov</code></samp></dt>
<dt><samp><code>id_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dfisheye</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Двойной рыбий глаз.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>h_fov</code></samp></dt>
<dt><samp><code>v_fov</code></samp></dt>
<dt><samp><code>d_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p>
</dd>
<dt><samp><code>ih_fov</code></samp></dt>
<dt><samp><code>iv_fov</code></samp></dt>
<dt><samp><code>id_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>barrel</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>barrelsplit</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Форматы Facebook 360.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стереографический формат.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>h_fov</code></samp></dt>
<dt><samp><code>v_fov</code></samp></dt>
<dt><samp><code>d_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p>
</dd>
<dt><samp><code>ih_fov</code></samp></dt>
<dt><samp><code>iv_fov</code></samp></dt>
<dt><samp><code>id_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mercator</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Формат Меркатора.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ball</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Шарообразный формат дает значительные искажения в сторону спины.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hammer</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Формат картографической проекции Хаммера-Айтоффа.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sinusoidal</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синусоидальный формат проекции карты.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fisheye</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проекция «рыбий глаз».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>h_fov</code></samp></dt>
<dt><samp><code>v_fov</code></samp></dt>
<dt><samp><code>d_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p>
</dd>
<dt><samp><code>ih_fov</code></samp></dt>
<dt><samp><code>iv_fov</code></samp></dt>
<dt><samp><code>id_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pannini</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проекция Паннини.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>h_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходной параметр pannini.
</font></font></p>
</dd>
<dt><samp><code>ih_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входной параметр pannini.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cylindrical</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цилиндрическая проекция.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>h_fov</code></samp></dt>
<dt><samp><code>v_fov</code></samp></dt>
<dt><samp><code>d_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p>
</dd>
<dt><samp><code>ih_fov</code></samp></dt>
<dt><samp><code>iv_fov</code></samp></dt>
<dt><samp><code>id_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>perspective</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перспективная проекция. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(только вывод)</font></font></i>
</p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>v_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите параметр перспективы.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tetrahedron</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проекция тетраэдра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tsp</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проекция усеченной квадратной пирамиды.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>he</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hequirect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полуравноугольная проекция.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>equisolid</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эквисолидный формат.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>h_fov</code></samp></dt>
<dt><samp><code>v_fov</code></samp></dt>
<dt><samp><code>d_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p>
</dd>
<dt><samp><code>ih_fov</code></samp></dt>
<dt><samp><code>iv_fov</code></samp></dt>
<dt><samp><code>id_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>og</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Орфографический формат.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные параметры формата:
</font></font></p><dl compact="compact">
<dt><samp><code>h_fov</code></samp></dt>
<dt><samp><code>v_fov</code></samp></dt>
<dt><samp><code>d_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p>
</dd>
<dt><samp><code>ih_fov</code></samp></dt>
<dt><samp><code>iv_fov</code></samp></dt>
<dt><samp><code>id_fov</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входное горизонтальное/вертикальное/диагональное поле зрения. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено диагональное поле зрения, оно имеет приоритет над горизонтальным и вертикальным полем зрения.
</font></font></p></dd>
</dl>

</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>octahedron</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проекция октаэдра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cylindricalea</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цилиндрическая равновеликая проекция.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>interp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить метод интерполяции. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примечание: для выполнения более сложных методов интерполяции требуется гораздо больше памяти.</font></font></i>
</p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные методы:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>near</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nearest</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ближайший сосед.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>line</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Билинейная интерполяция.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lagrange9</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполяция Лагранжа9.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cube</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cubic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Бикубическая интерполяция.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполяция Ланцоша.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sp16</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>spline16</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполяция Spline16.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gaussian</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Гауссова интерполяция.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>mitchell</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполяция Митчелла.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>line</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите разрешение выходного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разрешение по умолчанию зависит от форматов.
</font></font></p>
</dd>
<dt><samp><code>in_stereo</code></samp></dt>
<dt><samp><code>out_stereo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входной/выходной стереофонический формат.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2d</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2D моно
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sbs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Бок о бок
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Верхний низ
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2d</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для формата ввода и вывода.
</font></font></p>
</dd>
<dt><samp><code>yaw</code></samp></dt>
<dt><samp><code>pitch</code></samp></dt>
<dt><samp><code>roll</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите поворот для выходного видео. </font><font style="vertical-align: inherit;">Значения в градусах.
</font></font></p>
</dd>
<dt><samp><code>rorder</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите порядок вращения для выходного видео. </font><font style="vertical-align: inherit;">Выберите один элемент для каждой позиции.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>y, Y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рыскать
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>p, P</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">подача
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>r, R</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рулон
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ypr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>h_flip</code></samp></dt>
<dt><samp><code>v_flip</code></samp></dt>
<dt><samp><code>d_flip</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отразите выходное видео по горизонтали (меняет местами слева направо) / по вертикали (меняет местами вверх-вниз) / в глубину (меняет местами назад-вперед). </font><font style="vertical-align: inherit;">Логические значения.
</font></font></p>
</dd>
<dt><samp><code>ih_flip</code></samp></dt>
<dt><samp><code>iv_flip</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, если входное видео переворачивается по горизонтали/вертикали. </font><font style="vertical-align: inherit;">Логические значения.
</font></font></p>
</dd>
<dt><samp><code>in_trans</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, если входное видео транспонировано. </font><font style="vertical-align: inherit;">Логическое значение, по умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>out_trans</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, нужно ли транспонировать выходное видео. </font><font style="vertical-align: inherit;">Логическое значение, по умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>h_offset</code></samp></dt>
<dt><samp><code>v_offset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходное смещение по горизонтали/вертикали вне оси. </font><font style="vertical-align: inherit;">По умолчанию установлено значение 0. Допустимый диапазон от -1 до 1.
</font></font></p>
</dd>
<dt><samp><code>alpha_mask</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте маску в альфа-плоскости для всех неотображенных пикселей, пометив их полностью прозрачными. </font><font style="vertical-align: inherit;">Логическое значение, по умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>reset_rot</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сброс поворота выходного видео. </font><font style="vertical-align: inherit;">Логическое значение, по умолчанию отключено.
</font></font></p></dd>
</dl>

<span id="Examples-127"></span><h4 class="subsection"><a href="#toc-Examples-127"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.261.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование равнопрямоугольного видео в кубическую карту с макетом 3x2 и отступом 1% с использованием бикубической интерполяции:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mkv -vf v360=e:c3x2:cubic:out_pad=0.01 output.mkv
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлеките вид сзади Equi-Angular Cubemap:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.mkv -vf v360=eac:flat:yaw=180 output.mkv
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте транспонированную и горизонтально перевернутую равноугольную кубическую карту в стереофонический формат бок о бок в равнопрямоугольный стереофонический формат сверху вниз:
</font></font><div class="example">
<pre class="example"><code>v360=eac:equirect:in_stereo=sbs:in_trans=1:ih_flip=1:out_stereo=tb
</code></pre></div>
</li></ul>

<span id="Commands-146"></span><h4 class="subsection"><a href="#toc-Commands-146"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.261.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает подмножество вышеуказанных параметров в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="vaguedenoiser"></span><h3 class="section"><code><a href="#toc-vaguedenoiser">11.262 vaguedenoiser</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените шумоподавитель на основе вейвлета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он преобразует каждый кадр из видеовхода в вейвлет-область, используя метод Коэна-Добеши-Фово 9/7. </font><font style="vertical-align: inherit;">Затем он применяет некоторую фильтрацию к полученным коэффициентам. </font><font style="vertical-align: inherit;">После этого выполняется обратное вейвлет-преобразование. </font><font style="vertical-align: inherit;">Из-за свойств вейвлета это должно дать хороший сглаженный результат и уменьшить шум без размытия деталей изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сила фильтрации. </font><font style="vertical-align: inherit;">Чем выше, тем более фильтрованным будет видео. </font><font style="vertical-align: inherit;">Жесткий порог может использовать более высокий порог, чем мягкий порог, прежде чем видео будет выглядеть перефильтрованным. </font><font style="vertical-align: inherit;">Значение по умолчанию — 2.
</font></font></p>
</dd>
<dt><samp><code>method</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Метод фильтрации, который будет использовать фильтр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hard</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все значения ниже порога будут обнулены.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>soft</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все значения ниже порога будут обнулены. </font><font style="vertical-align: inherit;">Все вышеперечисленные значения будут уменьшены на пороговое значение.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>garrote</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабирует или обнуляет коэффициенты — промежуточное звено между (более) мягким и (менее) жестким порогом.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию используется удавка.
</font></font></p>
</dd>
<dt><samp><code>nsteps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сколько раз вейвлет будет разлагать изображение. </font><font style="vertical-align: inherit;">Картинка не может быть разложена дальше определенной точки (обычно 8 для кадра 640x480 - так как 2^9 = 512 &gt; 480). </font><font style="vertical-align: inherit;">Допустимые значения — целые числа от 1 до 32. Значение по умолчанию — 6.
</font></font></p>
</dd>
<dt><samp><code>percent</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частичное или полное шумоподавление (уменьшение ограниченных коэффициентов), от 0 до 100. Значение по умолчанию — 85.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Список плоскостей для обработки. </font><font style="vertical-align: inherit;">По умолчанию обрабатываются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип порога, который будет использовать фильтр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>universal</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используемый порог одинаков для всех разложений.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bayes</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используемый порог зависит также от каждого коэффициента разложения.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию универсальный.
</font></font></p></dd>
</dl>

<span id="varblur"></span><h3 class="section"><code><a href="#toc-varblur">11.263 varblur</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените переменный фильтр размытия, используя второй видеопоток для установки радиуса размытия. </font><font style="vertical-align: inherit;">Второй поток должен иметь такие же размеры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>min_r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимально допустимый радиус. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0 до 254. По умолчанию 0.
</font></font></p></dd>
<dt><samp><code>max_r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимально допустимый радиус. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 255. По умолчанию 8.
</font></font></p></dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости обрабатывать. </font><font style="vertical-align: inherit;">По умолчанию используются все.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>varblur</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="Commands-147"></span><h4 class="subsection"><a href="#toc-Commands-147"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.263.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="vectorscope"></span><h3 class="section"><code><a href="#toc-vectorscope">11.264 vectorscope</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите 2 значения компонентов цвета на двухмерном графике (который называется вектороскопом).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим вектороскопа.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gray</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tint</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения серого отображаются на графике, более высокая яркость означает, что больше пикселей имеют одинаковое значение цвета компонента в месте на графике. </font><font style="vertical-align: inherit;">Это режим "по умолчанию".
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения серого отображаются на графике. </font><font style="vertical-align: inherit;">Значения окружающих пикселей, отсутствующие в видеокадре, рисуются градиентом из 2-х цветовых компонентов, которые задаются параметрами </font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Компонент 3-го цвета является статическим.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фактические значения компонентов цвета, присутствующих в видеокадре, отображаются на графике.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color3</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Подобно цвету2, но более высокая частота тех же значений </font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
на графике увеличивает значение другого компонента цвета, которым является яркость при значениях по умолчанию </font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color4</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фактические цвета, присутствующие в видеокадре, отображаются на графике. </font><font style="vertical-align: inherit;">Если два разных цвета сопоставляются с одной и той же позицией на графике, то выбирается цвет с более высоким значением компонента, отсутствующего на графике.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color5</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения серого отображаются на графике. </font><font style="vertical-align: inherit;">Аналогично, </font></font><code>color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">но с третьим цветовым компонентом, выбранным из радиального градиента.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какой компонент цвета будет представлен на оси X. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какой компонент цвета будет представлен на оси Y. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>intensity, i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите интенсивность, используемую режимами: серый, цвет, цвет3 и цвет5 для увеличения яркости цветовой составляющей, которая представляет частоту положения (X, Y) на графике.
</font></font></p>
</dd>
<dt><samp><code>envelope, e</code></samp></dt>
<dd><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нет конверта, это по умолчанию.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>instant</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Мгновенный конверт, даже самый темный одиночный пиксель будет четко выделен.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>peak</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте максимальные и минимальные значения, представленные на графике, с течением времени. </font><font style="vertical-align: inherit;">Таким образом, вы все еще можете обнаружить значения вне диапазона, не глядя постоянно в вектороскоп.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>peak+instant</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиковая и мгновенная огибающая объединены вместе.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>graticule, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какую сетку рисовать.
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>green</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>invert</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>opacity, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите непрозрачность сетки.
</font></font></p>
</dd>
<dt><samp><code>flags, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите флаги сетки.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>white</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте сетку для белой точки.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>black</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте сетку для черной точки.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>name</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте короткие названия цветовых точек.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>bgopacity, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прозрачность фона.
</font></font></p>
</dd>
<dt><samp><code>lthreshold, l</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите нижний порог для компонента цвета, не представленного на оси X или Y. </font><font style="vertical-align: inherit;">Значения ниже этого значения будут игнорироваться. </font><font style="vertical-align: inherit;">По умолчанию 0. Обратите внимание, что это значение умножается на фактическое максимально возможное значение, которое может иметь один компонент пикселя. </font><font style="vertical-align: inherit;">Таким образом, для 8-битного ввода и низкого порогового значения 0,1 фактический порог равен 0,1 * 255 = 25.
</font></font></p>
</dd>
<dt><samp><code>hthreshold, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высокий порог для компонента цвета, не представленного на оси X или Y. </font><font style="vertical-align: inherit;">Значения выше этого значения будут игнорироваться. </font><font style="vertical-align: inherit;">По умолчанию 1. Обратите внимание, что это значение умножается на фактическое максимально возможное значение, которое может иметь один компонент пикселя. </font><font style="vertical-align: inherit;">Таким образом, для 8-битного ввода и высокого порогового значения 0,9 фактический порог равен 0,9 * 255 = 230.
</font></font></p>
</dd>
<dt><samp><code>colorspace, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какое цветовое пространство использовать при рисовании сетки.
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>601</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию — авто.
</font></font></p>
</dd>
<dt><samp><code>tint0, t0</code></samp></dt>
<dt><samp><code>tint1, t1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите оттенок цвета для режима серого/оттенка вектороскопа. </font><font style="vertical-align: inherit;">По умолчанию оба параметра равны нулю. </font><font style="vertical-align: inherit;">Это означает отсутствие оттенка, и вывод останется серым.
</font></font></p></dd>
</dl>

<span id="vidstabdetect"></span><span id="vidstabdetect-1"></span><h3 class="section"><code><a href="#toc-vidstabdetect-1">11.265 vidstabdetect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проанализируйте стабилизацию/устранение тряски видео. </font><font style="vertical-align: inherit;">Выполните проход 1 из 2, см.
 </font></font><a href="#vidstabtransform"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vidstabtransform</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для прохода 2.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр создает файл с информацией об относительном перемещении и вращении последующих кадров, который затем используется фильтром </font></font><a href="#vidstabtransform"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vidstabtransform</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-libvidstab</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>result</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите путь к файлу, используемому для записи информации о преобразованиях. </font><font style="vertical-align: inherit;">Значение по умолчанию</font></font><samp><code>transforms.trf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>shakiness</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, насколько дрожит видео и насколько быстро работает камера. </font><font style="vertical-align: inherit;">Он принимает целое число в диапазоне от 1 до 10, значение 1 означает небольшую дрожь, значение 10 означает сильную дрожь. </font><font style="vertical-align: inherit;">Значение по умолчанию — 5.
</font></font></p>
</dd>
<dt><samp><code>accuracy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите точность процесса обнаружения. </font><font style="vertical-align: inherit;">Это должно быть значение в диапазоне 1-15. </font><font style="vertical-align: inherit;">Значение 1 означает низкую точность, значение 15 означает высокую точность. </font><font style="vertical-align: inherit;">Значение по умолчанию — 15.
</font></font></p>
</dd>
<dt><samp><code>stepsize</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер шага процесса поиска. </font><font style="vertical-align: inherit;">Область вокруг минимума сканируется с разрешением 1 пиксель. </font><font style="vertical-align: inherit;">Значение по умолчанию — 6.
</font></font></p>
</dd>
<dt><samp><code>mincontrast</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальный контраст. </font><font style="vertical-align: inherit;">Ниже этого значения поле локального измерения отбрасывается. </font><font style="vertical-align: inherit;">Должно быть значением с плавающей запятой в диапазоне 0-1. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,3.
</font></font></p>
</dd>
<dt><samp><code>tripod</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите номер опорного кадра для режима штатива.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если включено, движение кадров сравнивается с эталонным кадром в отфильтрованном потоке, идентифицируемым указанным номером. </font><font style="vertical-align: inherit;">Идея состоит в том, чтобы компенсировать все движения в более или менее статичной сцене и сохранить абсолютно неподвижный вид камеры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 0, оно отключено. </font><font style="vertical-align: inherit;">Кадры считаются, начиная с 1.
</font></font></p>
</dd>
<dt><samp><code>show</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать поля и преобразования в результирующих кадрах. </font><font style="vertical-align: inherit;">Он принимает целое число в диапазоне 0-2. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0, что отключает любую визуализацию.
</font></font></p></dd>
</dl>

<span id="Examples-128"></span><h4 class="subsection"><a href="#toc-Examples-128"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.265.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте значения по умолчанию:
</font></font><div class="example">
<pre class="example"><code>vidstabdetect
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проанализируйте сильно дрожащий фильм и поместите результаты в файл
</font></font><samp><code>mytransforms.trf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>vidstabdetect=shakiness=10:accuracy=15:result="mytransforms.trf"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Визуализируйте результат внутренних преобразований в полученном видео:
</font></font><div class="example">
<pre class="example"><code>vidstabdetect=show=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проанализируйте видео со средней дрожью, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input -vf vidstabdetect=shakiness=5:show=1 dummy.avi
</code></pre></div>
</li></ul>

<span id="vidstabtransform"></span><span id="vidstabtransform-1"></span><h3 class="section"><code><a href="#toc-vidstabtransform-1">11.266 vidstabtransform</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стабилизация/устранение тряски видео: проход 2 из 2, см. </font></font><a href="#vidstabdetect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vidstabdetect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> для прохода 1.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прочитайте файл с информацией о преобразовании для каждого кадра и примените/компенсируйте их. </font><font style="vertical-align: inherit;">Вместе с фильтром </font></font><a href="#vidstabdetect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vidstabdetect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
это можно использовать для дешейкинга видео. </font><font style="vertical-align: inherit;">См. также
 </font></font><a href="http://public.hronopik.de/vid.stab"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://public.hronopik.de/vid.stab</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Важно также использовать </font></font><a href="#unsharp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">нерезкий</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтр, см. ниже.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-libvidstab</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="Options-4"></span><h4 class="subsection"><a href="#toc-Options-4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.266.1 Опции</font></font></a></h4>

<dl compact="compact">
<dt><samp><code>input</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите путь к файлу, используемому для чтения преобразований. </font><font style="vertical-align: inherit;">Значение по умолчанию
</font></font><samp><code>transforms.trf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>smoothing</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество кадров (значение*2 + 1), используемых для низкочастотной фильтрации движения камеры. </font><font style="vertical-align: inherit;">Значение по умолчанию — 10.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, число 10 означает, что используется 21 кадр (10 в прошлом и 10 в будущем) для сглаживания движения в видео. </font><font style="vertical-align: inherit;">Большее значение приводит к более плавному видео, но ограничивает ускорение камеры (движения панорамирования/наклона). </font><font style="vertical-align: inherit;">0 — это особый случай, когда моделируется статическая камера.
</font></font></p>
</dd>
<dt><samp><code>optalgo</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите алгоритм оптимизации пути камеры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Допустимые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр нижних частот ядра Гаусса при движении камеры (по умолчанию)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>avg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">усреднение по преобразованиям
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>maxshift</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество пикселей для перевода кадров. </font><font style="vertical-align: inherit;">Значение по умолчанию равно -1, что означает отсутствие ограничений.
</font></font></p>
</dd>
<dt><samp><code>maxangle</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный угол в радианах (градусы*PI/180) для поворота кадров. </font><font style="vertical-align: inherit;">Значение по умолчанию равно -1, что означает отсутствие ограничений.
</font></font></p>
</dd>
<dt><samp><code>crop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, как поступать с границами, которые могут быть видны из-за компенсации движения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>keep</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сохранить информацию об изображении из предыдущего кадра (по умолчанию)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>black</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заполнить границу черным цветом
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>invert</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Инвертировать преобразования, если установлено значение 1. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>relative</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Считайте преобразования относительно предыдущего кадра, если установлено значение 1, и абсолютное значение, если установлено значение 0. Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>zoom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите процент для масштабирования. </font><font style="vertical-align: inherit;">Положительное значение приведет к эффекту увеличения, отрицательное значение — к эффекту уменьшения. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0 (без масштабирования).
</font></font></p>
</dd>
<dt><samp><code>optzoom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите оптимальное масштабирование, чтобы избежать границ.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Допустимые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">инвалид
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>1</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определено оптимальное значение статического увеличения (только очень сильные движения приведут к видимым границам) (по умолчанию)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>2</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определяется оптимальное значение адаптивного масштабирования (границы не будут видны), см.</font></font><samp><code>zoomspeed</code></samp>
</p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что значение, указанное при масштабировании, добавляется к рассчитанному здесь.
</font></font></p>
</dd>
<dt><samp><code>zoomspeed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите процент для максимального масштабирования каждого кадра (доступно, когда
</font></font><samp><code>optzoom</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">устанавливается на 2). </font><font style="vertical-align: inherit;">Диапазон от 0 до 5, значение по умолчанию 0,25.
</font></font></p>
</dd>
<dt><samp><code>interpol</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите тип интерполяции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>no</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">без интерполяции
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>linear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейный только горизонтальный
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bilinear</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейный в обоих направлениях (по умолчанию)
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bicubic</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кубический в обоих направлениях (медленный)
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>tripod</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите режим виртуального штатива, если установлено значение 1, что эквивалентно
 </font></font><code>relative=0:smoothing=0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте также </font></font><code>tripod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцию </font></font><a href="#vidstabdetect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vidstabdetect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>debug</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте уровень детализации журнала, если установлено значение 1. Также обнаруженные глобальные движения записываются во временный файл.</font></font><samp><code>global_motions.trf</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p></dd>
</dl>

<span id="Examples-129"></span><h4 class="subsection"><a href="#toc-Examples-129"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.266.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для типичной стабилизации со значениями по умолчанию:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i inp.mpeg -vf vidstabtransform,unsharp=5:5:0.8:3:3:0.4 inp_stabilized.mpeg
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание на использование </font></font><a href="#unsharp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">нерезкого</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтра, который всегда рекомендуется.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте масштаб еще немного и загрузите данные преобразования из данного файла:
</font></font><div class="example">
<pre class="example"><code>vidstabtransform=zoom=5:input="mytransforms.trf"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгладьте видео еще больше:
</font></font><div class="example">
<pre class="example"><code>vidstabtransform=smoothing=30
</code></pre></div>
</li></ul>

<span id="vflip"></span><h3 class="section"><code><a href="#toc-vflip">11.267 vflip</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отразите входное видео по вертикали.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы перевернуть видео по вертикали с помощью </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i in.avi -vf "vflip" out.avi
</code></pre></div>

<span id="vfrdet"></span><h3 class="section"><code><a href="#toc-vfrdet">11.268 vfrdet</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обнаружение видео с переменной частотой кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр пытается определить, является ли ввод переменной или постоянной частотой кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В конце будет выведено количество кадров, обнаруженных как имеющие переменные дельта-точки, и кадры с постоянными дельта-точками. </font><font style="vertical-align: inherit;">Если были кадры с переменной дельтой, то он также покажет минимальную, максимальную и среднюю дельту.
</font></font></p>
<span id="vibrance"></span><h3 class="section"><code><a href="#toc-vibrance">11.269 vibrance</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте или измените насыщенность.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>intensity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу усиления, если значение положительное, или силу изменения, если значение отрицательное. </font><font style="vertical-align: inherit;">По умолчанию 0. Допустимый диапазон от -2 до 2.
</font></font></p>
</dd>
<dt><samp><code>rbal</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите баланс красного. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от -10 до 10.
</font></font></p>
</dd>
<dt><samp><code>gbal</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите баланс зеленого. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от -10 до 10.
</font></font></p>
</dd>
<dt><samp><code>bbal</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите баланс синего. </font><font style="vertical-align: inherit;">По умолчанию 1. Допустимый диапазон от -10 до 10.
</font></font></p>
</dd>
<dt><samp><code>rlum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент яркости красного цвета.
</font></font></p>
</dd>
<dt><samp><code>glum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент яркости зеленого.
</font></font></p>
</dd>
<dt><samp><code>blum</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент яркости синего.
</font></font></p>
</dd>
<dt><samp><code>alternate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если </font></font><code>intensity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значение отрицательное и для него установлено значение 1, цвета изменятся, в противном случае цвета будут менее насыщенными, более серыми.
</font></font></p></dd>
</dl>

<span id="Commands-148"></span><h4 class="subsection"><a href="#toc-Commands-148"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.269.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="vif"></span><h3 class="section"><code><a href="#toc-vif">11.270 vif</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите среднее значение VIF (верность визуальной информации) между двумя входными видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает два входных видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба входных видео должны иметь одинаковое разрешение и формат пикселей, чтобы этот фильтр работал правильно. </font><font style="vertical-align: inherit;">Также предполагается, что оба входа имеют одинаковое количество кадров, которые сравниваются один за другим.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученная средняя оценка VIF распечатывается через систему регистрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр сохраняет рассчитанную оценку VIF для каждого кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В приведенном ниже примере входной файл</font></font><samp><code>main.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обрабатываемый файл сравнивается с эталонным файлом</font></font><samp><code>ref.mpg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<div class="example">
<pre class="example"><code>ffmpeg -i main.mpg -i ref.mpg -lavfi vif -f null -
</code></pre></div>

<span id="vignette"></span><span id="vignette-1"></span><h3 class="section"><code><a href="#toc-vignette-1">11.271 vignette</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создание или изменение эффекта естественного виньетирования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>angle, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте выражение угла линзы как количество радианов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение обрезается в </font></font><code>[0,PI/2]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">диапазоне.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию:</font></font><code>"PI/5"</code>
</p>
</dd>
<dt><samp><code>x0</code></samp></dt>
<dt><samp><code>y0</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражения координат центра. </font><font style="vertical-align: inherit;">Соответственно </font></font><code>"w/2"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>"h/2"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
по умолчанию.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим вперед/назад.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные режимы:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>forward</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чем больше расстояние от центральной точки, тем темнее становится изображение.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>backward</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чем больше расстояние от центральной точки, тем ярче становится изображение. </font><font style="vertical-align: inherit;">Это можно использовать для устранения эффекта виньетки, хотя автоматическое обнаружение извлечения линзы отсутствует.</font></font><samp><code>angle</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и другие настройки (пока). </font><font style="vertical-align: inherit;">Его также можно использовать для создания эффекта горения.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>forward</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>eval</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим оценки для выражений (</font></font><samp><code>angle</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>x0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>y0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вычисляйте выражения только один раз во время инициализации фильтра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>frame</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оцените выражения для каждого входящего кадра. </font><font style="vertical-align: inherit;">Это намного медленнее, чем '</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', так как он требует пересчета всех масштабаторов, но позволяет использовать расширенные динамические выражения.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>init</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>dither</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите дизеринг, чтобы уменьшить эффект кольцевых полос. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(включено).
</font></font></p>
</dd>
<dt><samp><code>aspect</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите соотношение сторон виньетки. </font><font style="vertical-align: inherit;">Этот параметр позволяет настроить форму виньетки. </font><font style="vertical-align: inherit;">Установка этого значения на SAR входа создаст прямоугольное виньетирование в соответствии с размерами видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1/1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Expressions"></span><h4 class="subsection"><a href="#toc-Expressions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.271.1 Выражения</font></font></a></h4>

<p>The <samp><code>alpha</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><samp><code>x0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>y0</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражения могут содержать следующие параметры.
</font></font></p>
<dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ввод ширины и высоты
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">номер входного кадра, начиная с 0
</font></font></p>
</dd>
<dt><samp><code>pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">время PTS (Presentation TimeStamp) отфильтрованного видеокадра, выраженное в
 </font></font><var><code>TB</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">единицах, NAN, если не определено
</font></font></p>
</dd>
<dt><samp><code>r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота кадров входного видео, NAN, если частота кадров входного сигнала неизвестна
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS (Presentation TimeStamp) отфильтрованного видеокадра, выраженное в секундах, NAN, если не определено
</font></font></p>
</dd>
<dt><samp><code>tb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">временная база входного видео
</font></font></p></dd>
</dl>


<span id="Examples-130"></span><h4 class="subsection"><a href="#toc-Examples-130"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.271.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените простой сильный эффект виньетирования:
</font></font><div class="example">
<pre class="example"><code>vignette=PI/4
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте мерцающее виньетирование:
</font></font><div class="example">
<pre class="example"><code>vignette='PI/4+random(1)*PI/50':eval=frame
</code></pre></div>

</li></ul>

<span id="vmafmotion"></span><h3 class="section"><code><a href="#toc-vmafmotion">11.272 vmafmotion</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите средний показатель движения VMAF для видео. </font><font style="vertical-align: inherit;">Это одна из составных метрик VMAF.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученная средняя оценка движения распечатывается через систему регистрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>stats_file</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указано, фильтр будет использовать именованный файл для сохранения оценки движения каждого кадра по отношению к предыдущему кадру. </font><font style="vertical-align: inherit;">Когда имя файла равно "-", данные отправляются на стандартный вывод.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример:
</font></font></p><div class="example">
<pre class="example"><code>ffmpeg -i ref.mpg -vf vmafmotion -f null -
</code></pre></div>

<span id="vstack"></span><h3 class="section"><code><a href="#toc-vstack">11.273 vstack</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стек входных видео по вертикали.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все потоки должны иметь одинаковый формат пикселей и одинаковую ширину.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что этот фильтр работает быстрее, чем использование </font></font><a href="#overlay"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">наложенного</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> и </font></font><a href="#pad"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">подушечного</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> фильтров для создания одного и того же вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество входных потоков. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, принудительное завершение вывода при завершении кратчайшего ввода. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p></dd>
</dl>

<span id="w3fdif"></span><h3 class="section"><code><a href="#toc-w3fdif">11.274 w3fdif</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсинг входного видео («w3fdif» означает «Фильтр деинтерлейсинга полей Weston 3»).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">На основе процесса, описанного Мартином Уэстоном для отдела исследований и разработок BBC, и реализованного на основе алгоритма деинтерлейсинга, написанного Джимом Истербруком для отдела исследований и разработок BBC, фильтр деинтерлейсинга полей Weston 3 использует коэффициенты фильтрации, рассчитанные отделом исследований и разработок BBC.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр использует информацию о доминировании полей во фрейме, чтобы решить, какое из каждой пары полей следует разместить первым в выходных данных. </font><font style="vertical-align: inherit;">Если он ошибается, используйте фильтр </font></font><a href="#setfield"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfield</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> перед </font></font><code>w3fdif</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Существует два набора коэффициентов фильтра, так называемые «простые» и «сложные». </font><font style="vertical-align: inherit;">Какой набор коэффициентов фильтра используется, можно задать, передав необязательный параметр:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициенты чересстрочного фильтра. </font><font style="vertical-align: inherit;">Принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>simple</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Простой набор коэффициентов фильтра.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>complex</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более сложный набор коэффициентов фильтра.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>complex</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим чересстрочной развертки для принятия. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите один кадр для каждого кадра.
</font></font></p></dd>
<dt><samp><code>field</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите по одному кадру для каждого поля.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>parity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Четность поля изображения, предполагаемая для входного чересстрочного видео. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>tff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что верхнее поле является первым.
</font></font></p></dd>
<dt><samp><code>bff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что нижнее поле является первым.
</font></font></p></dd>
<dt><samp><code>auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите автоматическое определение четности полей.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если чередование неизвестно или декодер не экспортирует эту информацию, сначала предполагается верхнее поле.
</font></font></p>
</dd>
<dt><samp><code>deint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие кадры следует деинтерлейсировать. </font><font style="vertical-align: inherit;">Принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>all</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейс всех кадров,
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>interlaced</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Только деинтерлейсные кадры, помеченные как чересстрочные.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>all</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

<span id="Commands-149"></span><h4 class="subsection"><a href="#toc-Commands-149"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.274.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="waveform"></span><h3 class="section"><code><a href="#toc-waveform">11.275 waveform</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Видеомонитор осциллограммы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Монитор формы сигнала отображает интенсивность цветового компонента. </font><font style="vertical-align: inherit;">По умолчанию только яркость. </font><font style="vertical-align: inherit;">Каждый столбец формы волны соответствует столбцу пикселей в исходном видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Можно или </font></font><code>row</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, или </font></font><code>column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В режиме строки диаграмма с левой стороны представляет значение компонента цвета 0, а справа представляет значение = 255. В режиме столбца верхняя сторона представляет значение компонента цвета = 0, а нижняя сторона представляет значение = 255.
</font></font></p>
</dd>
<dt><samp><code>intensity, i</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите интенсивность. </font><font style="vertical-align: inherit;">Меньшие значения полезны, чтобы узнать, сколько значений одной и той же яркости распределено по входным строкам/столбцам. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.04</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон: [0, 1].
</font></font></p>
</dd>
<dt><samp><code>mirror, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим зеркального отображения. </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значит незеркальный, </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значит зеркальный. </font><font style="vertical-align: inherit;">В зеркальном режиме более высокие значения будут представлены слева для </font></font><code>row</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режима и вверху для </font></font><code>column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режима. </font><font style="vertical-align: inherit;">По умолчанию
 </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(зеркально).
</font></font></p>
</dd>
<dt><samp><code>display, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим отображения. </font><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>overlay</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Представляет информацию, идентичную представленной в </font></font><code>parade</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, за исключением того, что графики, представляющие компоненты цвета, накладываются непосредственно друг на друга.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот режим отображения облегчает обнаружение относительных различий или сходств в перекрывающихся областях цветовых компонентов, которые должны быть идентичными, таких как нейтральные белые, серые или черные цвета.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>stack</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение отдельного графика для цветовых компонентов рядом в
 </font></font><code>row</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме или один под другим в </font></font><code>column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parade</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение отдельного графика для цветовых компонентов рядом в
 </font></font><code>column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме или один под другим в </font></font><code>row</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Использование этого режима отображения позволяет легко определять цветовые оттенки в светлых и темных участках изображения путем сравнения контуров верхнего и нижнего графиков каждой формы сигнала. </font><font style="vertical-align: inherit;">Поскольку белые, серые и черные цвета характеризуются точно равными количествами красного, зеленого и синего, нейтральные области изображения должны отображать три формы волны примерно одинаковой ширины/высоты. </font><font style="vertical-align: inherit;">Если нет, то коррекцию легко выполнить, отрегулировав уровни трех сигналов.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>stack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>components, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие компоненты цвета отображать. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1, что означает только яркость или компонент красного цвета, если вход находится в цветовом пространстве RGB. </font><font style="vertical-align: inherit;">Например, если установлено значение 7, будут отображаться все 3 (если) доступных цветовых компонента.
</font></font></p>
</dd>
<dt><samp><code>envelope, e</code></samp></dt>
<dd><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нет конверта, это по умолчанию.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>instant</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Мгновенный конверт, минимальные и максимальные значения, представленные на графике, будут хорошо видны даже при небольшом </font></font><code>step</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значении.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>peak</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удерживайте минимальные и максимальные значения, представленные на графике во времени. </font><font style="vertical-align: inherit;">Таким образом, вы все еще можете обнаружить значения вне диапазона, не глядя постоянно на осциллограммы.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>peak+instant</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиковая и мгновенная огибающая объединены вместе.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>filter, f</code></samp></dt>
<dd><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lowpass</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Без фильтрации, это по умолчанию.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Яркость и цветность объединены вместе.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>aflat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аналогично предыдущему, но показывает разницу между синей и красной цветностью.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>xflat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аналогично предыдущему, но используйте другие цвета.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>yflat</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но опять же с другими цветами.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>chroma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображает только цветность.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображает фактическое значение цвета на осциллограмме.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>acolor</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аналогично предыдущему, но с яркостью, показывающей частоту значений цветности.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>graticule, g</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какую масштабную сетку отображать.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не отображать масштабную сетку.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>green</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение зеленой шкалы, показывающей разрешенные диапазоны вещания.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>orange</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение оранжевой сетки, показывающей разрешенные диапазоны вещания.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>invert</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать инвертированную сетку, показывающую допустимые диапазоны вещания.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>opacity, o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите непрозрачность сетки.
</font></font></p>
</dd>
<dt><samp><code>flags, fl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите флаги сетки.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>numbers</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте цифры над линиями. </font><font style="vertical-align: inherit;">По умолчанию включено.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dots</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Рисуйте точки вместо линий.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>scale, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите масштаб, используемый для отображения масштабной сетки.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>digital</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>millivolts</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ire</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию цифровой.
</font></font></p>
</dd>
<dt><samp><code>bgopacity, b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите прозрачность фона.
</font></font></p>
</dd>
<dt><samp><code>tint0, t0</code></samp></dt>
<dt><samp><code>tint1, t1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите оттенок для вывода. </font><font style="vertical-align: inherit;">Используется только с фильтром нижних частот и когда отображение не является наложенным, а форматы входных пикселей не RGB.
</font></font></p>
</dd>
<dt><samp><code>fitmode, fm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите образец соотношения сторон выходных видеокадров. </font><font style="vertical-align: inherit;">Может использоваться для настройки формы волны, чтобы она не слишком сильно растягивалась в одном из направлений.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите соотношение сторон образца на 1/1.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>size</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите соотношение сторон образца, чтобы оно соответствовало входному размеру видео.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию '</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p></dd>
</dl>

<span id="weave_002c-doubleweave"></span><h3 class="section"><code><a href="#toc-weave_002c-doubleweave">11.276 weave, doubleweave</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он </font></font><code>weave</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">принимает видеовход на основе полей и объединяет каждые два последовательных поля в один кадр, создавая новый клип двойной высоты с вдвое меньшей частотой кадров и вдвое меньшим количеством кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"></font><code>doubleweave</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Работает так же, </font></font><code>weave</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">но без уменьшения вдвое частоты кадров и количества кадров
 </font><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>first_field</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите первое поле. </font><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>top, t</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите кадр как верхнее поле первым.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bottom, b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите кадр как нижнее поле вперед.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Examples-131"></span><h4 class="subsection"><a href="#toc-Examples-131"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.276.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чересстрочное видео с использованием </font><font style="vertical-align: inherit;">фильтра
 </font></font><a href="#select"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выбора</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> и </font></font><a href="#separatefields"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">разделения полей:</font></font></a><font style="vertical-align: inherit;"></font><div class="example">
<pre class="example"><code>separatefields,select=eq(mod(n,4),0)+eq(mod(n,4),3),weave
</code></pre></div>
</li></ul>

<span id="xbr"></span><h3 class="section"><code><a href="#toc-xbr">11.277 xbr</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените высококачественный фильтр увеличения xBR, разработанный для пиксельной графики. </font><font style="vertical-align: inherit;">Он следует набору правил обнаружения границ, см
 . </font></font><a href="https://forums.libretro.com/t/xbr-algorithm-tutorial/123"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://forums.libretro.com/t/xbr-algorithm-tutorial/123</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размерность масштабирования: </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><code>2xBR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для
 </font></font><code>3xBR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для </font></font><code>4xBR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="xcorrelate"></span><h3 class="section"><code><a href="#toc-xcorrelate">11.278 xcorrelate</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените нормализованную взаимную корреляцию между первым и вторым входным видеопотоком.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размеры второго входного видеопотока должны быть меньше, чем у первого входного видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие плоскости обрабатывать.
</font></font></p>
</dd>
<dt><samp><code>secondary</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие вторичные видеокадры будут обрабатываться из второго входного видеопотока, это может быть </font></font><var><code>first</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>all</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>xcorrelate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="xfade"></span><h3 class="section"><code><a href="#toc-xfade">11.279 xfade</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените перекрестное затухание от одного входного видеопотока к другому входному видеопотоку. </font><font style="vertical-align: inherit;">Перекрестное затухание применяется в течение заданного времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба входа должны иметь постоянную частоту кадров и одинаковое разрешение, формат пикселей, частоту кадров и временную базу.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>transition</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите один из доступных эффектов перехода:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>custom</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fade</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wipeleft</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wiperight</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wipeup</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wipedown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>slideleft</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>slideright</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>slideup</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>slidedown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>circlecrop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rectcrop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>distance</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fadeblack</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fadewhite</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>radial</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smoothleft</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smoothright</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smoothup</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smoothdown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>circleopen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>circleclose</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vertopen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vertclose</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>horzopen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>horzclose</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dissolve</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>pixelize</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>diagtl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>diagtr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>diagbl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>diagbr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hlslice</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hrslice</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vuslice</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>vdslice</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hblur</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fadegrays</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wipetl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wipetr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wipebl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>wipebr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>squeezeh</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>squeezev</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>zoomin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fadefast</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fadeslow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эффект перехода по умолчанию — затухание.
</font></font></p>
</dd>
<dt><samp><code>duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность плавного перехода в секундах. </font><font style="vertical-align: inherit;">Диапазон от 0 до 60 секунд. </font><font style="vertical-align: inherit;">Длительность по умолчанию составляет 1 секунду.
</font></font></p>
</dd>
<dt><samp><code>offset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить начало плавного перехода относительно первого входного потока в секундах. </font><font style="vertical-align: inherit;">Смещение по умолчанию равно 0.
</font></font></p>
</dd>
<dt><samp><code>expr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение для пользовательского эффекта перехода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В выражениях могут использоваться следующие переменные и функции:
</font></font></p>
<dl compact="compact">
<dt><samp><code>X</code></samp></dt>
<dt><samp><code>Y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Координаты текущего образца.
</font></font></p>
</dd>
<dt><samp><code>W</code></samp></dt>
<dt><samp><code>H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота изображения.
</font></font></p>
</dd>
<dt><samp><code>P</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прогресс эффекта перехода.
</font></font></p>
</dd>
<dt><samp><code>PLANE</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">На данный момент обрабатывается самолет.
</font></font></p>
</dd>
<dt><samp><code>A</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение первого ввода в текущем местоположении и плоскости.
</font></font></p>
</dd>
<dt><samp><code>B</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращаемое значение второго входа в текущем местоположении и плоскости.
</font></font></p>
</dd>
<dt><samp><code>a0(x, y)</code></samp></dt>
<dt><samp><code>a1(x, y)</code></samp></dt>
<dt><samp><code>a2(x, y)</code></samp></dt>
<dt><samp><code>a3(x, y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение пикселя в местоположении ( </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) первого/второго/третьего/четвертого компонента первого ввода.
</font></font></p>
</dd>
<dt><samp><code>b0(x, y)</code></samp></dt>
<dt><samp><code>b1(x, y)</code></samp></dt>
<dt><samp><code>b2(x, y)</code></samp></dt>
<dt><samp><code>b3(x, y)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возвращает значение пикселя в месте ( </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) первого/второго/третьего/четвертого компонента второго ввода.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Examples-132"></span><h4 class="subsection"><a href="#toc-Examples-132"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.279.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перекрестное затухание от одного входного видео к другому входному видео с плавным переходом и продолжительностью перехода 2 секунды, начиная со смещения 5 секунд:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i first.mp4 -i second.mp4 -filter_complex xfade=transition=fade:duration=2:offset=5 output.mp4
</code></pre></div>
</li></ul>

<span id="xmedian"></span><h3 class="section"><code><a href="#toc-xmedian">11.280 xmedian</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите средние пиксели из нескольких входных видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить количество входов. </font><font style="vertical-align: inherit;">По умолчанию 3. Допустимый диапазон от 3 до 255. Если количество входов четное, результатом будет среднее значение между двумя медианными значениями.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по которому обрабатываются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>percentile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите средний процентиль. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">всегда будет выбирать средние значения, тогда как </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будут выбираться минимальные значения и </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">максимальные значения.
</font></font></p></dd>
</dl>

<span id="Commands-150"></span><h4 class="subsection"><a href="#toc-Commands-150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.280.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , за исключением параметра </font></font><code>inputs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="xstack"></span><h3 class="section"><code><a href="#toc-xstack">11.281 xstack</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сложите видеовходы в пользовательский макет.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все потоки должны иметь одинаковый формат пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество входных потоков. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>layout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите расположение входов. </font><font style="vertical-align: inherit;">Этот параметр требует, чтобы желаемая конфигурация макета была явно задана пользователем. </font><font style="vertical-align: inherit;">Это устанавливает положение каждого видеовхода на выходе. </font><font style="vertical-align: inherit;">Каждый вход отделяется символом «|». </font><font style="vertical-align: inherit;">Первое число представляет столбец, а второе число представляет строку. </font><font style="vertical-align: inherit;">Числа начинаются с 0 и разделяются символом «_». </font><font style="vertical-align: inherit;">Опционально можно использовать wX и hX, где X — видеовход, из которого берется ширина или высота. </font><font style="vertical-align: inherit;">Можно использовать несколько значений, разделенных знаком «+». </font><font style="vertical-align: inherit;">В этом случае значения суммируются.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что если входы имеют разные размеры, могут появиться пробелы, так как не весь выходной видеокадр будет заполнен. </font><font style="vertical-align: inherit;">Точно так же видео могут накладываться друг на друга, если их положение не оставляет достаточно места для полного кадра соседних видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для 2 входов устанавливается раскладка по умолчанию </font></font><code>0_0|w0_0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(эквивалентная
 </font></font><code>grid=2x1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Во всех остальных случаях макет или сетка должны быть установлены пользователем. </font><font style="vertical-align: inherit;">Либо </font></font><code>grid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>layout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">можно указать за один раз. </font><font style="vertical-align: inherit;">Указание обоих приведет к ошибке.
</font></font></p>
</dd>
<dt><samp><code>grid</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте сетку фиксированного размера входных данных. </font><font style="vertical-align: inherit;">Эта опция используется для создания сетки фиксированного размера входных потоков. </font><font style="vertical-align: inherit;">Задайте размер сетки в форме </font></font><code>COLUMNSxROWS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Должны быть </font></font><code>ROWS * COLUMNS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
входные потоки, и они будут организованы в виде сетки со </font></font><code>ROWS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">строками и
 </font></font><code>COLUMNS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">столбцами. </font><font style="vertical-align: inherit;">При использовании этого параметра каждый входной поток в строке должен иметь одинаковую высоту, а все строки должны иметь одинаковую ширину.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если </font></font><code>grid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено, то </font></font><code>inputs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опция игнорируется и неявно устанавливается в </font></font><code>ROWS * COLUMNS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для 2 входов устанавливается сетка по умолчанию </font></font><code>2x1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(эквивалентная
 </font></font><code>layout=0_0|w0_0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Во всех остальных случаях макет или сетка должны быть установлены пользователем. </font><font style="vertical-align: inherit;">Либо </font></font><code>grid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>layout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">можно указать за один раз. </font><font style="vertical-align: inherit;">Указание обоих приведет к ошибке.
</font></font></p>
</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, принудительное завершение вывода при завершении кратчайшего ввода. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>fill</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлен допустимый цвет, все неиспользуемые пиксели будут заполнены этим цветом. </font><font style="vertical-align: inherit;">По умолчанию fill установлено значение none, поэтому оно отключено.
</font></font></p></dd>
</dl>

<span id="Examples-133"></span><h4 class="subsection"><a href="#toc-Examples-133"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.281.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите 4 входа в сетку 2x2.

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Макет:
</font></font></p><div class="example">
<pre class="example"><code>input1(0, 0)  | input3(w0, 0)<font></font>
input2(0, h0) | input4(w0, h0)<font></font>
</code></pre></div>

<div class="example">
<pre class="example"><code>xstack=inputs=4:layout=0_0|0_h0|w0_0|w0_h0
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что если входные данные имеют разный размер, могут возникнуть пробелы или перекрытия.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отобразите 4 входа в сетку 1x4.

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Макет:
</font></font></p><div class="example">
<pre class="example"><code>input1(0, 0)<font></font>
input2(0, h0)<font></font>
input3(0, h0+h1)<font></font>
input4(0, h0+h1+h2)<font></font>
</code></pre></div>

<div class="example">
<pre class="example"><code>xstack=inputs=4:layout=0_0|0_h0|0_h0+h1|0_h0+h1+h2
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что если входы имеют разную ширину, появится неиспользуемое пространство.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение 9 входов в сетке 3x3.

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Макет:
</font></font></p><div class="example">
<pre class="example"><code>input1(0, 0)       | input4(w0, 0)      | input7(w0+w3, 0)<font></font>
input2(0, h0)      | input5(w0, h0)     | input8(w0+w3, h0)<font></font>
input3(0, h0+h1)   | input6(w0, h0+h1)  | input9(w0+w3, h0+h1)<font></font>
</code></pre></div>

<div class="example">
<pre class="example"><code>xstack=inputs=9:layout=0_0|0_h0|0_h0+h1|w0_0|w0_h0|w0_h0+h1|w0+w3_0|w0+w3_h0|w0+w3_h0+h1
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что если входные данные имеют разный размер, могут возникнуть пробелы или перекрытия.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображение 16 входов в сетке 4x4.

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Макет:
</font></font></p><div class="example">
<pre class="example"><code>input1(0, 0)       | input5(w0, 0)       | input9 (w0+w4, 0)       | input13(w0+w4+w8, 0)<font></font>
input2(0, h0)      | input6(w0, h0)      | input10(w0+w4, h0)      | input14(w0+w4+w8, h0)<font></font>
input3(0, h0+h1)   | input7(w0, h0+h1)   | input11(w0+w4, h0+h1)   | input15(w0+w4+w8, h0+h1)<font></font>
input4(0, h0+h1+h2)| input8(w0, h0+h1+h2)| input12(w0+w4, h0+h1+h2)| input16(w0+w4+w8, h0+h1+h2)<font></font>
</code></pre></div>

<div class="example">
<pre class="example"><code>xstack=inputs=16:layout=0_0|0_h0|0_h0+h1|0_h0+h1+h2|w0_0|w0_h0|w0_h0+h1|w0_h0+h1+h2|w0+w4_0|<font></font>
w0+w4_h0|w0+w4_h0+h1|w0+w4_h0+h1+h2|w0+w4+w8_0|w0+w4+w8_h0|w0+w4+w8_h0+h1|w0+w4+w8_h0+h1+h2<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что если входные данные имеют разный размер, могут возникнуть пробелы или перекрытия.
</font></font></p>
</li></ul>

<span id="yadif"></span><span id="yadif-1"></span><h3 class="section"><code><a href="#toc-yadif-1">11.282 yadif</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсинг входного видео («yadif» означает «еще один фильтр деинтерлейсинга»).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>

<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим чересстрочной развертки для принятия. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, send_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите один кадр для каждого кадра.
</font></font></p></dd>
<dt><samp><code>1, send_field</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите по одному кадру для каждого поля.
</font></font></p></dd>
<dt><samp><code>2, send_frame_nospatial</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вроде </font></font><code>send_frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, но пропускает проверку пространственного чередования.
</font></font></p></dd>
<dt><samp><code>3, send_field_nospatial</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вроде </font></font><code>send_field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, но пропускает проверку пространственного чередования.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>send_frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>parity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Четность поля изображения, предполагаемая для входного чересстрочного видео. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, tff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что верхнее поле является первым.
</font></font></p></dd>
<dt><samp><code>1, bff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что нижнее поле является первым.
</font></font></p></dd>
<dt><samp><code>-1, auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите автоматическое определение четности полей.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если чередование неизвестно или декодер не экспортирует эту информацию, сначала предполагается верхнее поле.
</font></font></p>
</dd>
<dt><samp><code>deint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие кадры следует деинтерлейсировать. </font><font style="vertical-align: inherit;">Принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, all</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсировать все кадры.
</font></font></p></dd>
<dt><samp><code>1, interlaced</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Только деинтерлейсные кадры, помеченные как чересстрочные.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="yadif_005fcuda"></span><h3 class="section"><code><a href="#toc-yadif_005fcuda">11.283 yadif_cuda</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейс входного видео с использованием алгоритма </font></font><a href="#yadif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yadif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , но реализованного в CUDA, чтобы оно могло работать как часть конвейера с ускорением графического процессора с nvdec и/или nvenc.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>

<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Режим чересстрочной развертки для принятия. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, send_frame</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите один кадр для каждого кадра.
</font></font></p></dd>
<dt><samp><code>1, send_field</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите по одному кадру для каждого поля.
</font></font></p></dd>
<dt><samp><code>2, send_frame_nospatial</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вроде </font></font><code>send_frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, но пропускает проверку пространственного чередования.
</font></font></p></dd>
<dt><samp><code>3, send_field_nospatial</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вроде </font></font><code>send_field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, но пропускает проверку пространственного чередования.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>send_frame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>parity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Четность поля изображения, предполагаемая для входного чересстрочного видео. </font><font style="vertical-align: inherit;">Он принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, tff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что верхнее поле является первым.
</font></font></p></dd>
<dt><samp><code>1, bff</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предположим, что нижнее поле является первым.
</font></font></p></dd>
<dt><samp><code>-1, auto</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите автоматическое определение четности полей.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если чередование неизвестно или декодер не экспортирует эту информацию, сначала предполагается верхнее поле.
</font></font></p>
</dd>
<dt><samp><code>deint</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, какие кадры следует деинтерлейсировать. </font><font style="vertical-align: inherit;">Принимает одно из следующих значений:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0, all</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Деинтерлейсировать все кадры.
</font></font></p></dd>
<dt><samp><code>1, interlaced</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Только деинтерлейсные кадры, помеченные как чересстрочные.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="yaepblur"></span><h3 class="section"><code><a href="#toc-yaepblur">11.284 yaepblur</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр размытия, сохраняя края («yaepblur» означает «еще один фильтр размытия, сохраняющий края»). </font><font style="vertical-align: inherit;">Алгоритм описан в "JS Lee, Улучшение цифрового изображения и фильтрация шума с использованием локальной статистики, IEEE Trans. Pattern Anal. Mach. Intell. PAMI-2, 1980".
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>radius, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите радиус окна. </font><font style="vertical-align: inherit;">Значение по умолчанию — 3.
</font></font></p>
</dd>
<dt><samp><code>planes, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">По умолчанию только первая плоскость.
</font></font></p>
</dd>
<dt><samp><code>sigma, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить силу размытия. </font><font style="vertical-align: inherit;">Значение по умолчанию — 128.
</font></font></p></dd>
</dl>

<span id="Commands-151"></span><h4 class="subsection"><a href="#toc-Commands-151"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.284.1 Команды</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает те же </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команды</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , что и параметры.
</font></font></p>
<span id="zoompan"></span><h3 class="section"><code><a href="#toc-zoompan">11.285 zoompan</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект масштабирования и панорамирования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>zoom, z</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение масштабирования. </font><font style="vertical-align: inherit;">Диапазон 1-10. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение x и y. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение длительности в количестве кадров. </font><font style="vertical-align: inherit;">Это устанавливает, сколько кадров будет длиться эффект для одного входного изображения. </font><font style="vertical-align: inherit;">По умолчанию 90.
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер выходного изображения, по умолчанию «hd720».
</font></font></p>
</dd>
<dt><samp><code>fps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную частоту кадров, по умолчанию «25».
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждое выражение может содержать следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>in_w, iw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина ввода.
</font></font></p>
</dd>
<dt><samp><code>in_h, ih</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Введите высоту.
</font></font></p>
</dd>
<dt><samp><code>out_w, ow</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная ширина.
</font></font></p>
</dd>
<dt><samp><code>out_h, oh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная высота.
</font></font></p>
</dd>
<dt><samp><code>in</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество входных кадров.
</font></font></p>
</dd>
<dt><samp><code>on</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество выходных кадров.
</font></font></p>
</dd>
<dt><samp><code>in_time, it</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входная метка времени, выраженная в секундах. </font><font style="vertical-align: inherit;">Это NAN, если отметка времени ввода неизвестна.
</font></font></p>
</dd>
<dt><samp><code>out_time, time, ot</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметка времени вывода, выраженная в секундах.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Последнее вычисленное положение «x» и «y» из выражения «x» и «y» для текущего входного кадра.
</font></font></p>
</dd>
<dt><samp><code>px</code></samp></dt>
<dt><samp><code>py</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'x' и 'y' последнего выходного кадра предыдущего входного кадра или 0, если такого кадра еще не было (первый входной кадр).
</font></font></p>
</dd>
<dt><samp><code>zoom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Последнее рассчитанное масштабирование по выражению 'z' для текущего входного кадра.
</font></font></p>
</dd>
<dt><samp><code>pzoom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Последнее вычисленное масштабирование последнего выходного кадра предыдущего входного кадра.
</font></font></p>
</dd>
<dt><samp><code>duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество выходных кадров для текущего входного кадра. </font><font style="vertical-align: inherit;">Вычисляется из выражения «d» для каждого входного кадра.
</font></font></p>
</dd>
<dt><samp><code>pduration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество выходных кадров, созданных для предыдущего входного кадра
</font></font></p>
</dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Рациональное число: ширина ввода/высота ввода
</font></font></p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон образца
</font></font></p>
</dd>
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон дисплея
</font></font></p>
</dd>
</dl>

<span id="Examples-134"></span><h4 class="subsection"><a href="#toc-Examples-134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.285.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличение до 1,5x и одновременное панорамирование в какое-то место рядом с центром изображения:
</font></font><div class="example">
<pre class="example"><code>zoompan=z='min(zoom+0.0015,1.5)':d=700:x='if(gte(zoom,1.5),x,x+1/a)':y='if(gte(zoom,1.5),y,y+1)':s=640x360
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличение до 1,5x и панорамирование всегда в центре изображения:
</font></font><div class="example">
<pre class="example"><code>zoompan=z='min(zoom+0.0015,1.5)':d=700:x='iw/2-(iw/zoom/2)':y='ih/2-(ih/zoom/2)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но без паузы:
</font></font><div class="example">
<pre class="example"><code>zoompan=z='min(max(zoom,pzoom)+0.0015,1.5)':d=1:x='iw/2-(iw/zoom/2)':y='ih/2-(ih/zoom/2)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Увеличьте 2x в центре изображения только для первой секунды входного видео:
</font></font><div class="example">
<pre class="example"><code>zoompan=z='if(between(in_time,0,1),2,1)':d=1:x='iw/2-(iw/zoom/2)':y='ih/2-(ih/zoom/2)'
</code></pre></div>

</li></ul>

<span id="zscale"></span><span id="zscale-1"></span><h3 class="section"><code><a href="#toc-zscale-1">11.286 zscale</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте (измените размер) входное видео, используя библиотеку z.lib:
 </font></font><a href="https://github.com/sekrit-twc/zimg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/sekrit-twc/zimg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам нужно настроить FFmpeg с расширением </font></font><code>--enable-libzimg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр zscale заставляет соотношение сторон выходного дисплея быть таким же, как и входное, путем изменения соотношения сторон выходного образца.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если формат входного изображения отличается от формата, запрошенного следующим фильтром, фильтр zscale преобразует входные данные в запрошенный формат.
</font></font></p>
<span id="Options-5"></span><h4 class="subsection"><a href="#toc-Options-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.286.1 Опции</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры.
</font></font></p>
<dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение размера выходного видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — входное измерение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если значение </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0, входная ширина используется для вывода. </font><font style="vertical-align: inherit;">Если значение </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0, входная высота используется для вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если одно и только одно из значений равно -n с n &gt;= 1, фильтр zscale будет использовать значение, поддерживающее соотношение сторон входного изображения, рассчитанное на основе другого указанного измерения. </font><font style="vertical-align: inherit;">Однако после этого он проверит, что вычисленное измерение делится на n, и при необходимости скорректирует значение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если оба значения равны -n с n &gt;= 1, поведение будет идентичным обоим значениям, установленным равным 0, как описано ранее.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. ниже список допустимых констант для использования в выражении измерения.
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>dither, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип дизеринга.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>none</code></var></dt>
<dt><var><code>ordered</code></var></dt>
<dt><var><code>random</code></var></dt>
<dt><var><code>error_diffusion</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию нет.
</font></font></p>
</dd>
<dt><samp><code>filter, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип фильтра изменения размера.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>point</code></var></dt>
<dt><var><code>bilinear</code></var></dt>
<dt><var><code>bicubic</code></var></dt>
<dt><var><code>spline16</code></var></dt>
<dt><var><code>spline36</code></var></dt>
<dt><var><code>lanczos</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию билинейный.
</font></font></p>
</dd>
<dt><samp><code>range, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовой диапазон.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>limited</code></var></dt>
<dt><var><code>full</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>primaries, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите основные цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>709</code></var></dt>
<dt><var><code>unspecified</code></var></dt>
<dt><var><code>170m</code></var></dt>
<dt><var><code>240m</code></var></dt>
<dt><var><code>2020</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>transfer, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите характеристики передачи.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>709</code></var></dt>
<dt><var><code>unspecified</code></var></dt>
<dt><var><code>601</code></var></dt>
<dt><var><code>linear</code></var></dt>
<dt><var><code>2020_10</code></var></dt>
<dt><var><code>2020_12</code></var></dt>
<dt><var><code>smpte2084</code></var></dt>
<dt><var><code>iec61966-2-1</code></var></dt>
<dt><var><code>arib-std-b67</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>matrix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите матрицу цветового пространства.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>709</code></var></dt>
<dt><var><code>unspecified</code></var></dt>
<dt><var><code>470bg</code></var></dt>
<dt><var><code>170m</code></var></dt>
<dt><var><code>2020_ncl</code></var></dt>
<dt><var><code>2020_cl</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>rangein, rin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите диапазон входного цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>limited</code></var></dt>
<dt><var><code>full</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>primariesin, pin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите основные цвета ввода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>709</code></var></dt>
<dt><var><code>unspecified</code></var></dt>
<dt><var><code>170m</code></var></dt>
<dt><var><code>240m</code></var></dt>
<dt><var><code>2020</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>transferin, tin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входные передаточные характеристики.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>709</code></var></dt>
<dt><var><code>unspecified</code></var></dt>
<dt><var><code>601</code></var></dt>
<dt><var><code>linear</code></var></dt>
<dt><var><code>2020_10</code></var></dt>
<dt><var><code>2020_12</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>matrixin, min</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите входную матрицу цветового пространства.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>709</code></var></dt>
<dt><var><code>unspecified</code></var></dt>
<dt><var><code>470bg</code></var></dt>
<dt><var><code>170m</code></var></dt>
<dt><var><code>2020_ncl</code></var></dt>
<dt><var><code>2020_cl</code></var></dt>
</dl>

</dd>
<dt><samp><code>chromal, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите местоположение выходной цветности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>left</code></var></dt>
<dt><var><code>center</code></var></dt>
<dt><var><code>topleft</code></var></dt>
<dt><var><code>top</code></var></dt>
<dt><var><code>bottomleft</code></var></dt>
<dt><var><code>bottom</code></var></dt>
</dl>

</dd>
<dt><samp><code>chromalin, cin</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите местоположение входной цветности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>input</code></var></dt>
<dt><var><code>left</code></var></dt>
<dt><var><code>center</code></var></dt>
<dt><var><code>topleft</code></var></dt>
<dt><var><code>top</code></var></dt>
<dt><var><code>bottomleft</code></var></dt>
<dt><var><code>bottom</code></var></dt>
</dl>

</dd>
<dt><samp><code>npl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите номинальную пиковую яркость.
</font></font></p>
</dd>
<dt><samp><code>param_a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр A для масштабирования фильтров. </font><font style="vertical-align: inherit;">Параметр «b» для бикубического и количество отводов фильтра для ланцоша.
</font></font></p>
</dd>
<dt><samp><code>param_b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметр B для масштабирования фильтров. </font><font style="vertical-align: inherit;">Параметр "c" для бикубического.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения</font></font><samp><code>w</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options — это выражения, содержащие следующие константы:
</font></font></p>
<dl compact="compact">
<dt><var><code>in_w</code></var></dt>
<dt><var><code>in_h</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота ввода
</font></font></p>
</dd>
<dt><var><code>iw</code></var></dt>
<dt><var><code>ih</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>in_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>in_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>out_w</code></var></dt>
<dt><var><code>out_h</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная (масштабированная) ширина и высота
</font></font></p>
</dd>
<dt><var><code>ow</code></var></dt>
<dt><var><code>oh</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и</font></font><var><code>out_h</code></var>
</p>
</dd>
<dt><var><code>a</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>ih</code></var>
</p>
</dd>
<dt><var><code>sar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон входного образца
</font></font></p>
</dd>
<dt><var><code>dar</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон входного дисплея. </font><font style="vertical-align: inherit;">Рассчитано из </font></font><code>(iw / ih) * sar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><var><code>hsub</code></var></dt>
<dt><var><code>vsub</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">горизонтальные и вертикальные входные значения подвыборки цветности. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p>
</dd>
<dt><var><code>ohsub</code></var></dt>
<dt><var><code>ovsub</code></var></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">горизонтальные и вертикальные выходные значения цветности подвыборки. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 1.
</font></font></p></dd>
</dl>

<span id="Commands-152"></span><h4 class="subsection"><a href="#toc-Commands-152"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.286.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение размера выходного видео. </font><font style="vertical-align: inherit;">Команда принимает тот же синтаксис соответствующей опции.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указанное выражение недействительно, оно сохраняется в своем текущем значении.
</font></font></p></dd>
</dl>


<span id="OpenCL-Video-Filters"></span><h2 class="chapter"><a href="#toc-OpenCL-Video-Filters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 видеофильтров OpenCL</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных на данный момент видеофильтров OpenCL.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этих фильтров, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-opencl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Запуск фильтров OpenCL требует инициализации аппаратного устройства и передачи этого устройства всем фильтрам в любом графе фильтров.
</font></font></p><dl compact="compact">
<dt><samp><code>-init_hw_device opencl[=<var><code>name</code></var>][:<var><code>device</code></var>[,<var><code>key=value</code></var>...]]</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Инициализируйте новое аппаратное устройство типа с </font></font><var><code>opencl</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">именем </font></font><var><code>name</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, используя заданные параметры устройства.
</font></font></p>
</dd>
<dt><samp><code>-filter_hw_device <var><code>name</code></var></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Передайте вызываемое аппаратное устройство </font></font><var><code>name</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">всем фильтрам в любом графе фильтров.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения более подробной информации см. </font></font><a href="https://www.ffmpeg.org/ffmpeg.html#Advanced-Video-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.ffmpeg.org/ffmpeg.html#Advanced-Video-options .</font></font></a>
</p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример выбора первого устройства на второй платформе и запуска на нем фильтра avgblur_opencl с параметрами по умолчанию.
</font></font><div class="example">
<pre class="example"><code>-init_hw_device opencl=gpu:1.0 -filter_hw_device gpu -i INPUT -vf "hwupload, avgblur_opencl, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поскольку фильтры OpenCL не могут получить доступ к данным кадра в обычной памяти, все данные кадра перед использованием необходимо загрузить ( </font></font><a href="#hwupload"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hwupload</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) на аппаратные поверхности, подключенные к соответствующему устройству, а затем загрузить ( </font></font><a href="#hwdownload"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hwdownload</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) обратно в обычную память. </font><font style="vertical-align: inherit;">Обратите внимание, что </font></font><a href="#hwupload"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hwupload</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> будет загружаться на поверхность с тем же макетом, что и программный фрейм, поэтому может потребоваться добавить фильтр </font></font><a href="#format"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">формата</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> непосредственно перед вводом в правильном формате, а </font></font><a href="#hwdownload"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hwdownload</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> не поддерживает все форматы на выходе — это может необходимо вставить дополнительный фильтр </font></font><a href="#format"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">формата</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> сразу после графика, чтобы получить вывод в поддерживаемом формате.
</font></font></p>
<span id="avgblur_005fopencl"></span><h3 class="section"><code><a href="#toc-avgblur_005fopencl">12.1 avgblur_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр среднего размытия.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sizeX</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер горизонтального радиуса. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[1, 1024]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>0xf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по которому обрабатываются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>sizeY</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер вертикального радиуса. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[1, 1024]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если ноль, </font></font><code>sizeX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет использоваться значение.
</font></font></p></dd>
</dl>

<span id="Example"></span><h4 class="subsection"><a href="#toc-Example"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.1.1 Пример</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр среднего размытия с горизонтальным и вертикальным размером 3, установив для каждого пикселя вывода среднее значение области 7x7 с центром на нем во входных данных. </font><font style="vertical-align: inherit;">Для пикселей по краям изображения область не выходит за границы изображения, поэтому в расчетах не используются координаты вне допустимого диапазона.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, avgblur_opencl=3, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="boxblur_005fopencl"></span><h3 class="section"><code><a href="#toc-boxblur_005fopencl">12.2 boxblur_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените алгоритм boxblur к входному видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_radius, lr</code></samp></dt>
<dt><samp><code>luma_power, lp</code></samp></dt>
<dt><samp><code>chroma_radius, cr</code></samp></dt>
<dt><samp><code>chroma_power, cp</code></samp></dt>
<dt><samp><code>alpha_radius, ar</code></samp></dt>
<dt><samp><code>alpha_power, ap</code></samp></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Далее следует описание принятых опций.
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_radius, lr</code></samp></dt>
<dt><samp><code>chroma_radius, cr</code></samp></dt>
<dt><samp><code>alpha_radius, ar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение для радиуса окна в пикселях, используемого для размытия соответствующей входной плоскости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение радиуса должно быть неотрицательным числом и не должно превышать значение выражения </font></font><code>min(w,h)/2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для плоскостей яркости и альфа, а </font></font><code>min(cw,ch)/2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также для плоскостей цветности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для</font></font><samp><code>luma_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это "2". </font><font style="vertical-align: inherit;">Если не указано,
</font></font><samp><code>chroma_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>alpha_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">по умолчанию соответствует соответствующему набору значений для</font></font><samp><code>luma_radius</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражения могут содержать следующие константы:
</font></font></p><dl compact="compact">
<dt><samp><code>w</code></samp></dt>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вводимая ширина и высота в пикселях.
</font></font></p>
</dd>
<dt><samp><code>cw</code></samp></dt>
<dt><samp><code>ch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота входного изображения цветности в пикселях.
</font></font></p>
</dd>
<dt><samp><code>hsub</code></samp></dt>
<dt><samp><code>vsub</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения подвыборки цветности по горизонтали и вертикали. </font><font style="vertical-align: inherit;">Например, для формата пикселей «yuv422p» </font></font><var><code>hsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это 2 и </font></font><var><code>vsub</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>luma_power, lp</code></samp></dt>
<dt><samp><code>chroma_power, cp</code></samp></dt>
<dt><samp><code>alpha_power, ap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, сколько раз фильтр boxblur применяется к соответствующей плоскости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию для</font></font><samp><code>luma_power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 2. Если не указано,
</font></font><samp><code>chroma_power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>alpha_power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">по умолчанию соответствует соответствующему набору значений для</font></font><samp><code>luma_power</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение 0 отключит эффект.
</font></font></p></dd>
</dl>

<span id="Examples-135"></span><h4 class="subsection"><a href="#toc-Examples-135"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.2.1 Примеры</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр boxblur, установив для каждого пикселя вывода среднее значение box-radius </font></font><var><code>luma_radius</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>chroma_radius</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>alpha_radius</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для каждой плоскости соответственно. </font><font style="vertical-align: inherit;">Фильтр будет применен </font></font><var><code>luma_power</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>chroma_power</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>alpha_power</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">раз к соответствующей плоскости. </font><font style="vertical-align: inherit;">Для пикселей по краям изображения радиус не выходит за границы изображения, поэтому в расчетах не используются координаты вне допустимого диапазона.
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр boxblur с яркостью, цветностью и альфа-радиусом, установленными на 2, и яркостью, цветностью и альфа-силой, установленными на 3. Фильтр будет запускаться 3 раза с квадратным радиусом, установленным на 2, для каждой плоскости изображения.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, boxblur_opencl=luma_radius=2:luma_power=3, hwdownload" OUTPUT<font></font>
-i INPUT -vf "hwupload, boxblur_opencl=2:3, hwdownload" OUTPUT<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр boxblur с радиусом яркости, установленным на 2, luma_power на 1, chroma_radius на 4, chroma_power на 5, alpha_radius на 3 и alpha_power на 7.

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для плоскости яркости радиус окна 2x2 будет выполнен один раз.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для плоскости цветности радиус прямоугольника 4x4 будет запущен 5 раз.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для альфа-плоскости радиус прямоугольника 3x3 будет запущен 7 раз.
</font></font></p><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, boxblur_opencl=2:1:4:5:3:7, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="colorkey_005fopencl"></span><h3 class="section"><code><a href="#toc-colorkey_005fopencl">12.3 colorkey_opencl</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цветовая манипуляция цветового пространства RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет, который будет заменен прозрачностью.
</font></font></p>
</dd>
<dt><samp><code>similarity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент сходства с ключевым цветом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.01 соответствует только точному цвету ключа, а 1.0 соответствует всему.
</font></font></p>
</dd>
<dt><samp><code>blend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Процент смеси.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0 делает пиксели либо полностью прозрачными, либо непрозрачными вовсе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Более высокие значения приводят к полупрозрачным пикселям, причем чем выше прозрачность, тем больше цвет пикселя похож на ключевой цвет.
</font></font></p></dd>
</dl>

<span id="Examples-136"></span><h4 class="subsection"><a href="#toc-Examples-136"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.3.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте каждый полузеленый пиксель на входе прозрачным с небольшим смешиванием:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, colorkey_opencl=green:0.3:0.1, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="convolution_005fopencl"></span><h3 class="section"><code><a href="#toc-convolution_005fopencl">12.4 convolution_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените свертку матрицы 3x3, 5x5, 7x7.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>0m</code></samp></dt>
<dt><samp><code>1m</code></samp></dt>
<dt><samp><code>2m</code></samp></dt>
<dt><samp><code>3m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите матрицу для каждой плоскости. </font><font style="vertical-align: inherit;">Матрица представляет собой последовательность из 9, 25 или 49 чисел со знаком. </font><font style="vertical-align: inherit;">Значение по умолчанию для каждой плоскости </font></font><code>0 0 0 0 1 0 0 0 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>0rdiv</code></samp></dt>
<dt><samp><code>1rdiv</code></samp></dt>
<dt><samp><code>2rdiv</code></samp></dt>
<dt><samp><code>3rdiv</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите множитель для расчетного значения для каждой плоскости. </font><font style="vertical-align: inherit;">Если не установлено или равно 0, это будет сумма всех элементов матрицы. </font><font style="vertical-align: inherit;">Значение параметра должно быть числом с плавающей запятой, большим или равным </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>0bias</code></samp></dt>
<dt><samp><code>1bias</code></samp></dt>
<dt><samp><code>2bias</code></samp></dt>
<dt><samp><code>3bias</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите смещение для каждой плоскости. </font><font style="vertical-align: inherit;">Это значение добавляется к результату умножения. </font><font style="vertical-align: inherit;">Полезно для того, чтобы сделать общее изображение ярче или темнее. </font><font style="vertical-align: inherit;">Значение параметра должно быть числом с плавающей запятой, большим или равным </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="Examples-137"></span><h4 class="subsection"><a href="#toc-Examples-137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.4.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить резкость:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, convolution_opencl=0 -1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0 -1 0:0 -1 0 -1 5 -1 0 -1 0, hwdownload" OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить размытие:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, convolution_opencl=1 1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1 1:1 1 1 1 1 1 1 1 1:1/9:1/9:1/9:1/9, hwdownload" OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить усиление краев:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, convolution_opencl=0 0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:0 0 0 -1 1 0 0 0 0:5:1:1:1:0:128:128:128, hwdownload" OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить обнаружение края:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, convolution_opencl=0 1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:0 1 0 1 -4 1 0 1 0:5:5:5:1:0:128:128:128, hwdownload" OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените лапласианский детектор границ, который включает диагонали:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, convolution_opencl=1 1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:1 1 1 1 -8 1 1 1 1:5:5:5:1:0:128:128:0, hwdownload" OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить тиснение:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, convolution_opencl=-2 -1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2:-2 -1 0 -1 1 1 0 1 2, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="erosion_005fopencl"></span><h3 class="section"><code><a href="#toc-erosion_005fopencl">12.5 erosion_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект эрозии к видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр заменяет пиксель локальным (3x3) минимумом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold0</code></samp></dt>
<dt><samp><code>threshold1</code></samp></dt>
<dt><samp><code>threshold2</code></samp></dt>
<dt><samp><code>threshold3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничьте максимальное изменение для каждой плоскости. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[0, 65535]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>65535</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, плоскость останется неизменной.
</font></font></p>
</dd>
<dt><samp><code>coordinates</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Флаг, указывающий пиксель, на который следует ссылаться. </font><font style="vertical-align: inherit;">Диапазон равен, </font></font><code>[0, 255]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а значение по умолчанию равно </font></font><code>255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, т. е. используются все восемь пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметки для области с локальными координатами 3x3 с центром в </font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 2 3
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 х 5
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 7 8
</font></font></p></dd>
</dl>

<span id="Example-1"></span><h4 class="subsection"><a href="#toc-Example-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.5.1 Пример</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр эрозии с порогом 0, установленным на 30, порогом 1, установленным на 40, порогом 2, установленным на 50, и координатами, установленными на 231, установив каждый пиксель вывода на локальный минимум между пикселями: 1, 2, 3, 6, 7, 8 из 3x3 область с центром на нем во входных данных. </font><font style="vertical-align: inherit;">Если разница между входным пикселем и локальным минимумом больше порога соответствующей плоскости, выходному пикселю будет присвоено значение входного пикселя - порог соответствующей плоскости.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, erosion_opencl=30:40:50:coordinates=231, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="deshake_005fopencl"></span><h3 class="section"><code><a href="#toc-deshake_005fopencl">12.6 deshake_opencl</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр стабилизации видео на основе характерных точек.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>tripod</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имитирует штатив, предотвращая любое движение камеры относительно исходного кадра. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>debug</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должна ли отображаться дополнительная отладочная информация как в обработанном выводе, так и в консоли.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что для просмотра вывода отладки консоли вам также потребуется перейти </font></font><code>-v verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">к ffmpeg.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Совпадения точек просмотра в выходном видео поддерживаются только для входа RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>adaptive_crop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нужно ли делать небольшую обрезку по краям, чтобы сократить количество зеркальных пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>refine_features</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должны ли характерные точки уточняться на уровне субпикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это можно отключить для небольшого увеличения производительности за счет точности.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>smooth_strength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сила сглаживания, примененного к пути камеры от </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">является максимальной силой сглаживания, в то время как значения меньше этого приводят к меньшему сглаживанию.
</font></font></p>
<p><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заставляет фильтр адаптивно выбирать силу сглаживания для каждого кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>smooth_window_multiplier</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Управляет размером окна сглаживания (количество буферизованных кадров, из которых определяется информация о движении).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер окна сглаживания определяется путем умножения частоты кадров видео на это число.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Допустимые значения находятся в диапазоне от </font></font><code>0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><code>10.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Большие значения увеличивают объем данных о движении, доступных для определения того, как сгладить путь камеры, потенциально улучшая плавность, но также увеличивая задержку и использование памяти.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию </font></font><code>2.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="Examples-138"></span><h4 class="subsection"><a href="#toc-Examples-138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.6.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стабилизируйте видео с фиксированной средней силой сглаживания:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, deshake_opencl=smooth_strength=0.5, hwdownload" OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Стабилизировать видео с помощью отладки (как в консоли, так и в отрендеренном видео):
</font></font><div class="example">
<pre class="example"><code>-i INPUT -filter_complex "[0:v]format=rgba, hwupload, deshake_opencl=debug=1, hwdownload, format=rgba, format=yuv420p" -v verbose OUTPUT
</code></pre></div>
</li></ul>

<span id="dilation_005fopencl"></span><h3 class="section"><code><a href="#toc-dilation_005fopencl">12.7 dilation_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект расширения к видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр заменяет пиксель локальным (3x3) максимумом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>threshold0</code></samp></dt>
<dt><samp><code>threshold1</code></samp></dt>
<dt><samp><code>threshold2</code></samp></dt>
<dt><samp><code>threshold3</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничьте максимальное изменение для каждой плоскости. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[0, 65535]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>65535</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, плоскость останется неизменной.
</font></font></p>
</dd>
<dt><samp><code>coordinates</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Флаг, указывающий пиксель, на который следует ссылаться. </font><font style="vertical-align: inherit;">Диапазон равен, </font></font><code>[0, 255]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а значение по умолчанию равно </font></font><code>255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, т. е. используются все восемь пикселей.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отметки для области с локальными координатами 3x3 с центром в </font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 2 3
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 х 5
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 7 8
</font></font></p></dd>
</dl>

<span id="Example-2"></span><h4 class="subsection"><a href="#toc-Example-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.7.1 Пример</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените фильтр расширения с порогом 0, установленным на 30, порогом 1, установленным на 40, порогом 2, установленным на 50, и координатами, установленными на 231, установив каждый пиксель вывода на локальный максимум между пикселями: 1, 2, 3, 6, 7, 8 из 3x3 область с центром на нем во входных данных. </font><font style="vertical-align: inherit;">Если разница между входным пикселем и локальным максимумом больше, чем порог соответствующей плоскости, выходной пиксель будет установлен как входной пиксель + порог соответствующей плоскости.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, dilation_opencl=30:40:50:coordinates=231, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="nlmeans_005fopencl"></span><h3 class="section"><code><a href="#toc-nlmeans_005fopencl">12.8 nlmeans_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр Non-local Means denoise через OpenCL, этот фильтр принимает те же параметры, что и </font></font><a href="#nlmeans"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nlmeans</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="overlay_005fopencl"></span><h3 class="section"><code><a href="#toc-overlay_005fopencl">12.9 overlay_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложение одного видео поверх другого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает два входа и имеет один выход. </font><font style="vertical-align: inherit;">Первый вход — это «основное» видео, на которое накладывается второй вход. </font><font style="vertical-align: inherit;">Для этого фильтра требуется одинаковое расположение памяти для всех входов. </font><font style="vertical-align: inherit;">Таким образом, может потребоваться преобразование формата.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите координату x наложенного видео на основное видео. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите координату y наложенного видео на основное видео. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="Examples-139"></span><h4 class="subsection"><a href="#toc-Examples-139"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.9.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложите изображение LOGO в верхнем левом углу видео INPUT. </font><font style="vertical-align: inherit;">Оба входа формата yuv420p.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -i LOGO -filter_complex "[0:v]hwupload[a], [1:v]format=yuv420p, hwupload[b], [a][b]overlay_opencl, hwdownload" OUTPUT
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входы имеют одинаковую структуру памяти для цветовых каналов, наложение имеет дополнительную альфа-плоскость, например, INPUT — yuv420p, а LOGO — yuva420p.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -i LOGO -filter_complex "[0:v]hwupload[a], [1:v]format=yuva420p, hwupload[b], [a][b]overlay_opencl, hwdownload" OUTPUT
</code></pre></div>

</li></ul>

<span id="pad_005fopencl"></span><h3 class="section"><code><a href="#toc-pad_005fopencl">12.10 pad_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте отступы к входному изображению и поместите исходный ввод в предоставленные </font><font style="vertical-align: inherit;">координаты
 </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, .</font></font><var><code>y</code></var><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>width, w</code></samp></dt>
<dt><samp><code>height, h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите выражение для размера выходного изображения с добавленными отступами. </font><font style="vertical-align: inherit;">Если значение для </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0, соответствующий входной размер используется для вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может ссылаться на значение, заданное
 </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выражением, и наоборот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите смещения для размещения входного изображения в области заполнения относительно верхней/левой границы выходного изображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может ссылаться на значение, заданное </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
выражением, и наоборот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равно 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оценивается как отрицательное число, они будут изменены таким образом, чтобы входное изображение располагалось по центру заполненной области.
</font></font></p>
</dd>
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет заполненной области. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>aspect</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pad к аспекту, а не к разрешению.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения параметров </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
являются выражениями, содержащими следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>in_w</code></samp></dt>
<dt><samp><code>in_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина и высота входного видео.
</font></font></p>
</dd>
<dt><samp><code>iw</code></samp></dt>
<dt><samp><code>ih</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>in_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>in_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>out_w</code></samp></dt>
<dt><samp><code>out_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выходная ширина и высота (размер заполненной области), как указано в </font><font style="vertical-align: inherit;">выражениях
 </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и .</font></font><var><code>height</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>ow</code></samp></dt>
<dt><samp><code>oh</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это такие же, как </font></font><var><code>out_w</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>out_h</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>x</code></samp></dt>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смещения x и y, как указано в выражениях </font></font><var><code>x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, или NAN, если они еще не указаны.
</font></font></p>
</dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">то же, что </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><var><code>ih</code></var>
</p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соотношение сторон входного образца
</font></font></p>
</dd>
<dt><samp><code>dar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">входное соотношение сторон дисплея, оно такое же, как ( </font></font><var><code>iw</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>ih</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) *</font></font><var><code>sar</code></var>
</p></dd>
</dl>

<span id="prewitt_005fopencl"></span><h3 class="section"><code><a href="#toc-prewitt_005fopencl">12.11 prewitt_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените оператор Prewitt ( </font></font><a href="https://en.wikipedia.org/wiki/Prewitt_operator"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://en.wikipedia.org/wiki/Prewitt_operator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) к входному видеопотоку.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>0xf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по которому обрабатываются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет умножено на отфильтрованный результат. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[0.0, 65535]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет добавлено к отфильтрованному результату. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[-65535, 65535]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Example-3"></span><h4 class="subsection"><a href="#toc-Example-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.11.1 Пример</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените оператор Prewitt со шкалой, установленной на 2, и дельтой, установленной на 10.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, prewitt_opencl=scale=2:delta=10, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="program_005fopencl"></span><span id="program_005fopencl-1"></span><h3 class="section"><code><a href="#toc-program_005fopencl-1">12.12 program_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтруйте видео с помощью программы OpenCL.
</font></font></p>
<dl compact="compact">
<dt><samp><code>source</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходный файл программы OpenCL.
</font></font></p>
</dd>
<dt><samp><code>kernel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имя ядра в программе.
</font></font></p>
</dd>
<dt><samp><code>inputs</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество входов в фильтр. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер выходных кадров. </font><font style="vertical-align: inherit;">По умолчанию то же, что и первый вход.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>program_opencl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">также поддерживает параметры </font></font><a href="#framesync"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">синхронизации кадров</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходный файл программы должен содержать функцию ядра с заданным именем, которая будет запускаться один раз для каждой плоскости вывода. </font><font style="vertical-align: inherit;">Каждый запуск на плоскости ставится в очередь как отдельный глобальный 2D NDRange с одним рабочим элементом для каждого создаваемого пикселя. </font><font style="vertical-align: inherit;">Таким образом, глобальное смещение идентификатора для каждого рабочего элемента представляет собой координаты пикселя в целевом изображении.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Функция ядра должна принимать следующие аргументы:
</font></font></p><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образ назначения,</font></font><var><code>__write_only image2d_t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это изображение станет выходным; </font><font style="vertical-align: inherit;">ядро должно написать все это.
</font></font></p></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Индекс кадра,</font></font><var><code>unsigned int</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это счетчик, начинающийся с нуля и увеличивающийся на единицу для каждого кадра.
</font></font></p></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходные изображения,</font></font><var><code>__read_only image2d_t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это самые последние изображения на каждом входе. </font><font style="vertical-align: inherit;">Ядро может читать из них для генерации вывода, но не может записывать в них.
</font></font></p></li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примеры программ:
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скопируйте ввод в вывод (вывод должен быть того же размера, что и ввод).
</font></font><pre class="verbatim"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__kernel void copy (__write_only image2d_t назначение,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                   беззнаковый целочисленный индекс,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                   __read_only источник image2d_t)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    const sampler_t сэмплер = CLK_NORMALIZED_COORDS_FALSE;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int2 location = (int2)(get_global_id(0), get_global_id(1));</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    значение float4 = read_imagef (источник, сэмплер, местоположение);</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    write_imagef (назначение, местоположение, значение);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените простое преобразование, вращая ввод на величину, увеличивающуюся с увеличением счетчика индексов. </font><font style="vertical-align: inherit;">Значения пикселей линейно интерполируются сэмплером, и выход не обязательно должен иметь те же размеры, что и вход.
</font></font><pre class="verbatim"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__kernel void rotate_image(__write_only image2d_t dst,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                           беззнаковый целочисленный индекс,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                           __read_only image2d_t источник)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    const sampler_t сэмплер = (CLK_NORMALIZED_COORDS_FALSE |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                               CLK_FILTER_LINEAR);</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    угол плавания = (плавающий) индекс / 100.0f;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 dst_dim = convert_float2 (get_image_dim (dst));</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 src_dim = convert_float2 (get_image_dim (src));</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 dst_cen = dst_dim/2.0f;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 src_cen = src_dim/2.0f;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int2 dst_loc = (int2)(get_global_id(0), get_global_id(1));</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 dst_pos = convert_float2(dst_loc) - dst_cen;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 src_pos = {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        cos(угол) * dst_pos.x - sin(угол) * dst_pos.y,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        sin(угол) * dst_pos.x + cos(угол) * dst_pos.y</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    };</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    src_pos = src_pos * src_dim / dst_dim;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 src_loc = src_pos + src_cen;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    если (src_loc.x &lt; 0.0f || src_loc.y &lt; 0.0f ||</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        src_loc.x &gt; src_dim.x || </font><font style="vertical-align: inherit;">src_loc.y &gt; src_dim.y)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        write_imagef(dst, dst_loc, 0.5f);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    еще</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        write_imagef(dst, dst_loc, read_imagef(src, sampler, src_loc));</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смешайте два входа вместе, при этом количество каждого используемого входа зависит от счетчика индекса.
</font></font><pre class="verbatim"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__kernel void blend_images(__write_only image2d_t dst,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                           беззнаковый целочисленный индекс,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                           __read_only image2d_t src1,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                           __read_only image2d_t источник2)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    const sampler_t сэмплер = (CLK_NORMALIZED_COORDS_FALSE |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                               CLK_FILTER_LINEAR);</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    смесь с плавающей запятой = (cos((float)index / 50.0f) + 1.0f) / 2.0f;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int2 dst_loc = (int2)(get_global_id(0), get_global_id(1));</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int2 src1_loc = dst_loc * get_image_dim(src1) / get_image_dim(dst);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int2 src2_loc = dst_loc * get_image_dim(src2) / get_image_dim(dst);</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float4 val1 = read_imagef(src1, sampler, src1_loc);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float4 val2 = read_imagef(src2, sampler, src2_loc);</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    write_imagef(dst, dst_loc, val1 * blend + val2 * (1.0f - blend));</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre>
</li></ul>

<span id="remap_005fopencl"></span><h3 class="section"><code><a href="#toc-remap_005fopencl">12.13 remap_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переназначьте пиксели, используя 2-й: Xmap и 3-й: входной видеопоток Ymap.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пиксель назначения в позиции (X, Y) будет выбран из позиции источника (x, y), где x = Xmap(X, Y) и y = Ymap(X, Y). </font><font style="vertical-align: inherit;">Если значения сопоставления выходят за пределы допустимого диапазона, для целевого пикселя будет использоваться нулевое значение для пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входные видеопотоки Xmap и Ymap должны иметь одинаковые размеры. </font><font style="vertical-align: inherit;">Выходной видеопоток будет иметь размеры видеопотока Xmap/Ymap. </font><font style="vertical-align: inherit;">Входные видеопотоки Xmap и Ymap представляют собой 32-битный формат с плавающей запятой, одноканальный.
</font></font></p>
<dl compact="compact">
<dt><samp><code>interp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите интерполяцию, используемую для переназначения пикселей. </font><font style="vertical-align: inherit;">Допустимые значения </font></font><code>near</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>linear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>linear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fill</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет неотображенных пикселей. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Цвет по умолчанию </font></font><code>black</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="roberts_005fopencl"></span><h3 class="section"><code><a href="#toc-roberts_005fopencl">12.14 roberts_opencl</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените перекрестный оператор Робертса ( </font></font><a href="https://en.wikipedia.org/wiki/Roberts_cross"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://en.wikipedia.org/wiki/Roberts_cross</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) для входного видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>0xf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по которому обрабатываются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет умножено на отфильтрованный результат. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[0.0, 65535]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет добавлено к отфильтрованному результату. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[-65535, 65535]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Example-4"></span><h4 class="subsection"><a href="#toc-Example-4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.14.1 Пример</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените перекрестный оператор Робертса с масштабом, равным 2, и значением дельты, равным 10.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, roberts_opencl=scale=2:delta=10, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="sobel_005fopencl"></span><h3 class="section"><code><a href="#toc-sobel_005fopencl">12.15 sobel_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените оператор Собеля ( </font></font><a href="https://en.wikipedia.org/wiki/Sobel_operator"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://en.wikipedia.org/wiki/Sobel_operator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) для ввода видеопотока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующий вариант:
</font></font></p>
<dl compact="compact">
<dt><samp><code>planes</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие самолеты фильтровать. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>0xf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по которому обрабатываются все плоскости.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет умножено на отфильтрованный результат. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[0.0, 65535]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>delta</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, которое будет добавлено к отфильтрованному результату. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[-65535, 65535]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Example-5"></span><h4 class="subsection"><a href="#toc-Example-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.15.1 Пример</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Применить оператор собеля с масштабом, установленным на 2, и дельта, установленным на 10
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, sobel_opencl=scale=2:delta=10, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="tonemap_005fopencl"></span><h3 class="section"><code><a href="#toc-tonemap_005fopencl">12.16 tonemap_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование HDR(PQ/HLG) в SDR с тональным отображением.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>tonemap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите используемый оператор тонального отображения. </font><font style="vertical-align: inherit;">То же, что и параметр тональной карты в </font></font><a href="#tonemap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тональной карте</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>param</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Настройте алгоритм отображения тонов. </font><font style="vertical-align: inherit;">то же, что параметр param в </font></font><a href="#tonemap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тональной карте</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>desat</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените обесцвечивание к светлым участкам, яркость которых превышает этот уровень. </font><font style="vertical-align: inherit;">Чем выше параметр, тем больше информации о цвете будет сохранено. </font><font style="vertical-align: inherit;">Этот параметр помогает предотвратить неестественное размытие цветов для супербликов, вместо этого (плавно) превращая их в белые. </font><font style="vertical-align: inherit;">Это делает изображения более естественными за счет уменьшения информации о цветах вне диапазона.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — 0,5, и алгоритм здесь немного отличается от тоновой карты версии процессора в настоящее время. </font><font style="vertical-align: inherit;">Значение 0.0 отключает эту опцию.
</font></font></p>
</dd>
<dt><samp><code>threshold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры алгоритма тональной компрессии точно настраиваются для каждой сцены. </font><font style="vertical-align: inherit;">И порог используется для определения того, изменилась ли сцена или нет. </font><font style="vertical-align: inherit;">Если расстояние между текущей средней яркостью кадра и текущим скользящим средним значением превышает пороговое значение, мы пересчитываем среднее значение сцены и пиковую яркость. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,2.
</font></font></p>
</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите формат выходного пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В настоящее время поддерживаются следующие форматы:
</font></font></p><dl compact="compact">
<dt><var><code>p010</code></var></dt>
<dt><var><code>nv12</code></var></dt>
</dl>

</dd>
<dt><samp><code>range, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовой диапазон вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>tv/mpeg</code></var></dt>
<dt><var><code>pc/jpeg</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>primaries, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите основные цвета вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>bt709</code></var></dt>
<dt><var><code>bt2020</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>transfer, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходные передаточные характеристики.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>bt709</code></var></dt>
<dt><var><code>bt2020</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию BT709.
</font></font></p>
</dd>
<dt><samp><code>matrix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную матрицу цветового пространства.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><var><code>bt709</code></var></dt>
<dt><var><code>bt2020</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
</dl>

<span id="Example-6"></span><h4 class="subsection"><a href="#toc-Example-6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.16.1 Пример</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование видео HDR (PQ/HLG) в формат bt2020-transfer-characteristic p010 с использованием линейного оператора.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "format=p010,hwupload,tonemap_opencl=t=bt2020:tonemap=linear:format=p010,hwdownload,format=p010" OUTPUT
</code></pre></div>
</li></ul>

<span id="unsharp_005fopencl"></span><h3 class="section"><code><a href="#toc-unsharp_005fopencl">12.17 unsharp_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Резкость или размытие входного видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>luma_msize_x, lx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите горизонтальный размер матрицы яркости. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[1, 23]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>luma_msize_y, ly</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер матрицы яркости по вертикали. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[1, 23]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>luma_amount, la</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу эффекта яркости. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[-10, 10]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>1.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрицательные значения будут размывать входное видео, а положительные значения сделают его более четким, нулевое значение отключит эффект.
</font></font></p>
</dd>
<dt><samp><code>chroma_msize_x, cx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер матрицы цветности по горизонтали. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[1, 23]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>chroma_msize_y, cy</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер матрицы цветности по вертикали. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[1, 23]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>chroma_amount, ca</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите силу эффекта цветности. </font><font style="vertical-align: inherit;">Диапазон </font></font><code>[-10, 10]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отрицательные значения будут размывать входное видео, а положительные значения сделают его более четким, нулевое значение отключит эффект.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все параметры являются необязательными и по умолчанию эквивалентны строке «5:5:1.0:5:5:0.0».
</font></font></p>
<span id="Examples-140"></span><h4 class="subsection"><a href="#toc-Examples-140"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.17.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените сильный эффект резкости яркости:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, unsharp_opencl=luma_msize_x=7:luma_msize_y=7:luma_amount=2.5, hwdownload" OUTPUT
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените сильное размытие параметров яркости и цветности:
</font></font><div class="example">
<pre class="example"><code>-i INPUT -vf "hwupload, unsharp_opencl=7:7:-2:7:7:-2, hwdownload" OUTPUT
</code></pre></div>
</li></ul>

<span id="xfade_005fopencl"></span><h3 class="section"><code><a href="#toc-xfade_005fopencl">12.18 xfade_opencl</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Плавное затухание двух видео с пользовательским эффектом перехода с помощью OpenCL.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>transition</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите один из возможных эффектов перехода.
</font></font></p>
<dl compact="compact">
<dt><samp><code>custom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите пользовательский эффект перехода, фактическое описание перехода будет выбрано из параметров исходного кода и ядра.
</font></font></p>
</dd>
<dt><samp><code>fade</code></samp></dt>
<dt><samp><code>wipeleft</code></samp></dt>
<dt><samp><code>wiperight</code></samp></dt>
<dt><samp><code>wipeup</code></samp></dt>
<dt><samp><code>wipedown</code></samp></dt>
<dt><samp><code>slideleft</code></samp></dt>
<dt><samp><code>slideright</code></samp></dt>
<dt><samp><code>slideup</code></samp></dt>
<dt><samp><code>slidedown</code></samp></dt>
<dd>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переход по умолчанию — затухание.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>source</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходный файл программы OpenCL для пользовательского перехода.
</font></font></p>
</dd>
<dt><samp><code>kernel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите имя ядра, которое будет использоваться для пользовательского перехода из исходного файла программы.
</font></font></p>
</dd>
<dt><samp><code>duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность видеоперехода.
</font></font></p>
</dd>
<dt><samp><code>offset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите время начала перехода относительно первого видео.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходный файл программы должен содержать функцию ядра с заданным именем, которая будет запускаться один раз для каждой плоскости вывода. </font><font style="vertical-align: inherit;">Каждый запуск на плоскости ставится в очередь как отдельный глобальный 2D NDRange с одним рабочим элементом для каждого создаваемого пикселя. </font><font style="vertical-align: inherit;">Таким образом, глобальное смещение идентификатора для каждого рабочего элемента представляет собой координаты пикселя в целевом изображении.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Функция ядра должна принимать следующие аргументы:
</font></font></p><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Образ назначения,</font></font><var><code>__write_only image2d_t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это изображение станет выходным; </font><font style="vertical-align: inherit;">ядро должно написать все это.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первое исходное изображение, </font></font><var><code>__read_only image2d_t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Второе исходное изображение, </font></font><var><code>__read_only image2d_t</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.

</font></font><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это самые последние изображения на каждом входе. </font><font style="vertical-align: inherit;">Ядро может читать из них для генерации вывода, но не может записывать в них.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ход перехода, </font></font><var><code>float</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это значение всегда находится в диапазоне от 0 до 1 включительно.
</font></font></li></ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примеры программ:
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект перехода занавеса точек:
</font></font><pre class="verbatim"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__kernel void blend_images(__write_only image2d_t dst,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                           __read_only image2d_t src1,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                           __read_only image2d_t src2,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                           плавающий прогресс)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    const sampler_t сэмплер = (CLK_NORMALIZED_COORDS_FALSE |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                               CLK_FILTER_LINEAR);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int2 p = (int2)(get_global_id(0), get_global_id(1));</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 rp = (float2)(get_global_id(0), get_global_id(1));</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 dim = (float2)(get_image_dim(src1).x, get_image_dim(src1).y);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    рп = рп/дим;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 точки = (float2)(20.0, 20.0);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    центр поплавка2 = (поплавок2)(0,0);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float2 не используется;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float4 val1 = read_imagef(src1, sampler, p);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    float4 val2 = read_imagef(src2, sampler, p);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    bool next = Distance(fract(rp * dots, &amp;unused), (float2)(0.5, 0.5)) &lt; (прогресс/расстояние(rp, центр));</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    write_imagef(dst, p, next? val1 : val2);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre>
</li></ul>


<span id="VAAPI-Video-Filters"></span><h2 class="chapter"><a href="#toc-VAAPI-Video-Filters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 видеофильтров VAAPI</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Видеофильтры VAAPI обычно используются с декодером VAAPI и кодировщиком VAAPI. </font><font style="vertical-align: inherit;">Ниже приведено описание видеофильтров VAAPI.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этих фильтров, вам необходимо настроить FFmpeg с расширением
 </font></font><code>--enable-vaapi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы использовать фильтры vaapi, вам необходимо правильно настроить устройство vaapi. </font><font style="vertical-align: inherit;">Для получения дополнительной информации, пожалуйста, прочитайте </font></font><a href="https://trac.ffmpeg.org/wiki/Hardware/VAAPI"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://trac.ffmpeg.org/wiki/Hardware/VAAPI.</font></font></a>
</p>
<span id="overlay_005fvaapi"></span><h3 class="section"><code><a href="#toc-overlay_005fvaapi">13.1 overlay_vaapi</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложение одного видео поверх другого.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает два входа и имеет один выход. </font><font style="vertical-align: inherit;">Первый вход — это «основное» видео, на которое накладывается второй вход. </font><font style="vertical-align: inherit;">Для этого фильтра требуется одинаковое расположение памяти для всех входов. </font><font style="vertical-align: inherit;">Таким образом, может потребоваться преобразование формата.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите координату x наложенного видео на основное видео. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите координату y наложенного видео на основное видео. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину наложенного видео на основное видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — ширина входного оверлейного видео.
</font></font></p>
</dd>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высоту наложенного видео на основное видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — высота входного оверлейного видео.
</font></font></p>
</dd>
<dt><samp><code>alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороги обнаружения блокировки. </font><font style="vertical-align: inherit;">Допустимый диапазон от 0,0 до 1,0, требуется входное видео с альфа-каналом. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="Examples-141"></span><h4 class="subsection"><a href="#toc-Examples-141"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.1.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложите изображение LOGO в верхнем левом углу видео INPUT. </font><font style="vertical-align: inherit;">Оба входа для этого фильтра имеют формат yuv420p.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -i LOGO -filter_complex "[0:v]hwupload[a], [1:v]format=yuv420p, hwupload[b], [a][b]overlay_vaapi" OUTPUT
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Наложите изображение ЛОГОТИПА со смещением (200, 100) от верхнего левого угла ВХОДНОГО видео. </font><font style="vertical-align: inherit;">Входы имеют одинаковую структуру памяти для цветовых каналов, наложение имеет дополнительную альфа-плоскость, например, INPUT — yuv420p, а LOGO — yuva420p.
</font></font><div class="example">
<pre class="example"><code>-i INPUT -i LOGO -filter_complex "[0:v]hwupload[a], [1:v]format=yuva420p, hwupload[b], [a][b]overlay_vaapi=x=200:y=100:w=400:h=300:alpha=1.0, hwdownload, format=nv12" OUTPUT
</code></pre></div>

</li></ul>

<span id="tonemap_005fvaapi"></span><h3 class="section"><code><a href="#toc-tonemap_005fvaapi">13.2 tonemap_vaapi</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование HDR (расширенный динамический диапазон) в SDR (стандартный динамический диапазон) с тональным отображением. </font><font style="vertical-align: inherit;">Он сопоставляет динамический диапазон контента HDR10 с контентом SDR. </font><font style="vertical-align: inherit;">В настоящее время он принимает только HDR10 в качестве входного сигнала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите формат выходного пикселя.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В настоящее время поддерживаются следующие форматы:
</font></font></p><dl compact="compact">
<dt><var><code>p010</code></var></dt>
<dt><var><code>nv12</code></var></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию nv12.
</font></font></p>
</dd>
<dt><samp><code>primaries, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите основные цвета вывода.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
<dt><samp><code>transfer, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходные передаточные характеристики.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию BT709.
</font></font></p>
</dd>
<dt><samp><code>matrix, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную матрицу цветового пространства.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию то же, что и ввод.
</font></font></p>
</dd>
</dl>

<span id="Example-7"></span><h4 class="subsection"><a href="#toc-Example-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.2.1 Пример</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование видео HDR (HDR10) в формат bt2020-transfer-characteristic p010
</font></font><div class="example">
<pre class="example"><code>tonemap_vaapi=format=p010:t=bt2020-10
</code></pre></div>
</li></ul>


<span id="Video-Sources"></span><h2 class="chapter"><a href="#toc-Video-Sources"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 источников видео</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных на данный момент видеоисточников.
</font></font></p>
<span id="buffer"></span><h3 class="section"><code><a href="#toc-buffer">14.1 buffer</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Буферизируйте видеокадры и сделайте их доступными для цепочки фильтров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник в основном предназначен для программного использования, в частности, через интерфейс, определенный в</font></font><samp><code>libavfilter/buffersrc.h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>video_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер (ширину и высоту) буферизованных видеокадров. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>width</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина входного видео.
</font></font></p>
</dd>
<dt><samp><code>height</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высота входного видео.
</font></font></p>
</dd>
<dt><samp><code>pix_fmt</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Строка, представляющая формат пикселей буферизованных видеокадров. </font><font style="vertical-align: inherit;">Это может быть число, соответствующее формату пикселя, или имя формата пикселя.
</font></font></p>
</dd>
<dt><samp><code>time_base</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите временную базу, предполагаемую временными метками буферизованных кадров.
</font></font></p>
</dd>
<dt><samp><code>frame_rate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту кадров, ожидаемую для видеопотока.
</font></font></p>
</dd>
<dt><samp><code>pixel_aspect, sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Соотношение сторон образца (пикселя) входного видео.
</font></font></p>
</dd>
<dt><samp><code>sws_param</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр устарел и игнорируется. </font><font style="vertical-align: inherit;">Добавьте перед описанием filtergraph </font><font style="vertical-align: inherit;">
, чтобы указать флаги swscale для автоматически вставляемых масштабаторов. </font><font style="vertical-align: inherit;">См . </font><a href="#Filtergraph-syntax"><font style="vertical-align: inherit;">Синтаксис Filtergraph</font></a><font style="vertical-align: inherit;"> .
</font></font><code>sws_flags=<var><code>flags</code></var>;</code><font style="vertical-align: inherit;"></font><a href="#Filtergraph-syntax"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>hw_frames_ctx</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При использовании формата аппаратных пикселей это должна быть ссылка на AVHWFramesContext, описывающий входные кадры.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например:
</font></font></p><div class="example">
<pre class="example"><code>buffer=width=320:height=240:pix_fmt=yuv410p:time_base=1/24:sar=1
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">укажет источнику принимать видеокадры размером 320x240 и в формате "yuv410p", предполагая 1/24 в качестве временной базы временных меток и квадратных пикселей (соотношение сторон образца 1:1). </font><font style="vertical-align: inherit;">Поскольку формат пикселя с именем "yuv410p" соответствует числу 6 (проверьте определение enum AVPixelFormat в</font></font><samp><code>libavutil/pixfmt.h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), этот пример соответствует:
</font></font></p><div class="example">
<pre class="example"><code>buffer=size=320x240:pixfmt=6:time_base=1/24:pixel_aspect=1/1
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В качестве альтернативы параметры могут быть указаны в виде простой строки, но этот синтаксис устарел:
</font></font></p>
<p><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>height</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>pix_fmt</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>time_base.num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>time_base.den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><var><code>pixel_aspect.num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><var><code>pixel_aspect.den</code></var>
</p>
<span id="cellauto"></span><h3 class="section"><code><a href="#toc-cellauto">14.2 cellauto</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте шаблон, сгенерированный элементарным клеточным автоматом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Начальное состояние клеточного автомата можно определить через
</font></font><samp><code>filename</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">а также</font></font><samp><code>pattern</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции. </font><font style="vertical-align: inherit;">Если такие опции не указаны, начальное состояние создается случайным образом.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При каждом новом кадре новая строка видео заполняется результатом работы клеточного автомата следующего поколения. </font><font style="vertical-align: inherit;">Поведение при заполнении всего кадра определяется параметром</font></font><samp><code>scroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filename, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Считать начальное состояние клеточного автомата, т.е. начальную строку, из указанного файла. </font><font style="vertical-align: inherit;">В файле каждый непробельный символ считается активной ячейкой, новая строка завершает строку, а дальнейшие символы в файле игнорируются.
</font></font></p>
</dd>
<dt><samp><code>pattern, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Считать начальное состояние клеточного автомата, т.е. начальную строку, из указанной строки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Каждый непробельный символ в строке считается активной ячейкой, новая строка завершает строку, а дальнейшие символы в строке будут игнорироваться.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите скорость видео, то есть количество кадров, генерируемых в секунду. </font><font style="vertical-align: inherit;">По умолчанию 25.
</font></font></p>
</dd>
<dt><samp><code>random_fill_ratio, ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите случайный коэффициент заполнения для начальной строки клеточного автомата. </font><font style="vertical-align: inherit;">Это числовое значение с плавающей запятой в диапазоне от 0 до 1, по умолчанию 1/PHI.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр игнорируется, если указан файл или шаблон.
</font></font></p>
</dd>
<dt><samp><code>random_seed, seed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное значение для случайного заполнения начальной строки, оно должно быть целым числом в диапазоне от 0 до UINT32_MAX. </font><font style="vertical-align: inherit;">Если не указано или явно задано значение -1, фильтр попытается использовать хорошее случайное начальное число в максимально возможной степени.
</font></font></p>
</dd>
<dt><samp><code>rule</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите правило клеточного автомата, это число от 0 до 255. Значение по умолчанию 110.
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер выходного видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если</font></font><samp><code>filename</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или же</font></font><samp><code>pattern</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указан, размер по умолчанию устанавливается равным ширине указанной строки начального состояния, а высота устанавливается </font></font><var><code>width</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равной * PHI.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если</font></font><samp><code>size</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлен, он должен содержать ширину указанной строки шаблона, и указанный шаблон будет центрирован в большей строке.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если имя файла или строка шаблона не указаны, значение размера по умолчанию равно «320x518» (используется для случайно сгенерированного начального состояния).
</font></font></p>
</dd>
<dt><samp><code>scroll</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, прокручивайте вывод вверх, когда все строки в выводе уже заполнены. </font><font style="vertical-align: inherit;">Если установлено значение 0, новая сгенерированная строка будет записана поверх верхней строки сразу после заполнения нижней строки. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>start_full, full</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, полностью заполните вывод сгенерированными строками перед выводом первого кадра. </font><font style="vertical-align: inherit;">Это поведение по умолчанию, для отключения установите значение 0.
</font></font></p>
</dd>
<dt><samp><code>stitch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, сшейте края левого и правого ряда вместе. </font><font style="vertical-align: inherit;">Это поведение по умолчанию, для отключения установите значение 0.
</font></font></p></dd>
</dl>

<span id="Examples-142"></span><h4 class="subsection"><a href="#toc-Examples-142"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.2.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прочитайте начальное состояние из</font></font><samp><code>pattern</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и укажите выходной размер 200x400.
</font></font><div class="example">
<pre class="example"><code>cellauto=f=pattern:s=200x400
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте случайную начальную строку шириной 200 ячеек с коэффициентом заполнения 2/3:
</font></font><div class="example">
<pre class="example"><code>cellauto=ratio=2/3:s=200x200
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте шаблон, созданный по правилу 18, начиная с одной живой ячейки с центром в начальной строке шириной 100:
</font></font><div class="example">
<pre class="example"><code>cellauto=p=@:s=100x400:full=0:rule=18
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите более сложный начальный шаблон:
</font></font><div class="example">
<pre class="example"><code>cellauto=p='@@ @ @@':s=100x400:full=0:rule=18
</code></pre></div>

</li></ul>

<span id="coreimagesrc"></span><span id="coreimagesrc-1"></span><h3 class="section"><code><a href="#toc-coreimagesrc-1">14.3 coreimagesrc</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник видео, созданный на графическом процессоре с использованием Apple CoreImage API в OSX.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник видео является специализированной версией </font></font><a href="#coreimage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">основного образа.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Используйте основной генератор изображений в начале применяемой цепочки фильтров для создания контента.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник видео coreimagesrc принимает следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>list_generators</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Перечислите все доступные генераторы вместе со всеми их соответствующими параметрами, а также возможные минимальные и максимальные значения вместе со значениями по умолчанию.
</font></font></p><div class="example">
<pre class="example"><code>list_generators=true
</code></pre></div>

</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер исходного видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>320x240</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту кадров исходного видео как количество кадров, генерируемых в секунду. </font><font style="vertical-align: inherit;">Это должна быть строка в формате
 </font></font><var><code>frame_rate_num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>frame_rate_den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, целое число, число с плавающей запятой или допустимая аббревиатура частоты кадров видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите соотношение сторон образца исходного видео.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность исходного видео. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если не указано или выраженная продолжительность отрицательна, предполагается, что видео будет генерироваться вечно.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кроме того, принимаются все параметры видеофильтра </font></font><a href="#coreimage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coreimage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Полная цепочка фильтров может использоваться для дальнейшей обработки сгенерированного ввода без передачи CPU-HOST. </font><font style="vertical-align: inherit;">Подробности смотрите в </font><font style="vertical-align: inherit;">документации и примерах
 </font></font><a href="#coreimage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coreimage .</font></font></a><font style="vertical-align: inherit;"></font></p>
<span id="Examples-143"></span><h4 class="subsection"><a href="#toc-Examples-143"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.3.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте CIQRCodeGenerator для создания QR-кода для домашней страницы FFmpeg в виде полной и экранированной командной строки для стандартной оболочки Apple bash:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -f lavfi -i coreimagesrc=s=100x100:filter=CIQRCodeGenerator@inputMessage=https\\\\\://FFmpeg.org/@inputCorrectionLevel=H -frames:v 1 QRCode.png
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот пример эквивалентен примеру </font></font><a href="#coreimage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ядра QRCode</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> без необходимости использования источника видео nullsrc.
</font></font></p></li></ul>


<span id="gradients"></span><h3 class="section"><code><a href="#toc-gradients">14.4 gradients</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте несколько градиентов.
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер кадра. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию — «640x480».
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту кадров, выраженную в количестве кадров в секунду. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>c0, c1, c2, c3, c4, c5, c6, c7</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите 8 цветов. </font><font style="vertical-align: inherit;">Значения по умолчанию для цветов выбираются случайным образом.
</font></font></p>
</dd>
<dt><samp><code>x0, y0, y0, y1</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите исходную и конечную точки градиентной линии. </font><font style="vertical-align: inherit;">Если отрицательный или вне диапазона, выбираются случайные.
</font></font></p>
</dd>
<dt><samp><code>nb_colors, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество цветов, которые будут использоваться одновременно. </font><font style="vertical-align: inherit;">Допустимый диапазон от 2 до 8. Значение по умолчанию — 2.
</font></font></p>
</dd>
<dt><samp><code>seed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное значение для выбора точек градиентной линии.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность исходного видео. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если не указано или выраженная продолжительность отрицательна, предполагается, что видео будет генерироваться вечно.
</font></font></p>
</dd>
<dt><samp><code>speed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорость вращения градиентов.
</font></font></p>
</dd>
<dt><samp><code>type, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип градиента, может быть </font></font><code>linear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>radial</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>circular</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>spiral</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>


<span id="mandelbrot"></span><h3 class="section"><code><a href="#toc-mandelbrot">14.5 mandelbrot</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте фрактал множества Мандельброта и постепенно приближайтесь к точке, указанной с помощью </font></font><var><code>start_x</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>start_y</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>end_pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение точки терминала. </font><font style="vertical-align: inherit;">Значение по умолчанию — 400.
</font></font></p>
</dd>
<dt><samp><code>end_scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение шкалы терминала. </font><font style="vertical-align: inherit;">Должно быть значением с плавающей запятой. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0,3.
</font></font></p>
</dd>
<dt><samp><code>inner</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим внутренней окраски, то есть алгоритм, используемый для рисования внутренней области фрактала Мандельброта.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он должен принимать одно из следующих значений:
</font></font></p><dl compact="compact">
<dt><samp><code>black</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите черный режим.
</font></font></p></dd>
<dt><samp><code>convergence</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Показать время до сходимости.
</font></font></p></dd>
<dt><samp><code>mincol</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет на основе точки, ближайшей к началу итераций.
</font></font></p></dd>
<dt><samp><code>period</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим периода.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>mincol</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bailout</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение спасения. </font><font style="vertical-align: inherit;">Значение по умолчанию — 10,0.
</font></font></p>
</dd>
<dt><samp><code>maxiter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество итераций, выполняемых алгоритмом рендеринга. </font><font style="vertical-align: inherit;">Значение по умолчанию — 7189.
</font></font></p>
</dd>
<dt><samp><code>outer</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить внешний режим окраски. </font><font style="vertical-align: inherit;">Он должен принимать одно из следующих значений:
</font></font></p><dl compact="compact">
<dt><samp><code>iteration_count</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим подсчета итераций.
</font></font></p></dd>
<dt><samp><code>normalized_iteration_count</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установить нормализованный режим подсчета итераций.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><var><code>normalized_iteration_count</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту кадров, выраженную в количестве кадров в секунду. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер кадра. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию — «640x480».
</font></font></p>
</dd>
<dt><samp><code>start_scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное значение шкалы. </font><font style="vertical-align: inherit;">Значение по умолчанию — 3,0.
</font></font></p>
</dd>
<dt><samp><code>start_x</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальную позицию x. </font><font style="vertical-align: inherit;">Должно быть значение с плавающей запятой от -100 до 100. Значение по умолчанию: -0,743643887037158704752191506114774.
</font></font></p>
</dd>
<dt><samp><code>start_y</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальную позицию Y. </font><font style="vertical-align: inherit;">Должно быть значение с плавающей запятой в диапазоне от -100 до 100. Значение по умолчанию: -0,131825904205311970493132056385139.
</font></font></p></dd>
</dl>

<span id="mptestsrc"></span><h3 class="section"><code><a href="#toc-mptestsrc">14.6 mptestsrc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создавайте различные тестовые шаблоны, сгенерированные тестовым фильтром MPlayer.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер создаваемого видео фиксированный и составляет 256x256. </font><font style="vertical-align: inherit;">Этот источник полезен, в частности, для тестирования функций кодирования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту кадров исходного видео как количество кадров, генерируемых в секунду. </font><font style="vertical-align: inherit;">Это должна быть строка в формате
 </font></font><var><code>frame_rate_num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>frame_rate_den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, целое число, число с плавающей запятой или допустимая аббревиатура частоты кадров видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность исходного видео. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если не указано или выраженная продолжительность отрицательна, предполагается, что видео будет генерироваться вечно.
</font></font></p>
</dd>
<dt><samp><code>test, t</code></samp></dt>
<dd>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите номер или название теста, который необходимо выполнить. </font><font style="vertical-align: inherit;">Поддерживаемые тесты:
</font></font></p><dl compact="compact">
<dt><samp><code>dc_luma</code></samp></dt>
<dt><samp><code>dc_chroma</code></samp></dt>
<dt><samp><code>freq_luma</code></samp></dt>
<dt><samp><code>freq_chroma</code></samp></dt>
<dt><samp><code>amp_luma</code></samp></dt>
<dt><samp><code>amp_chroma</code></samp></dt>
<dt><samp><code>cbp</code></samp></dt>
<dt><samp><code>mv</code></samp></dt>
<dt><samp><code>ring1</code></samp></dt>
<dt><samp><code>ring2</code></samp></dt>
<dt><samp><code>all</code></samp></dt>
<dt><samp><code>max_frames, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальное количество кадров, генерируемых для каждого теста, значение по умолчанию — 30.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — «все», которое циклически перебирает список всех тестов.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Некоторые примеры:
</font></font></p><div class="example">
<pre class="example"><code>mptestsrc=t=dc_luma
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">сгенерирует тестовый шаблон "dc_luma".
</font></font></p>
<span id="frei0r_005fsrc"></span><h3 class="section"><code><a href="#toc-frei0r_005fsrc">14.7 frei0r_src</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предоставьте свободный источник.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить компиляцию этого фильтра, вам необходимо установить заголовок frei0r и настроить FFmpeg с расширением </font></font><code>--enable-frei0r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер создаваемого видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>framerate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота кадров сгенерированного видео. </font><font style="vertical-align: inherit;">Это может быть строка вида
 </font></font><var><code>num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или аббревиатура частоты кадров.
</font></font></p>
</dd>
<dt><samp><code>filter_name</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имя источника frei0r для загрузки. </font><font style="vertical-align: inherit;">Для получения дополнительной информации о frei0r и о том, как установить параметры, прочитайте раздел </font></font><a href="#frei0r"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">frei0r</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> в документации по видеофильтрам.
</font></font></p>
</dd>
<dt><samp><code>filter_params</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделенный символом '|' список параметров для передачи в источник frei0r.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, чтобы сгенерировать источник frei0r partik0l размером 200x200 и частотой кадров 10, который накладывается на основной вход фильтра наложения:
</font></font></p><div class="example">
<pre class="example"><code>frei0r_src=size=200x200:framerate=10:filter_name=partik0l:filter_params=1234 [overlay]; [in][overlay] overlay
</code></pre></div>

<span id="life"></span><h3 class="section"><code><a href="#toc-life">14.8 life</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте модель жизни.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник основан на обобщении жизненной игры Джона Конвея.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходный ввод представляет собой сетку жизни, каждый пиксель представляет собой ячейку, которая может находиться в одном из двух возможных состояний: живом или мертвом. </font><font style="vertical-align: inherit;">Каждая ячейка взаимодействует со своими восемью соседями, которые являются ячейками, расположенными по горизонтали, вертикали или диагонали.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При каждом взаимодействии сетка эволюционирует в соответствии с принятым правилом, определяющим количество соседних живых клеток, при котором клетка останется живой или родится. </font></font><samp><code>rule</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Опция позволяет указать правило для принятия.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filename, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте файл, из которого считывается начальное состояние сетки. </font><font style="vertical-align: inherit;">В файле каждый непробельный символ считается активной ячейкой, а новая строка используется для разграничения конца каждой строки.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если этот параметр не указан, начальная сетка генерируется случайным образом.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите скорость видео, то есть количество кадров, генерируемых в секунду. </font><font style="vertical-align: inherit;">По умолчанию 25.
</font></font></p>
</dd>
<dt><samp><code>random_fill_ratio, ratio</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент случайного заполнения для исходной случайной сетки. </font><font style="vertical-align: inherit;">Это числовое значение с плавающей запятой в диапазоне от 0 до 1, по умолчанию 1/PHI. </font><font style="vertical-align: inherit;">Игнорируется, если указан файл.
</font></font></p>
</dd>
<dt><samp><code>random_seed, seed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное значение для заполнения исходной случайной сетки, оно должно быть целым числом в диапазоне от 0 до UINT32_MAX. </font><font style="vertical-align: inherit;">Если не указано или явно задано значение -1, фильтр попытается использовать хорошее случайное начальное число в максимально возможной степени.
</font></font></p>
</dd>
<dt><samp><code>rule</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите правило жизни.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Правило может быть задано кодом вида "S </font></font><var><code>NS</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/B </font></font><var><code>NB</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">", где </font></font><var><code>NS</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>NB</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- последовательности чисел в диапазоне 0-8,
 </font></font><var><code>NS</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определяет количество живых соседних ячеек, благодаря которым живая ячейка остается живой, и </font></font><var><code>NB</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество живых соседние клетки, которые заставляют мертвую клетку стать живой (т.е. «родиться»). </font><font style="vertical-align: inherit;">«s» и «b» могут быть использованы вместо «S» и «B» соответственно.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В качестве альтернативы правило может быть указано 18-битным целым числом. </font><font style="vertical-align: inherit;">9 старших битов используются для кодирования состояния следующей ячейки, если она активна для каждого числа соседних живых ячеек, младшие биты определяют правило «рождения» новых ячеек. </font><font style="vertical-align: inherit;">Биты более высокого порядка кодируют большее количество соседних ячеек. </font><font style="vertical-align: inherit;">Например, число 6153 = </font></font><code>(12&lt;&lt;9)+9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">определяет правило выживания 12 и изначальное правило 9, что соответствует «S23/B03».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию — «S23/B3», что является исходным правилом игры жизни Конвея и будет поддерживать жизнь клетки, если у нее есть 2 или 3 соседних живых клетки, и родит новую клетку, если вокруг мертвой клетки есть три живых клетки. клетка.
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер выходного видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если</font></font><samp><code>filename</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указан, размер по умолчанию устанавливается равным размеру входного файла. </font><font style="vertical-align: inherit;">Если</font></font><samp><code>size</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлен, он должен содержать размер, указанный во входном файле, а начальная сетка, определенная в этом файле, центрируется в большей результирующей области.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если имя файла не указано, значение размера по умолчанию равно «320x240» (используется для случайно сгенерированной начальной сетки).
</font></font></p>
</dd>
<dt><samp><code>stitch</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено значение 1, сшиваются левый и правый края сетки вместе, а также верхний и нижний края. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>mold</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорость сотовой формы. </font><font style="vertical-align: inherit;">Если установлено, мертвая ячейка будет идти от</font></font><samp><code>death_color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">к
</font></font><samp><code>mold_color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с шагом</font></font><samp><code>mold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><samp><code>mold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">может иметь значение от 0 до 255.
</font></font></p>
</dd>
<dt><samp><code>life_color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет живых (или только что родившихся) клеток.
</font></font></p>
</dd>
<dt><samp><code>death_color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет мертвых клеток. </font><font style="vertical-align: inherit;">Если</font></font><samp><code>mold</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлен, это первый цвет, используемый для обозначения мертвой клетки.
</font></font></p>
</dd>
<dt><samp><code>mold_color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет плесени для определенно мертвых и заплесневелых клеток.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы узнать о синтаксисе этих трех параметров цвета, см. </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">раздел (ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p></dd>
</dl>

<span id="Examples-144"></span><h4 class="subsection"><a href="#toc-Examples-144"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.8.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Считайте сетку из</font></font><samp><code>pattern</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, и отцентрируйте его на сетке размером 300x300 пикселей:
</font></font><div class="example">
<pre class="example"><code>life=f=pattern:s=300x300
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте случайную сетку размером 200x200 с коэффициентом заполнения 2/3:
</font></font><div class="example">
<pre class="example"><code>life=ratio=2/3:s=200x200
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите пользовательское правило для развития случайно сгенерированной сетки:
</font></font><div class="example">
<pre class="example"><code>life=rule=S14/B34
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример с эффектом медленной смерти (плесень) с использованием </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi life=s=300x200:mold=10:r=60:ratio=0.1:death_color=#C83232:life_color=#00ff00,scale=1200:800:flags=16
</code></pre></div>
</li></ul>

<span id="allrgb"></span><span id="allyuv"></span><span id="color"></span><span id="colorchart"></span><span id="colorspectrum"></span><span id="haldclutsrc"></span><span id="nullsrc"></span><span id="pal75bars"></span><span id="pal100bars"></span><span id="rgbtestsrc"></span><span id="smptebars"></span><span id="smptehdbars"></span><span id="testsrc"></span><span id="testsrc2"></span><span id="yuvtestsrc"></span><span id="allrgb_002c-allyuv_002c-color_002c-colorchart_002c-colorspectrum_002c-haldclutsrc_002c-nullsrc_002c-pal75bars_002c-pal100bars_002c-rgbtestsrc_002c-smptebars_002c-smptehdbars_002c-testsrc_002c-testsrc2_002c-yuvtestsrc"></span><h3 class="section"><code><a href="#toc-allrgb_002c-allyuv_002c-color_002c-colorchart_002c-colorspectrum_002c-haldclutsrc_002c-nullsrc_002c-pal75bars_002c-pal100bars_002c-rgbtestsrc_002c-smptebars_002c-smptehdbars_002c-testsrc_002c-testsrc2_002c-yuvtestsrc">14.9 allrgb, allyuv, color, colorchart, colorspectrum, haldclutsrc, nullsrc, pal75bars, pal100bars, rgbtestsrc, smptebars, smptehdbars, testsrc, testsrc2, yuvtestsrc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>allrgb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">возвращает кадры размером 4096x4096 всех цветов RGB.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>allyuv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">возвращает кадры размером 4096x4096 всех цветов yuv.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обеспечивает равномерно окрашенный ввод.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>colorchart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предоставляет таблицу проверки цветов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>colorspectrum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обеспечивает ввод цветового спектра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>haldclutsrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предоставляет личность Hald CLUT. </font><font style="vertical-align: inherit;">См. также
 фильтр </font></font><a href="#haldclut"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haldclut</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>nullsrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">возвращает необработанные видеокадры. </font><font style="vertical-align: inherit;">В основном полезно использовать в инструментах анализа/отладки или в качестве источника для фильтров, которые игнорируют входные данные.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>pal75bars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">генерирует шаблон цветных полос на основе рекомендаций EBU PAL с уровнями цвета 75%.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>pal100bars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">генерирует шаблон цветных полос на основе рекомендаций EBU PAL со 100% уровнями цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>rgbtestsrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">генерирует тестовый шаблон RGB, полезный для обнаружения проблем RGB и BGR. </font><font style="vertical-align: inherit;">Вы должны увидеть красную, зеленую и синюю полосу сверху вниз.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>smptebars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">генерирует шаблон цветных полос на основе SMPTE Engineering Guideline EG 1-1990.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>smptehdbars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">генерирует шаблон цветных полос на основе SMPTE RP 219-2002.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>testsrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">генерирует шаблон тестового видео, показывающий цветовой шаблон, градиент прокрутки и отметку времени. </font><font style="vertical-align: inherit;">Это в основном предназначено для целей тестирования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>testsrc2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">похож на testrc, но поддерживает больше форматов пикселей, а не только </font></font><code>rgb24</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Это позволяет использовать его в качестве входных данных для других тестов, не требуя преобразования формата.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>yuvtestsrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">генерирует тестовый шаблон YUV. </font><font style="vertical-align: inherit;">Вы должны увидеть полосы ay, cb и cr сверху вниз.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источники принимают следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>level</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите уровень Hald CLUT, доступный только в </font></font><code>haldclutsrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
исходниках. </font><font style="vertical-align: inherit;">Уровень </font></font><code>N</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">создает изображение в </font></font><code>N*N*N</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пикселях </font></font><code>N*N*N</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, которое будет использоваться в качестве матрицы идентичности для трехмерных интерполяционных таблиц. </font><font style="vertical-align: inherit;">Каждый компонент кодируется на </font></font><code>1/(N*N)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">шкале.
</font></font></p>
</dd>
<dt><samp><code>color, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цвет источника, доступный только в </font></font><code>color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
источнике. </font><font style="vertical-align: inherit;">Синтаксис этой опции см. в разделе
 </font></font><a href="ffmpeg-utils.html#color-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Цвет» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер исходного видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>320x240</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр недоступен с </font><font style="vertical-align: inherit;">фильтрами
 </font></font><code>allrgb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>allyuv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 .</font></font><code>haldclutsrc</code><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту кадров исходного видео как количество кадров, генерируемых в секунду. </font><font style="vertical-align: inherit;">Это должна быть строка в формате
 </font></font><var><code>frame_rate_num</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><var><code>frame_rate_den</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, целое число, число с плавающей запятой или допустимая аббревиатура частоты кадров видео. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность исходного видео. </font><font style="vertical-align: inherit;">См.
 </font></font><a href="ffmpeg-utils.html#time-duration-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) раздел Продолжительность времени в руководстве ffmpeg-utils(1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
для получения информации о принятом синтаксисе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если не указано или выраженная продолжительность отрицательна, предполагается, что видео будет генерироваться вечно.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поскольку в качестве временной базы используется частота кадров, все кадры, включая последний, будут иметь полную продолжительность. </font><font style="vertical-align: inherit;">Если указанная продолжительность не кратна длительности кадра, она будет округлена в большую сторону.
</font></font></p>
</dd>
<dt><samp><code>sar</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите соотношение сторон образца исходного видео.
</font></font></p>
</dd>
<dt><samp><code>alpha</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите альфа-канал (непрозрачность) фона, доступный только в
 </font></font><code>testsrc2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">исходном коде. </font><font style="vertical-align: inherit;">Значение должно находиться в диапазоне от 0 (полностью прозрачный) до 255 (полностью непрозрачный, значение по умолчанию).
</font></font></p>
</dd>
<dt><samp><code>decimals, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество десятичных знаков для отображения в отметке времени, доступной только в
 </font></font><code>testsrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">источнике.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отображаемое значение метки времени будет соответствовать исходному значению метки времени, умноженному на степень 10 указанного значения. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип цветового спектра, доступный только в
 </font></font><code>colorspectrum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">источнике. </font><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>black</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>white</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>all</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

</dd>
<dt><samp><code>patch_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер фрагмента одного цветового фрагмента, доступного только в
 </font></font><code>colorchart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">исходном коде. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>64x64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>preset</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите предустановку цветов colorchecker, доступную только в
 </font></font><code>colorchart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">источнике.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>reference</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>skintones</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>reference</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-145"></span><h4 class="subsection"><a href="#toc-Examples-145"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.9.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте видео продолжительностью 5,3 секунды, размером 176x144 и частотой кадров 10 кадров в секунду:
</font></font><div class="example">
<pre class="example"><code>testsrc=duration=5.3:size=qcif:rate=10
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Следующее описание графика сгенерирует красный источник с непрозрачностью 0,2, размером «qcif» и частотой кадров 10 кадров в секунду:
</font></font><div class="example">
<pre class="example"><code>color=c=red@0.2:s=qcif:r=10
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если входное содержимое должно быть проигнорировано, </font></font><code>nullsrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">можно использовать. </font><font style="vertical-align: inherit;">Следующая команда генерирует шум в плоскости яркости с помощью </font></font><code>geq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтра:
</font></font><div class="example">
<pre class="example"><code>nullsrc=s=256x256, geq=random(1)*255:128:128
</code></pre></div>
</li></ul>

<span id="Commands-153"></span><h4 class="subsection"><a href="#toc-Commands-153"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.9.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Источник </font></font><code>color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">поддерживает следующие команды:
</font></font></p>
<dl compact="compact">
<dt><samp><code>c, color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет созданного изображения. </font><font style="vertical-align: inherit;">Принимает тот же синтаксис соответствующего</font></font><samp><code>color</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант.
</font></font></p></dd>
</dl>

<span id="openclsrc"></span><h3 class="section"><code><a href="#toc-openclsrc">14.10 openclsrc</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создание видео с помощью программы OpenCL.
</font></font></p>
<dl compact="compact">
<dt><samp><code>source</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходный файл программы OpenCL.
</font></font></p>
</dd>
<dt><samp><code>kernel</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имя ядра в программе.
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Размер кадров для генерации. </font><font style="vertical-align: inherit;">Это должно быть установлено.
</font></font></p>
</dd>
<dt><samp><code>format</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Формат пикселей для использования для сгенерированных кадров. </font><font style="vertical-align: inherit;">Это должно быть установлено.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество кадров, генерируемых каждую секунду. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Подробнее о том, как работает загрузка программы, смотрите в </font><font style="vertical-align: inherit;">
фильтре
 </font></font><a href="#program_005fopencl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">program_opencl .</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примеры программ:
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте цветовую шкалу, установив значения пикселей из положения пикселя в выходном изображении. </font><font style="vertical-align: inherit;">(Обратите внимание, что это будет работать со всеми форматами пикселей, но сгенерированный вывод не будет таким же.)
</font></font><pre class="verbatim"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__kernel недействительный скат (__write_only image2d_t dst,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                   беззнаковый целочисленный индекс)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int2 loc = (int2)(get_global_id(0), get_global_id(1));</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    число с плавающей запятой4;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    val.xy = val.zw = convert_float2 (loc) / convert_float2 (get_image_dim (dst));</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    write_imagef(dst, loc, val);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте узор ковра Серпинского, панорамируя на один пиксель в каждом кадре.
</font></font><pre class="verbatim"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__kernel void sierpinski_carpet(__write_only image2d_t dst,</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                                беззнаковый целочисленный индекс)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int2 loc = (int2)(get_global_id(0), get_global_id(1));</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    значение float4 = 0,0f;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int x = loc.x + индекс;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    int y = loc.y + индекс;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    в то время как (х &gt; 0 || у &gt; 0) {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        если (х % 3 == 1 &amp;&amp; у % 3 == 1) {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            значение = 1,0f;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            ломать;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        х/= 3;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        у /= 3;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    write_imagef(dst, loc, value);</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre>
</li></ul>

<span id="sierpinski"></span><h3 class="section"><code><a href="#toc-sierpinski">14.11 sierpinski</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте фрактал ковра Серпинского/треугольника и произвольно панорамируйте его.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот источник принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер кадра. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию — «640x480».
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту кадров, выраженную в количестве кадров в секунду. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>seed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное число, которое используется для случайного панорамирования.
</font></font></p>
</dd>
<dt><samp><code>jump</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите максимальный прыжок для одного пункта назначения панорамирования. </font><font style="vertical-align: inherit;">Допустимый диапазон от 1 до 10000.
</font></font></p>
</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить тип фрактала, может быть по умолчанию </font></font><code>carpet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>triangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>


<span id="Video-Sinks"></span><h2 class="chapter"><a href="#toc-Video-Sinks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 видеоприемников</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных на данный момент видеоприемников.
</font></font></p>
<span id="buffersink"></span><h3 class="section"><code><a href="#toc-buffersink">15.1 buffersink</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Буферизируйте видеокадры и сделайте их доступными в конце графика фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот приемник в основном предназначен для программного использования, в частности через интерфейс, определенный в</font></font><samp><code>libavfilter/buffersink.h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
или система опций.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает указатель на структуру AVBufferSinkContext, которая определяет форматы входящих буферов, которые следует передать в качестве непрозрачного параметра </font></font><code>avfilter_init_filter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для инициализации.
</font></font></p>
<span id="nullsink"></span><h3 class="section"><code><a href="#toc-nullsink">15.2 nullsink</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нулевой приемник видео: абсолютно ничего не делать с входным видео. </font><font style="vertical-align: inherit;">В основном он полезен в качестве шаблона и для использования в инструментах анализа/отладки.
</font></font></p>

<span id="Multimedia-Filters"></span><h2 class="chapter"><a href="#toc-Multimedia-Filters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 мультимедийных фильтров</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных на данный момент мультимедийных фильтров.
</font></font></p>
<span id="abitscope"></span><h3 class="section"><code><a href="#toc-abitscope">16.1 abitscope</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование входного аудио в видеовыход с отображением области битов аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту кадров, выраженную в количестве кадров в секунду. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1024x256</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>colors</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите список цветов, разделенных пробелом или '|' </font><font style="vertical-align: inherit;">который будет использоваться для рисования каналов. </font><font style="vertical-align: inherit;">Нераспознанные или отсутствующие цвета будут заменены белым цветом.
</font></font></p>
</dd>
<dt><samp><code>mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим вывода. </font><font style="vertical-align: inherit;">Можно </font></font><code>bars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>trace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>bars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="adrawgraph"></span><h3 class="section"><code><a href="#toc-adrawgraph">16.2 adrawgraph</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте график, используя входные метаданные аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">См. </font></font><a href="#drawgraph"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рисунок</font></font></a>
</p>
<span id="agraphmonitor"></span><h3 class="section"><code><a href="#toc-agraphmonitor">16.3 agraphmonitor</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Смотрите </font></font><a href="#graphmonitor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">графмонитор</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="ahistogram"></span><h3 class="section"><code><a href="#toc-ahistogram">16.4 ahistogram</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование входного аудио в видеовыход с отображением гистограммы громкости.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>dmode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, как рассчитывается гистограмма.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>single</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте единую гистограмму для всех каналов.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>separate</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте отдельную гистограмму для каждого канала.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>single</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту кадров, выраженную в количестве кадров в секунду. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hd720</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить масштаб отображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">логарифмический
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sqrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">квадратный корень
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cbrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кубический корень
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейный
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rlog</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обратный логарифмический
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>ascale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить масштаб амплитуды.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">логарифмический
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейный
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>acount</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, сколько кадров будет накапливаться в гистограмме. </font><font style="vertical-align: inherit;">По умолчанию 1. Установка этого параметра на -1 приводит к накоплению всех кадров.
</font></font></p>
</dd>
<dt><samp><code>rheight</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент гистограммы высоты окна.
</font></font></p>
</dd>
<dt><samp><code>slide</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите скользящую сонограмму.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>replace</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">заменить старые строки новыми.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>scroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">прокрутите сверху вниз.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>hmode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим гистограммы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>abs</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте абсолютные значения образцов.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sign</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте нетронутые значения образцов.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>abs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="aphasemeter"></span><h3 class="section"><code><a href="#toc-aphasemeter">16.5 aphasemeter</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измеряет фазу входного аудио, которое экспортируется как метаданные </font></font><code>lavfi.aphasemeter.phase</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, представляющие среднюю фазу текущего аудиокадра. </font><font style="vertical-align: inherit;">Видеовыход также может быть создан и включен по умолчанию. </font><font style="vertical-align: inherit;">Аудио передается как первый выход.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Аудио будет преобразовано в стерео, если оно имеет другое расположение каналов. </font><font style="vertical-align: inherit;">Значение фазы находится в диапазоне, </font></font><code>[-1, 1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">где </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">означает, что левый и правый каналы полностью не совпадают по фазе, а </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каналы находятся в фазе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры, связанные с его видеовыходом:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную частоту кадров. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>25</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>800x400</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rc</code></samp></dt>
<dt><samp><code>gc</code></samp></dt>
<dt><samp><code>bc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите красный, зеленый, синий контраст. </font><font style="vertical-align: inherit;">Значения по умолчанию: </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
 </font></font><code>7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0, 255]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mpc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвет, который будет использоваться для рисования срединной фазы. </font><font style="vertical-align: inherit;">Если цвет установлен
 </font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">по умолчанию, значение средней фазы не будет отображаться.
</font></font></p>
</dd>
<dt><samp><code>video</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить видеовыход. </font><font style="vertical-align: inherit;">По умолчанию включено.
</font></font></p></dd>
</dl>

<span id="phasing-detection"></span><h4 class="subsection"><a href="#toc-phasing-detection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.5.1 определение фазы</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр также обнаруживает противофазные и монофонические последовательности в стереопотоках. </font><font style="vertical-align: inherit;">Он регистрирует начало, конец и продолжительность последовательности, когда она длится дольше или дольше минимального набора.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры для этого обнаружения:
</font></font></p>
<dl compact="compact">
<dt><samp><code>phasing</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите обнаружение моно и не в фазе. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>tolerance, t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите фазовый допуск для монофонического обнаружения в соотношении амплитуд. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0, 1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>angle, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пороговое значение угла для обнаружения несовпадения фаз в градусах. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>170</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[90, 180]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность моно или вне фазы до уведомления, выраженную в секундах. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-146"></span><h4 class="subsection"><a href="#toc-Examples-146"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.5.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример с </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обнаружением 1 секунды моно с допуском по фазе 0,001:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i stereo.wav -af aphasemeter=video=0:phasing=1:duration=1:tolerance=0.001 -f null -
</code></pre></div>
</li></ul>

<span id="avectorscope"></span><h3 class="section"><code><a href="#toc-avectorscope">16.6 avectorscope</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте входное аудио в видеовыход, представляя область аудио вектора.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр используется для измерения разницы между каналами стереофонического аудиопотока. </font><font style="vertical-align: inherit;">Монофонический сигнал, состоящий из идентичных левого и правого сигналов, дает прямую вертикальную линию. </font><font style="vertical-align: inherit;">Любое стереоразделение видно как отклонение от этой линии, создающее фигуру Лиссажу. </font><font style="vertical-align: inherit;">Если появляется прямая (или отклонение от нее), но горизонтальная линия, это говорит о том, что левый и правый каналы не совпадают по фазе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode, m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим вектороскопа.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lissajous</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Лиссажу повернулся на 45 градусов.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lissajous_xy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но без поворота.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>polar</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Форма, напоминающая половину круга.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>lissajous</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>400x400</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную частоту кадров. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>25</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rc</code></samp></dt>
<dt><samp><code>gc</code></samp></dt>
<dt><samp><code>bc</code></samp></dt>
<dt><samp><code>ac</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите красный, зеленый, синий и альфа-контраст. </font><font style="vertical-align: inherit;">Значения по </font><font style="vertical-align: inherit;">умолчанию: </font></font><code>40</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
 </font></font><code>160</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font><font style="vertical-align: inherit;">.
</font></font><code>80</code><font style="vertical-align: inherit;"></font><code>255</code><font style="vertical-align: inherit;"></font><code>[0, 255]</code><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>rf</code></samp></dt>
<dt><samp><code>gf</code></samp></dt>
<dt><samp><code>bf</code></samp></dt>
<dt><samp><code>af</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите красный, зеленый, синий и альфа-фейд. </font><font style="vertical-align: inherit;">Значения по </font><font style="vertical-align: inherit;">умолчанию: </font></font><code>15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
 </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font><font style="vertical-align: inherit;">.
</font></font><code>5</code><font style="vertical-align: inherit;"></font><code>5</code><font style="vertical-align: inherit;"></font><code>[0, 255]</code><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>zoom</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент масштабирования. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0, 10]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значения ниже </font></font><var><code>1</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">автоматически настраивают коэффициент масштабирования до максимально возможного значения.
</font></font></p>
</dd>
<dt><samp><code>draw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим рисования вектороскопа.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dot</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте точку для каждого образца.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>line</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте линию между предыдущим и текущим образцом.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>dot</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите масштаб амплитуды аудиосэмплов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейный.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sqrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Квадратный корень.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cbrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кубический корень.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Логарифмический.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>swap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поменять местами ось левого канала с осью правого канала.
</font></font></p>
</dd>
<dt><samp><code>mirror</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Зеркальная ось.
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нет зеркала.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>x</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отразить только ось x.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>y</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отразите только ось Y.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>xy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отразите обе оси.
</font></font></p></dd>
</dl>

</dd>
</dl>

<span id="Examples-147"></span><h4 class="subsection"><a href="#toc-Examples-147"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.6.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример с использованием </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi 'amovie=input.mp3, asplit [a][out1];<font></font>
             [a] avectorscope=zoom=1.3:rc=2:gc=200:bc=10:rf=1:gf=8:bf=7 [out0]'<font></font>
</code></pre></div>
</li></ul>

<span id="Commands-154"></span><h4 class="subsection"><a href="#toc-Commands-154"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.6.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает все вышеперечисленные параметры в виде команд, кроме параметров </font></font><code>size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>rate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<span id="bench_002c-abench"></span><h3 class="section"><code><a href="#toc-bench_002c-abench">16.7 bench, abench</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эталонная часть filtergraph.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>action</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Запустите или остановите таймер.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>start</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите текущее время, установите его как метаданные кадра (с помощью клавиши
 </font></font><code>lavfi.bench.start_time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) и перешлите кадр к следующему фильтру.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>stop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите текущее время и извлеките </font></font><code>lavfi.bench.start_time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метаданные из метаданных входного кадра, чтобы получить разницу во времени. </font><font style="vertical-align: inherit;">Затем распечатываются </font><font style="vertical-align: inherit;">разница во времени, среднее, максимальное и минимальное время (соответственно </font></font><code>t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>avg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>max</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 ). </font></font><code>min</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Метки времени выражаются в секундах.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="Examples-148"></span><h4 class="subsection"><a href="#toc-Examples-148"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.7.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эталонный </font></font><a href="#selectivecolor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">селективный</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> цветной фильтр:
</font></font><div class="example">
<pre class="example"><code>bench=start,selectivecolor=reds=-.2 .12 -.49,bench=stop
</code></pre></div>
</li></ul>

<span id="concat"></span><h3 class="section"><code><a href="#toc-concat">16.8 concat</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объединяйте аудио- и видеопотоки, объединяя их один за другим.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр работает на сегментах синхронизированных видео- и аудиопотоков. </font><font style="vertical-align: inherit;">Все сегменты должны иметь одинаковое количество потоков каждого типа, и это также будет количество потоков на выходе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество сегментов. </font><font style="vertical-align: inherit;">По умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выходных видеопотоков, то есть количество видеопотоков в каждом сегменте. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выходных аудиопотоков, то есть количество аудиопотоков в каждом сегменте. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>unsafe</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Активировать небезопасный режим: не сбой, если сегменты имеют другой формат.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">У фильтра есть </font></font><var><code>v</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font><var><code>a</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">выходы: сначала </font></font><var><code>v</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">видеовыходы, потом
 </font></font><var><code>a</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">аудиовыходы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Есть </font></font><var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x( </font></font><var><code>v</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font><var><code>a</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) входов: сначала входы для первого сегмента в том же порядке, что и выходы, затем входы для второго сегмента и т. д.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Связанные потоки не всегда имеют одинаковую продолжительность по разным причинам, в том числе из-за размера кадра кодека или небрежного авторинга. </font><font style="vertical-align: inherit;">По этой причине связанные синхронизированные потоки (например, видео и его звуковая дорожка) должны быть объединены одновременно. </font><font style="vertical-align: inherit;">Фильтр concat будет использовать длительность самого длинного потока в каждом сегменте (кроме последнего) и, при необходимости, заполнять более короткие аудиопотоки тишиной.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы этот фильтр работал правильно, все сегменты должны начинаться с отметки времени 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Все соответствующие потоки должны иметь одинаковые параметры во всех сегментах; </font><font style="vertical-align: inherit;">система фильтрации автоматически выберет общий формат пикселей для видеопотоков и общий формат выборки, частоту дискретизации и расположение каналов для аудиопотоков, но другие настройки, такие как разрешение, должны быть явно преобразованы пользователем.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Различные частоты кадров допустимы, но приведут к переменной частоте кадров на выходе; </font><font style="vertical-align: inherit;">не забудьте настроить выходной файл для его обработки.
</font></font></p>
<span id="Examples-149"></span><h4 class="subsection"><a href="#toc-Examples-149"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.8.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объедините вступление, эпизод и концовку, все в двуязычной версии (видео в потоке 0, аудио в потоках 1 и 2):
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i opening.mkv -i episode.mkv -i ending.mkv -filter_complex \<font></font>
  '[0:0] [0:1] [0:2] [1:0] [1:1] [1:2] [2:0] [2:1] [2:2]<font></font>
   concat=n=3:v=1:a=2 [v] [a1] [a2]' \<font></font>
  -map '[v]' -map '[a1]' -map '[a2]' output.mkv<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объедините две части, обрабатывая звук и видео отдельно, используя (а) источники фильмов и настраивая разрешение:
</font></font><div class="example">
<pre class="example"><code>movie=part1.mp4, scale=512:288 [v1] ; amovie=part1.mp4 [a1] ;<font></font>
movie=part2.mp4, scale=512:288 [v2] ; amovie=part2.mp4 [a2] ;<font></font>
[v1] [v2] concat [outv] ; [a1] [a2] concat=v=0:a=1 [outa]<font></font>
</code></pre></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что рассинхронизация произойдет в стежке, если аудио- и видеопотоки не имеют одинаковой продолжительности в первом файле.
</font></font></p>
</li></ul>

<span id="Commands-155"></span><h4 class="subsection"><a href="#toc-Commands-155"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.8.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр поддерживает следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>next</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Закрыть текущий сегмент и перейти к следующему
</font></font></p></dd>
</dl>

<span id="ebur128"></span><span id="ebur128-1"></span><h3 class="section"><code><a href="#toc-ebur128-1">16.9 ebur128</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр сканера EBU R128. </font><font style="vertical-align: inherit;">Этот фильтр берет аудиопоток и анализирует его уровень громкости. </font><font style="vertical-align: inherit;">По умолчанию он регистрирует сообщение с частотой 10 Гц с мгновенной громкостью (обозначается </font></font><code>M</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), кратковременной громкостью ( </font></font><code>S</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), интегрированной громкостью ( </font></font><code>I</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) и диапазоном громкости ( </font></font><code>LRA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр может анализировать только потоки, которые имеют формат выборки с плавающей запятой двойной точности. </font><font style="vertical-align: inherit;">При необходимости входной поток будет преобразован в эту спецификацию. </font><font style="vertical-align: inherit;">Пользователям может потребоваться вставить фильтры формата и/или выборки после этого фильтра, чтобы получить исходные параметры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр также имеет видеовыход (см. </font></font><var><code>video</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцию) с графиком в реальном времени для наблюдения за изменением громкости. </font><font style="vertical-align: inherit;">Графика содержит зарегистрированное сообщение, упомянутое выше, поэтому оно больше не печатается, когда установлен этот параметр, если только не установлено подробное ведение журнала. </font><font style="vertical-align: inherit;">Основная область графика содержит кратковременную громкость (3 секунды анализа), а датчик справа предназначен для мгновенной громкости (400 миллисекунд), но его можно дополнительно настроить для отображения кратковременной громкости (см </font></font><var><code>gauge</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Зеленая область отмечает целевой диапазон +/- 1LU вокруг заданной громкости (по умолчанию -23LUFS, если не изменено с помощью </font></font><var><code>target</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дополнительную информацию о Рекомендации по громкости EBU R128 можно найти на
 </font></font><a href="http://tech.ebu.ch/loudness"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://tech.ebu.ch/loudness</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>video</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Активируйте видеовыход. </font><font style="vertical-align: inherit;">Аудиопоток передается без изменений независимо от того, установлена &ZeroWidthSpace;&ZeroWidthSpace;эта опция или нет. </font><font style="vertical-align: inherit;">Видеопоток будет первым выходным потоком, если он активирован. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер видео. </font><font style="vertical-align: inherit;">Этот параметр предназначен только для видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">По умолчанию и минимальное разрешение </font></font><code>640x480</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>meter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите измеритель шкалы EBU. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Распространенными значениями являются </font></font><code>9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><code>18</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, соответственно для измерителя шкалы EBU +9 и измерителя шкалы EBU +18. </font><font style="vertical-align: inherit;">Допускается любое другое целочисленное значение из этого диапазона.
</font></font></p>
</dd>
<dt><samp><code>metadata</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите вставку метаданных. </font><font style="vertical-align: inherit;">Если установлено значение </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, аудиовход будет сегментирован на выходные кадры по 100 мс, каждый из которых содержит различную информацию о громкости в метаданных. </font><font style="vertical-align: inherit;">Все ключи метаданных имеют префикс </font></font><code>lavfi.r128.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>framelog</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительно установите уровень ведения журнала кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>info</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">уровень регистрации информации
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>verbose</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">подробный уровень ведения журнала
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию уровень ведения журнала установлен на </font></font><var><code>info</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если</font></font><samp><code>video</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или</font></font><samp><code>metadata</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметры установлены, он переключается на </font></font><var><code>verbose</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>peak</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите пиковый режим(ы).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные режимы могут суммироваться (опция является </font></font><code>flag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">типом). </font><font style="vertical-align: inherit;">Возможные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключите любой пиковый режим (по умолчанию).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sample</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите режим выборки пика.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Простой пиковый режим с поиском более высокого значения выборки. </font><font style="vertical-align: inherit;">Он регистрирует сообщение для пика выборки (обозначается </font></font><code>SPK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>true</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включите режим истинного пика.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если этот параметр включен, поиск пиков выполняется в версии входного потока с избыточной дискретизацией для повышения точности пиков. </font><font style="vertical-align: inherit;">Он регистрирует сообщение для истинного пика. </font><font style="vertical-align: inherit;">(обозначается </font></font><code>TPK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) и истинного пика на кадр (обозначается </font></font><code>FTPK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Для этого режима требуется сборка с расширением </font></font><code>libswresample</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>dualmono</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Относитесь к входным монофоническим файлам как к «двойному моно». </font><font style="vertical-align: inherit;">Если монофонический файл предназначен для воспроизведения на стереосистеме, его измерение EBU R128 будет некорректным для восприятия. </font><font style="vertical-align: inherit;">Если установлено значение </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, эта опция компенсирует этот эффект. </font><font style="vertical-align: inherit;">Этот параметр не влияет на многоканальные входные файлы.
</font></font></p>
</dd>
<dt><samp><code>panlaw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите специальный закон панорамирования, который будет использоваться для измерения двойных монофонических файлов. </font><font style="vertical-align: inherit;">Этот параметр является необязательным и имеет значение по умолчанию -3,01 дБ.
</font></font></p>
</dd>
<dt><samp><code>target</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите определенный целевой уровень (в LUFS), используемый в качестве относительного нуля в визуализации. </font><font style="vertical-align: inherit;">Этот параметр является необязательным и имеет значение по умолчанию -23LUFS, как указано в EBU R128. </font><font style="vertical-align: inherit;">Однако для материалов, опубликованных в Интернете, может быть предпочтительнее уровень -16LUFS (например, для использования с подкастами или видеоплатформами).
</font></font></p>
</dd>
<dt><samp><code>gauge</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение, отображаемое датчиком. </font><font style="vertical-align: inherit;">Допустимые значения: </font></font><code>momentary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и s
 </font></font><code>shortterm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">По умолчанию будет использоваться мгновенное значение, но в некоторых сценариях может быть полезнее вместо этого наблюдать краткосрочное значение (например, живое микширование).
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Устанавливает масштаб дисплея для громкости. </font><font style="vertical-align: inherit;">Допустимые параметры </font></font><code>absolute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(в LUFS) или </font></font><code>relative</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(LU) относительно цели. </font><font style="vertical-align: inherit;">Это влияет только на видеовыход, а не на сводку или непрерывный вывод журнала.
</font></font></p></dd>
</dl>

<span id="Examples-150"></span><h4 class="subsection"><a href="#toc-Examples-150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.9.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">График в реальном времени </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с использованием шкалы EBU +18:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi -i "amovie=input.mp3,ebur128=video=1:meter=18 [out0][out1]"
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Запустите анализ с помощью </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -nostats -i input.mp3 -filter_complex ebur128 -f null -
</code></pre></div>
</li></ul>

<span id="interleave_002c-ainterleave"></span><h3 class="section"><code><a href="#toc-interleave_002c-ainterleave">16.10 interleave, ainterleave</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временно чередовать кадры из нескольких входов.
</font></font></p>
<p><code>interleave</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">работает с видеовходами, </font></font><code>ainterleave</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с аудио.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти фильтры считывают кадры с нескольких входов и отправляют на выход самый старый кадр из очереди.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Входные потоки должны иметь четко определенные, монотонно возрастающие значения метки времени кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы отправить один кадр на выход, эти фильтры должны ставить в очередь хотя бы один кадр для каждого входа, поэтому они не могут работать, если один вход еще не завершен и не будет принимать входящие кадры.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, рассмотрим случай, когда один вход является </font></font><code>select</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильтром, который всегда пропускает входные кадры. </font><font style="vertical-align: inherit;">Фильтр </font></font><code>interleave</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">будет продолжать чтение с этого входа, но он никогда не сможет отправлять новые кадры на выход, пока вход не отправит сигнал конца потока.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Также, в зависимости от синхронизации входов, фильтры будут отбрасывать кадры, если на один вход поступает больше кадров, чем на другие, а очередь уже заполнена.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти фильтры принимают следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>nb_inputs, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество различных входов, по умолчанию 2.
</font></font></p>
</dd>
<dt><samp><code>duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Как определить конец потока.
</font></font></p>
<dl compact="compact">
<dt><samp><code>longest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность самого длинного ввода. </font><font style="vertical-align: inherit;">(дефолт)
</font></font></p>
</dd>
<dt><samp><code>shortest</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность самого короткого ввода.
</font></font></p>
</dd>
<dt><samp><code>first</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Продолжительность первого ввода.
</font></font></p></dd>
</dl>

</dd>
</dl>

<span id="Examples-151"></span><h4 class="subsection"><a href="#toc-Examples-151"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.10.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чередуйте кадры, принадлежащие разным потокам, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i bambi.avi -i pr0n.mkv -filter_complex "[0:v][1:v] interleave" out.avi
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте мерцающий эффект размытия:
</font></font><div class="example">
<pre class="example"><code>select='if(gt(random(0), 0.2), 1, 2)':n=2 [tmp], boxblur=2:2, [tmp] interleave
</code></pre></div>
</li></ul>

<span id="latency_002c-alatency"></span><h3 class="section"><code><a href="#toc-latency_002c-alatency">16.11 latency, alatency</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измерьте задержку фильтрации.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сообщите о предыдущей задержке фильтрации фильтра, задержке количества аудиосэмплов для аудиофильтров или количестве видеокадров для видеофильтров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В конце входного потока фильтр сообщит о минимальной и максимальной измеренной задержке для предыдущего работающего фильтра в filtergraph.
</font></font></p>
<span id="metadata_002c-ametadata"></span><h3 class="section"><code><a href="#toc-metadata_002c-ametadata">16.12 metadata, ametadata</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Управление метаданными кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим работы фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>select</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если оба </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлены, выберите кадры, которые имеют такие метаданные. </font><font style="vertical-align: inherit;">Если </font></font><code>key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено only, выберите каждый кадр, имеющий такой ключ в метаданных.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>add</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Добавьте новые метаданные </font></font><code>key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и файлы </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если ключ уже доступен, ничего не делайте.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>modify</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Изменить значение уже существующего ключа.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>delete</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено, удалять только ключи, имеющие такое значение. </font><font style="vertical-align: inherit;">В противном случае удалите ключ. </font><font style="vertical-align: inherit;">Если </font></font><code>key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">не установлено, удалите все значения метаданных в кадре.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>print</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вывести ключ и его значение, если метаданные были найдены. </font><font style="vertical-align: inherit;">Если </font></font><code>key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">не установлено, вывести все значения метаданных, доступные в кадре.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>key</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ключ, используемый со всеми режимами. </font><font style="vertical-align: inherit;">Должен быть установлен для всех режимов, кроме </font></font><code>print</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>value</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение метаданных, которое будет использоваться. </font><font style="vertical-align: inherit;">Этот параметр является обязательным для
 </font><font style="vertical-align: inherit;">режима
 </font></font><code>modify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и .</font></font><code>add</code><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>function</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Какую функцию использовать при сравнении значения метаданных и </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>same_str</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения интерпретируются как строки, возвращает true, если значение метаданных совпадает с </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>starts_with</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения интерпретируются как строки, возвращает true, если значение метаданных начинается со </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">строки параметра.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>less</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения интерпретируются как числа с плавающей запятой, возвращает true, если значение метаданных меньше </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>equal</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения интерпретируются как числа с плавающей запятой, возвращает true, если они </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равны значению метаданных.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>greater</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения интерпретируются как числа с плавающей запятой, возвращает true, если значение метаданных больше </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>expr</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения интерпретируются как числа с плавающей запятой, возвращает true, если выражение из option </font></font><code>expr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
оценивается как true.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ends_with</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значения интерпретируются как строки, возвращает true, если значение метаданных заканчивается </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">строкой параметра.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>expr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение, которое используется, когда </font></font><code>function</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">установлено значение </font></font><code>expr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Выражение оценивается через eval API и может содержать следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>VALUE1, FRAMEVAL</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Плавающее представление </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">из ключа метаданных.
</font></font></p>
</dd>
<dt><samp><code>VALUE2, USERVAL</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Представление с плавающей запятой </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, предоставленное пользователем в </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опции.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>file</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если указано в </font></font><code>print</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режиме, вывод записывается в указанный файл. </font><font style="vertical-align: inherit;">Вместо простого имени файла можно указать любой доступный для записи URL. </font><font style="vertical-align: inherit;">Имя файла «-» является сокращением для стандартного вывода. </font><font style="vertical-align: inherit;">Если </font></font><code>file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опция не установлена, выходные данные записываются в журнал с уровнем журнала AV_LOG_INFO.
</font></font></p>
</dd>
<dt><samp><code>direct</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Уменьшает буферизацию в режиме печати, когда вывод записывается в URL-адрес, заданный с помощью </font></font><var><code>file</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="Examples-152"></span><h4 class="subsection"><a href="#toc-Examples-152"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.12.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вывести все значения метаданных для кадров с ключом </font></font><code>lavfi.signalstats.YDIF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">со значениями от 0 до 1.
</font></font><div class="example">
<pre class="example"><code>signalstats,metadata=print:key=lavfi.signalstats.YDIF:value=0:function=expr:expr='between(VALUE1,0,1)'
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Распечатать вывод тишины в файл</font></font><samp><code>metadata.txt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font><div class="example">
<pre class="example"><code>silencedetect,ametadata=mode=print:file=metadata.txt
</code></pre></div>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Направьте все метаданные в канал с файловым дескриптором 4.
</font></font><div class="example">
<pre class="example"><code>metadata=mode=print:file='pipe\:4'
</code></pre></div>
</li></ul>

<span id="perms_002c-aperms"></span><h3 class="section"><code><a href="#toc-perms_002c-aperms">16.13 perms, aperms</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите разрешения на чтение/запись для выходных кадров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти фильтры в основном предназначены для разработчиков, чтобы проверить прямой путь в следующем фильтре в графе фильтров.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтры принимают следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите режим разрешений.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>none</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ничего не делать. </font><font style="vertical-align: inherit;">Это значение по умолчанию.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>ro</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить все выходные кадры только для чтения.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rw</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте все выходные кадры доступными для прямой записи.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>toggle</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сделайте кадр доступным только для чтения, если он доступен для записи, и доступным для записи, если он доступен только для чтения.
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>random</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите каждый выходной фрейм доступным только для чтения или записи в случайном порядке.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>seed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальное значение для </font></font><var><code>random</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режима, оно должно быть целым числом между
 </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>UINT32_MAX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если не указано или явно задано значение
 </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, фильтр попытается использовать хорошее случайное начальное число в максимально возможной степени.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примечание: в случае автоматического вставления фильтра между фильтром разрешений и последующим фильтром разрешение может быть получено не так, как ожидалось, в следующем фильтре. </font><font style="vertical-align: inherit;">Вставка </font></font><a href="#format"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">формата</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> или фильтра формата перед фильтром </font></font><a href="#aformat"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perms</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> /aperms может избежать этой проблемы.
</font></font></p>
<span id="realtime_002c-arealtime"></span><h3 class="section"><code><a href="#toc-realtime_002c-arealtime">16.14 realtime, arealtime</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Замедлить фильтрацию, чтобы приблизительно соответствовать реальному времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти фильтры приостанавливают фильтрацию на определенное время, чтобы скорость вывода соответствовала временным меткам ввода. </font><font style="vertical-align: inherit;">Они похожи на</font></font><samp><code>re</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вариант к </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Они принимают следующие варианты:
</font></font></p>
<dl compact="compact">
<dt><samp><code>limit</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ограничение по времени для пауз. </font><font style="vertical-align: inherit;">Любая более длительная пауза будет считаться разрывом метки времени и сбрасывать таймер. </font><font style="vertical-align: inherit;">По умолчанию 2 секунды.
</font></font></p></dd>
<dt><samp><code>speed</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фактор скорости обработки. </font><font style="vertical-align: inherit;">Значение должно быть числом с плавающей запятой больше нуля. </font><font style="vertical-align: inherit;">Значения больше 1,0 приведут к более быстрой обработке, чем в реальном времени, меньшие значения замедлят обработку. </font><font style="vertical-align: inherit;">Автоматически </font></font><var><code>limit</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">адаптируется соответствующим образом. </font><font style="vertical-align: inherit;">По умолчанию 1.0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скорость обработки выше, чем та, которая возможна без этих фильтров, не может быть достигнута.
</font></font></p></dd>
</dl>

<span id="Commands-156"></span><h4 class="subsection"><a href="#toc-Commands-156"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.14.1 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оба фильтра поддерживают все вышеперечисленные опции в виде </font></font><a href="#commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">команд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<span id="segment_002c-asegment"></span><h3 class="section"><code><a href="#toc-segment_002c-asegment">16.15 segment, asegment</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделить один входной поток на несколько потоков.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр работает противоположно фильтрам concat.
</font></font></p>
<p><code>segment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">работает на видеокадрах, </font></font><code>asegment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">на аудиосэмплах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>timestamps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временные метки выходных сегментов, разделенные '|'. </font><font style="vertical-align: inherit;">Первый сегмент будет запускаться с начала входного потока. </font><font style="vertical-align: inherit;">Последний сегмент будет работать до конца входного потока
</font></font></p>
</dd>
<dt><samp><code>frames, samples</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Точное количество кадров/выборок для разделения сегментов.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Во всех случаях префикс каждого сегмента с «+» сделает его относительным к предыдущему сегменту.
</font></font></p>
<span id="Examples-153"></span><h4 class="subsection"><a href="#toc-Examples-153"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.15.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделить входной аудиопоток на три выходных аудиопотока, начиная с начала входного аудиопотока и сохраняя его в 1-м выходном аудиопотоке, затем следуя на 60-й секунде и сохраняя его во 2-м выходном аудиопотоке, и последний после 150-й секунды хранения входного аудиопотока в 3-м выходном аудиопотоке:
</font></font><div class="example">
<pre class="example"><code>asegment=timestamps="60|150"
</code></pre></div>

</li></ul>

<span id="select"></span><span id="select_002c-aselect"></span><h3 class="section"><code><a href="#toc-select_002c-aselect">16.16 select, aselect</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите кадры для передачи на выходе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>expr, e</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выражение, которое оценивается для каждого входного кадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если выражение равно нулю, кадр отбрасывается.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если результат оценки отрицательный или NaN, кадр отправляется на первый выход; </font><font style="vertical-align: inherit;">в противном случае он отправляется на выход с индексом
 </font></font><code>ceil(val)-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, предполагая, что входной индекс начинается с 0.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Например, значение </font></font><code>1.2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">соответствует выводу с индексом
 </font></font><code>ceil(1.2)-1 = 2-1 = 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, то есть второму выводу.
</font></font></p>
</dd>
<dt><samp><code>outputs, n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество выходов. </font><font style="vertical-align: inherit;">Выход, на который следует отправить выбранный кадр, основан на результате оценки. </font><font style="vertical-align: inherit;">Значение по умолчанию — 1.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение может содержать следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер отфильтрованного кадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>selected_n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Порядковый) номер выбранного кадра, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>prev_selected_n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Порядковый номер последнего выбранного кадра. </font><font style="vertical-align: inherit;">Это NAN, если не определено.
</font></font></p>
</dd>
<dt><samp><code>TB</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная база входных временных меток.
</font></font></p>
</dd>
<dt><samp><code>pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS (отметка времени представления) отфильтрованного кадра, выраженная в </font></font><var><code>TB</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">единицах. </font><font style="vertical-align: inherit;">Это NAN, если не определено.
</font></font></p>
</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS отфильтрованного кадра, выраженное в секундах. </font><font style="vertical-align: inherit;">Это NAN, если не определено.
</font></font></p>
</dd>
<dt><samp><code>prev_pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS ранее отфильтрованного кадра. </font><font style="vertical-align: inherit;">Это NAN, если не определено.
</font></font></p>
</dd>
<dt><samp><code>prev_selected_pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS последнего ранее отфильтрованного кадра. </font><font style="vertical-align: inherit;">Это NAN, если не определено.
</font></font></p>
</dd>
<dt><samp><code>prev_selected_t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS последнего ранее выбранного кадра, выраженное в секундах. </font><font style="vertical-align: inherit;">Это NAN, если не определено.
</font></font></p>
</dd>
<dt><samp><code>start_pts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первый PTS в потоке, не являющийся NAN. </font><font style="vertical-align: inherit;">Он остается NAN, если не найден.
</font></font></p>
</dd>
<dt><samp><code>start_t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Первый PTS в секундах в потоке, который не является NAN. </font><font style="vertical-align: inherit;">Он остается NAN, если не найден.
</font></font></p>
</dd>
<dt><samp><code>pict_type <em>(video only)</em></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип отфильтрованного кадра. </font><font style="vertical-align: inherit;">Он может принимать одно из следующих значений:
</font></font></p><dl compact="compact">
<dt><samp><code>I</code></samp></dt>
<dt><samp><code>P</code></samp></dt>
<dt><samp><code>B</code></samp></dt>
<dt><samp><code>S</code></samp></dt>
<dt><samp><code>SI</code></samp></dt>
<dt><samp><code>SP</code></samp></dt>
<dt><samp><code>BI</code></samp></dt>
</dl>

</dd>
<dt><samp><code>interlace_type <em>(video only)</em></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Тип чередования кадров. </font><font style="vertical-align: inherit;">Он может принимать одно из следующих значений:
</font></font></p><dl compact="compact">
<dt><samp><code>PROGRESSIVE</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кадр прогрессивный (не чересстрочный).
</font></font></p></dd>
<dt><samp><code>TOPFIRST</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кадр находится в верхнем поле.
</font></font></p></dd>
<dt><samp><code>BOTTOMFIRST</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кадр располагается в нижней части поля.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>consumed_sample_n <em>(audio only)</em></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество выбранных сэмплов перед текущим кадром
</font></font></p>
</dd>
<dt><samp><code>samples_n <em>(audio only)</em></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">количество семплов в текущем кадре
</font></font></p>
</dd>
<dt><samp><code>sample_rate <em>(audio only)</em></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">входная частота дискретизации
</font></font></p>
</dd>
<dt><samp><code>key</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это 1, если отфильтрованный кадр является ключевым кадром, 0 в противном случае.
</font></font></p>
</dd>
<dt><samp><code>pos</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">позиция в файле отфильтрованного кадра, -1, если информация недоступна (например, для синтетического видео)
</font></font></p>
</dd>
<dt><samp><code>scene <em>(video only)</em></code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">значение от 0 до 1 для указания новой сцены; </font><font style="vertical-align: inherit;">низкое значение отражает низкую вероятность того, что текущий кадр представит новую сцену, в то время как более высокое значение означает, что текущий кадр, скорее всего, будет единым (см. пример ниже).
</font></font></p>
</dd>
<dt><samp><code>concatdec_select</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Демультиплексор concat может выбрать только часть входного файла concat, установив начальную и конечную точки, но выходные пакеты могут не полностью содержаться в выбранном интервале. </font><font style="vertical-align: inherit;">Используя эту переменную, можно пропускать кадры, сгенерированные демультиплексором concat, которые точно не содержатся в выбранном интервале.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это работает путем сравнения точек кадра со </font></font><var><code>lavf.concat.start_time</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
значениями </font></font><var><code>lavf.concat.duration</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">метаданных пакета, которые также присутствуют в декодированных кадрах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Переменная </font></font><var><code>concatdec_select</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">равна -1, если точки кадра имеют по крайней мере значение start_time и либо метаданные продолжительности отсутствуют, либо точки кадров меньше, чем start_time + длительность, в противном случае 0, и NaN, если отсутствуют метаданные start_time.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В основном это означает, что входной кадр выбирается, если его точки находятся в пределах интервала, установленного демультиплексором concat.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение выражения выбора по умолчанию равно "1".
</font></font></p>
<span id="Examples-154"></span><h4 class="subsection"><a href="#toc-Examples-154"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.16.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите все кадры на входе:
</font></font><div class="example">
<pre class="example"><code>select
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример выше аналогичен:
</font></font></p><div class="example">
<pre class="example"><code>select=1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пропустить все кадры:
</font></font><div class="example">
<pre class="example"><code>select=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите только I-кадры:
</font></font><div class="example">
<pre class="example"><code>select='eq(pict_type\,I)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите один кадр каждые 100:
</font></font><div class="example">
<pre class="example"><code>select='not(mod(n\,100))'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите только кадры, содержащиеся во временном интервале 10-20:
</font></font><div class="example">
<pre class="example"><code>select=between(t\,10\,20)
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите только I-кадры, содержащиеся во временном интервале 10-20:
</font></font><div class="example">
<pre class="example"><code>select=between(t\,10\,20)*eq(pict_type\,I)
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите кадры с минимальным расстоянием 10 секунд:
</font></font><div class="example">
<pre class="example"><code>select='isnan(prev_selected_t)+gte(t-prev_selected_t\,10)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте aselect, чтобы выбрать только аудиокадры с количеством сэмплов&gt; 100:
</font></font><div class="example">
<pre class="example"><code>aselect='gt(samples_n\,100)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте мозаику из первых сцен:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i video.avi -vf select='gt(scene\,0.4)',scale=160:120,tile -frames:v 1 preview.png
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сравнение </font></font><var><code>scene</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">со значением от 0,3 до 0,5, как правило, является разумным выбором.
</font></font></p>
</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отправьте четные и нечетные кадры на отдельные выходы и скомпонуйте их:
</font></font><div class="example">
<pre class="example"><code>select=n=2:e='mod(n, 2)+1' [odd][even]; [odd] pad=h=2*ih [tmp]; [tmp][even] overlay=y=h
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите полезные кадры из файла ffconcat, который использует точки входа и выхода, но где исходные файлы не только внутри кадра.
</font></font><div class="example">
<pre class="example"><code>ffmpeg -copyts -vsync 0 -segment_time_metadata 1 -i input.ffconcat -vf select=concatdec_select -af aselect=concatdec_select output.avi
</code></pre></div>
</li></ul>

<span id="sendcmd_002c-asendcmd"></span><h3 class="section"><code><a href="#toc-sendcmd_002c-asendcmd">16.17 sendcmd, asendcmd</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отправьте команды фильтрам в filtergraph.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти фильтры считывают команды для отправки другим фильтрам в filtergraph.
</font></font></p>
<p><code>sendcmd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">должны быть вставлены между двумя видеофильтрами,
 </font></font><code>asendcmd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">должны быть вставлены между двумя аудиофильтрами, но в остальном они действуют одинаково.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Спецификация команд может быть предоставлена &ZeroWidthSpace;&ZeroWidthSpace;в аргументах фильтра с </font></font><var><code>commands</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцией или в файле, указанном
 </font></font><var><code>filename</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцией.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эти фильтры принимают следующие параметры:
</font></font></p><dl compact="compact">
<dt><samp><code>commands, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите команды для чтения и отправки другим фильтрам.
</font></font></p></dd>
<dt><samp><code>filename, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите имя файла команд для чтения и отправки другим фильтрам.
</font></font></p></dd>
</dl>

<span id="Commands-syntax"></span><h4 class="subsection"><a href="#toc-Commands-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.17.1 Синтаксис команд</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Описание команд состоит из последовательности спецификаций интервалов, включая список команд, которые должны быть выполнены, когда происходит конкретное событие, связанное с этим интервалом. </font><font style="vertical-align: inherit;">Происходящее событие обычно представляет собой время текущего кадра, входящего или выходящего из заданного временного интервала.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интервал задается следующим синтаксисом:
</font></font></p><div class="example">
<pre class="example"><code><var><code>START</code></var>[-<var><code>END</code></var>] <var><code>COMMANDS</code></var>;
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временной интервал задается символами </font></font><var><code>START</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>END</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">раз.
</font></font><var><code>END</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">является необязательным и по умолчанию равно максимальному времени.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текущее время кадра считается внутри указанного интервала, если оно входит в интервал [ </font></font><var><code>START</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>END</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), то есть когда время больше или равно </font></font><var><code>START</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и меньше
 </font></font><var><code>END</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><var><code>COMMANDS</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">состоит из последовательности одной или нескольких спецификаций команд, разделенных знаком «,», относящихся к этому интервалу. </font><font style="vertical-align: inherit;">Синтаксис спецификации команды определяется следующим образом:
</font></font></p><div class="example">
<pre class="example"><code>[<var><code>FLAGS</code></var>] <var><code>TARGET</code></var> <var><code>COMMAND</code></var> <var><code>ARG</code></var>
</code></pre></div>

<p><var><code>FLAGS</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">является необязательным и указывает тип событий, относящихся к интервалу времени, которые позволяют отправить указанную команду, и должен быть ненулевой последовательностью флагов идентификатора, разделенных знаком «+» или «|». </font><font style="vertical-align: inherit;">и заключены между "[" и "]".
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Распознаются следующие флаги:
</font></font></p><dl compact="compact">
<dt><samp><code>enter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Команда отправляется, когда временная метка текущего кадра входит в указанный интервал. </font><font style="vertical-align: inherit;">Другими словами, команда отправляется, когда временная метка предыдущего кадра не была в заданном интервале, а текущий есть.
</font></font></p>
</dd>
<dt><samp><code>leave</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Команда отправляется, когда временная метка текущего кадра покидает указанный интервал. </font><font style="vertical-align: inherit;">Другими словами, команда отправляется, когда временная метка предыдущего кадра была в заданном интервале, а текущая — нет.
</font></font></p>
</dd>
<dt><samp><code>expr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Команда </font></font><var><code>ARG</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">интерпретируется как выражение, а результат выражения передается как </font></font><var><code>ARG</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение оценивается через eval API и может содержать следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>POS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Исходное положение кадра в файле или неопределенное, если оно не определено для текущего кадра.
</font></font></p>
</dd>
<dt><samp><code>PTS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная метка презентации во входных данных.
</font></font></p>
</dd>
<dt><samp><code>N</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество входных кадров для видео или аудио, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>T</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время в секундах текущего кадра.
</font></font></p>
</dd>
<dt><samp><code>TS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время начала в секундах текущего командного интервала.
</font></font></p>
</dd>
<dt><samp><code>TE</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время окончания в секундах текущего командного интервала.
</font></font></p>
</dd>
<dt><samp><code>TI</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Интерполированное время текущего командного интервала, TI = (T - TS) / (TE - TS).
</font></font></p>
</dd>
<dt><samp><code>W</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ширина кадра видео.
</font></font></p>
</dd>
<dt><samp><code>H</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Высота кадра видео.
</font></font></p></dd>
</dl>

</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если </font></font><var><code>FLAGS</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">не указано, предполагается значение по умолчанию </font></font><code>[enter]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><var><code>TARGET</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указывает цель команды, обычно это имя класса фильтра или конкретное имя экземпляра фильтра.
</font></font></p>
<p><var><code>COMMAND</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указывает имя команды для целевого фильтра.
</font></font></p>
<p><var><code>ARG</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">является необязательным и указывает необязательный список аргументов для данного </font></font><var><code>COMMAND</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Между одной спецификацией интервала и другой пробелы или последовательности символов, начинающиеся с </font></font><code>#</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до конца строки, игнорируются и могут использоваться для аннотирования комментариев.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено упрощенное описание синтаксиса спецификации команд в формате BNF:
</font></font></p><div class="example">
<pre class="example"><code><var><code>COMMAND_FLAG</code></var>  ::= "enter" | "leave"
<var><code>COMMAND_FLAGS</code></var> ::= <var><code>COMMAND_FLAG</code></var> [(+|"|")<var><code>COMMAND_FLAG</code></var>]
<var><code>COMMAND</code></var>       ::= ["[" <var><code>COMMAND_FLAGS</code></var> "]"] <var><code>TARGET</code></var> <var><code>COMMAND</code></var> [<var><code>ARG</code></var>]
<var><code>COMMANDS</code></var>      ::= <var><code>COMMAND</code></var> [,<var><code>COMMANDS</code></var>]
<var><code>INTERVAL</code></var>      ::= <var><code>START</code></var>[-<var><code>END</code></var>] <var><code>COMMANDS</code></var>
<var><code>INTERVALS</code></var>     ::= <var><code>INTERVAL</code></var>[;<var><code>INTERVALS</code></var>]
</code></pre></div>

<span id="Examples-155"></span><h4 class="subsection"><a href="#toc-Examples-155"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.17.2 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите изменение темпа звука на 4-й секунде:
</font></font><div class="example">
<pre class="example"><code>asendcmd=c='4.0 atempo tempo 1.5',atempo
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Таргетинг на конкретный экземпляр фильтра:
</font></font><div class="example">
<pre class="example"><code>asendcmd=c='4.0 atempo@my tempo 1.5',atempo@my
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите список команд drawtext и hue в файле.
</font></font><div class="example">
<pre class="example"><code># show text in the interval 5-10<font></font>
5.0-10.0 [enter] drawtext reinit 'fontfile=FreeSerif.ttf:text=hello world',<font></font>
         [leave] drawtext reinit 'fontfile=FreeSerif.ttf:text=';<font></font>
<font></font>
# desaturate the image in the interval 15-20<font></font>
15.0-20.0 [enter] hue s 0,<font></font>
          [enter] drawtext reinit 'fontfile=FreeSerif.ttf:text=nocolor',<font></font>
          [leave] hue s 1,<font></font>
          [leave] drawtext reinit 'fontfile=FreeSerif.ttf:text=color';<font></font>
<font></font>
# apply an exponential saturation fade-out effect, starting from time 25<font></font>
25 [enter] hue s exp(25-t)<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Граф фильтра, позволяющий читать и обрабатывать приведенный выше список команд, хранящийся в файле.</font></font><samp><code>test.cmd</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, можно указать с помощью:
</font></font></p><div class="example">
<pre class="example"><code>sendcmd=f=test.cmd,drawtext=fontfile=FreeSerif.ttf:text='',hue
</code></pre></div>
</li></ul>

<span id="setpts"></span><span id="setpts_002c-asetpts"></span><h3 class="section"><code><a href="#toc-setpts_002c-asetpts">16.18 setpts, asetpts</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Измените PTS (временную метку представления) входных кадров.
</font></font></p>
<p><code>setpts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">работает на видеокадрах, </font></font><code>asetpts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">на аудиокадрах.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>expr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение, которое оценивается для каждого кадра для построения его метки времени.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение оценивается через eval API и может содержать следующие константы:
</font></font></p>
<dl compact="compact">
<dt><samp><code>FRAME_RATE, FR</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота кадров, определенная только для видео с постоянной частотой кадров
</font></font></p>
</dd>
<dt><samp><code>PTS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная метка презентации во входных данных
</font></font></p>
</dd>
<dt><samp><code>N</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество входных кадров для видео или количество потребленных семплов, не включая текущий кадр для аудио, начиная с 0.
</font></font></p>
</dd>
<dt><samp><code>NB_CONSUMED_SAMPLES</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество потребляемых семплов, не считая текущего кадра (только аудио)
</font></font></p>
</dd>
<dt><samp><code>NB_SAMPLES, S</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Количество семплов в текущем кадре (только аудио)
</font></font></p>
</dd>
<dt><samp><code>SAMPLE_RATE, SR</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частота дискретизации звука.
</font></font></p>
</dd>
<dt><samp><code>STARTPTS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTS первого кадра.
</font></font></p>
</dd>
<dt><samp><code>STARTT</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">время в секундах первого кадра
</font></font></p>
</dd>
<dt><samp><code>INTERLACED</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, является ли текущий кадр чересстрочным.
</font></font></p>
</dd>
<dt><samp><code>T</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">время в секундах текущего кадра
</font></font></p>
</dd>
<dt><samp><code>POS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">исходная позиция в файле кадра или undefined, если не определено для текущего кадра
</font></font></p>
</dd>
<dt><samp><code>PREV_INPTS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предыдущий вход PTS.
</font></font></p>
</dd>
<dt><samp><code>PREV_INT</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предыдущее время ввода в секундах
</font></font></p>
</dd>
<dt><samp><code>PREV_OUTPTS</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Предыдущий выход ПТС.
</font></font></p>
</dd>
<dt><samp><code>PREV_OUTT</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">предыдущее время вывода в секундах
</font></font></p>
</dd>
<dt><samp><code>RTCTIME</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время настенных часов (RTC) в микросекундах. </font><font style="vertical-align: inherit;">Это устарело, вместо этого используйте time(0).
</font></font></p>
</dd>
<dt><samp><code>RTCSTART</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Время настенных часов (RTC) в начале фильма в микросекундах.
</font></font></p>
</dd>
<dt><samp><code>TB</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Временная база входных временных меток.
</font></font></p>
</dd>
</dl>

<span id="Examples-156"></span><h4 class="subsection"><a href="#toc-Examples-156"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.18.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Начать отсчет PTS с нуля
</font></font><div class="example">
<pre class="example"><code>setpts=PTS-STARTPTS
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект быстрого движения:
</font></font><div class="example">
<pre class="example"><code>setpts=0.5*PTS
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените эффект замедленного движения:
</font></font><div class="example">
<pre class="example"><code>setpts=2.0*PTS
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите фиксированную скорость 25 кадров в секунду:
</font></font><div class="example">
<pre class="example"><code>setpts=N/(25*TB)
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите фиксированную скорость 25 кадров в секунду с некоторым дрожанием:
</font></font><div class="example">
<pre class="example"><code>setpts='1/(25*TB) * (N + 0.05 * sin(N*2*PI/25))'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Примените смещение 10 секунд ко входу PTS:
</font></font><div class="example">
<pre class="example"><code>setpts=PTS+10/TB
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерируйте временные метки из «живого источника» и перебазируйте на текущую временную базу:
</font></font><div class="example">
<pre class="example"><code>setpts='(RTCTIME - RTCSTART) / (TB * 1000000)'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создание временных меток путем подсчета выборок:
</font></font><div class="example">
<pre class="example"><code>asetpts=N/SR/TB
</code></pre></div>

</li></ul>

<span id="setrange"></span><h3 class="section"><code><a href="#toc-setrange">16.19 setrange</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Принудительный цветовой диапазон для выходного видеокадра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр </font></font><code>setrange</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">отмечает свойство цветового диапазона для выходных кадров. </font><font style="vertical-align: inherit;">Он не изменяет входной кадр, а только устанавливает соответствующее свойство, которое влияет на то, как кадр обрабатывается следующими фильтрами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>range</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>auto</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сохраняйте то же свойство цветового диапазона.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>unspecified, unknown</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовой диапазон как неопределенный.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>limited, tv, mpeg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовой диапазон как ограниченный.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>full, pc, jpeg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цветовой диапазон как полный.
</font></font></p></dd>
</dl>
</dd>
</dl>

<span id="settb_002c-asettb"></span><h3 class="section"><code><a href="#toc-settb_002c-asettb">16.20 settb, asettb</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите временную базу для временных меток выходных кадров. </font><font style="vertical-align: inherit;">Это в основном полезно для тестирования конфигурации временной базы.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>expr, tb</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выражение, которое оценивается в выходной временной шкале.
</font></font></p>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение для</font></font><samp><code>tb</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">является арифметическим выражением, представляющим рациональное число. </font><font style="vertical-align: inherit;">Выражение может содержать константы «AVTB» (временная база по умолчанию), «intb» (входная временная база) и «sr» (частота дискретизации, только аудио). </font><font style="vertical-align: inherit;">Значение по умолчанию — «интб».
</font></font></p>
<span id="Examples-157"></span><h4 class="subsection"><a href="#toc-Examples-157"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.20.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите временную шкалу на 1/25:
</font></font><div class="example">
<pre class="example"><code>settb=expr=1/25
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите временную шкалу на 1/10:
</font></font><div class="example">
<pre class="example"><code>settb=expr=0.1
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите временную базу на 1001/1000:
</font></font><div class="example">
<pre class="example"><code>settb=1+0.001
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите временную базу на 2*intb:
</font></font><div class="example">
<pre class="example"><code>settb=2*intb
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите значение временной базы по умолчанию:
</font></font><div class="example">
<pre class="example"><code>settb=AVTB
</code></pre></div>
</li></ul>

<span id="showcqt"></span><h3 class="section"><code><a href="#toc-showcqt">16.21 showcqt</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование входного аудио в выходной видеосигнал, представляющий частотный спектр логарифмически, с использованием алгоритма преобразования постоянной добротности Брауна-Пакетта с прямым вычислением коэффициента частотной области (но само преобразование на самом деле не является постоянной добротностью, вместо этого коэффициент добротности фактически является переменным/фиксированным), с музыкальным тоном шкала от E0 до D#10.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео для вывода. </font><font style="vertical-align: inherit;">Должно быть ровно. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1920x1080</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fps, rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите выходную частоту кадров. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>25</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bar_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высоту гистограммы. </font><font style="vertical-align: inherit;">Должно быть ровно. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это автоматическое вычисление высоты гистограммы.
</font></font></p>
</dd>
<dt><samp><code>axis_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высоту оси. </font><font style="vertical-align: inherit;">Должно быть ровно. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это автоматическое вычисление высоты оси.
</font></font></p>
</dd>
<dt><samp><code>sono_h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высоту сонограммы. </font><font style="vertical-align: inherit;">Должно быть ровно. </font><font style="vertical-align: inherit;">Значение по умолчанию — </font></font><code>-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">это автоматическое вычисление высоты сонограммы.
</font></font></p>
</dd>
<dt><samp><code>fullhd</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ставь фулхд разрешение. </font><font style="vertical-align: inherit;">Этот параметр устарел </font></font><var><code>size</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><var><code>s</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
вместо него используйте . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sono_v, volume</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите выражение объема сонограммы. </font><font style="vertical-align: inherit;">Он может содержать переменные:
</font></font></p><dl compact="compact">
<dt><samp><code>bar_v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"></font><var><code>bar_v</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оцененное
 </font><font style="vertical-align: inherit;">выражение</font></font></p></dd>
<dt><samp><code>frequency, freq, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота, на которой он оценивается
</font></font></p></dd>
<dt><samp><code>timeclamp, tc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">стоимость </font></font><var><code>timeclamp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опциона
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и функции:
</font></font></p><dl compact="compact">
<dt><samp><code>a_weighting(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A-взвешивание равной громкости
</font></font></p></dd>
<dt><samp><code>b_weighting(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-взвешивание равной громкости
</font></font></p></dd>
<dt><samp><code>c_weighting(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C-взвешивание равной громкости.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bar_v, volume2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте выражение объема гистограммы. </font><font style="vertical-align: inherit;">Он может содержать переменные:
</font></font></p><dl compact="compact">
<dt><samp><code>sono_v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"></font><var><code>sono_v</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">оцененное
 </font><font style="vertical-align: inherit;">выражение</font></font></p></dd>
<dt><samp><code>frequency, freq, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота, на которой он оценивается
</font></font></p></dd>
<dt><samp><code>timeclamp, tc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">стоимость </font></font><var><code>timeclamp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опциона
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и функции:
</font></font></p><dl compact="compact">
<dt><samp><code>a_weighting(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A-взвешивание равной громкости
</font></font></p></dd>
<dt><samp><code>b_weighting(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-взвешивание равной громкости
</font></font></p></dd>
<dt><samp><code>c_weighting(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C-взвешивание равной громкости.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>sono_v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>sono_g, gamma</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите гамма-сонограмму. </font><font style="vertical-align: inherit;">Низкая гамма делает спектр более контрастным, более высокая гамма делает спектр более широким. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[1, 7]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bar_g, gamma2</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите гамму гистограммы. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон
 </font></font><code>[1, 7]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>bar_t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите уровень прозрачности гистограммы. </font><font style="vertical-align: inherit;">Меньшее значение делает гистограмму более четкой. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0, 1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>timeclamp, tc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте временной зажим преобразования. </font><font style="vertical-align: inherit;">На низкой частоте существует компромисс между точностью во временной и частотной областях. </font><font style="vertical-align: inherit;">Если timeclamp меньше, событие во временной области представляется более точно (например, быстрый бас-барабан), в противном случае событие в частотной области представляется более точно (например, бас-гитара). </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0.002, 1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.17</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>attack</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите время атаки в секундах. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(отключено). </font><font style="vertical-align: inherit;">В противном случае он ограничивает будущие выборки, применяя асимметричное управление окнами во временной области, что полезно, когда требуется низкая задержка. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0, 1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>basefreq</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте базовую частоту преобразования. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>20.01523126408007475</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что соответствует частоте на 50 центов ниже E0. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[10, 100000]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>endfreq</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите конечную частоту преобразования. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>20495.59681441799654</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что соответствует частоте на 50 центов выше D#10. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[10, 100000]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>coeffclamp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот параметр устарел и игнорируется.
</font></font></p>
</dd>
<dt><samp><code>tlength</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте длину преобразования во временной области. </font><font style="vertical-align: inherit;">Используйте эту опцию, чтобы управлять компромиссом точности между временной областью и частотной областью для каждой выборки частоты. </font><font style="vertical-align: inherit;">Он может содержать переменные:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, freq, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота, на которой он оценивается
</font></font></p></dd>
<dt><samp><code>timeclamp, tc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">стоимость </font></font><var><code>timeclamp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опциона.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>384*tc/(384+tc*f)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>count</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите количество преобразований для каждого видеокадра. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[1, 30]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fcount</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите количество преобразований для каждого отдельного пикселя. </font><font style="vertical-align: inherit;">Значение по умолчанию равно </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, поэтому оно вычисляется автоматически. </font><font style="vertical-align: inherit;">Допустимый диапазон </font></font><code>[0, 10]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fontfile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите файл шрифта для использования с FreeType для рисования оси. </font><font style="vertical-align: inherit;">Если не указано, используйте встроенный шрифт. </font><font style="vertical-align: inherit;">Обратите внимание, что рисование с помощью файла шрифта или встроенного шрифта не реализуется с помощью пользовательского </font></font><var><code>basefreq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font><font style="vertical-align: inherit;">
вместо этого
 </font></font><var><code>endfreq</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">используйте параметр .</font></font><var><code>axisfile</code></var><font style="vertical-align: inherit;"></font></p>
</dd>
<dt><samp><code>font</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите шаблон fontconfig. </font><font style="vertical-align: inherit;">Это имеет более низкий приоритет, чем </font></font><var><code>fontfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В
 </font></font><code>:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">шаблоне можно заменить на , </font></font><code>|</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">чтобы избежать ненужного экранирования.
</font></font></p>
</dd>
<dt><samp><code>fontcolor</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите выражение цвета шрифта. </font><font style="vertical-align: inherit;">Это арифметическое выражение, которое должно возвращать целочисленное значение 0xRRGGBB. </font><font style="vertical-align: inherit;">Он может содержать переменные:
</font></font></p><dl compact="compact">
<dt><samp><code>frequency, freq, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">частота, на которой он оценивается
</font></font></p></dd>
<dt><samp><code>timeclamp, tc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">стоимость </font></font><var><code>timeclamp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опциона
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и функции:
</font></font></p><dl compact="compact">
<dt><samp><code>midi(f)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">число миди частоты f, некоторые числа миди: E0(16), C1(24), C2(36), A4(69)
</font></font></p></dd>
<dt><samp><code>r(x), g(x), b(x)</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">красное, зеленое и синее значение интенсивности x.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>st(0, (midi(f)-59.5)/12);
st(1, if(between(ld(0),0,1), 0.5-0.5*cos(2*PI*ld(0)), 0));
r(1-ld(1)) + b(ld(1))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>axisfile</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите файл изображения для рисования оси. </font><font style="vertical-align: inherit;">Этот параметр переопределяет </font></font><var><code>fontfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и
 </font></font><var><code>fontcolor</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметр.
</font></font></p>
</dd>
<dt><samp><code>axis, text</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить/выключить рисование текста на оси. </font><font style="vertical-align: inherit;">Если установлено значение </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рисование по оси отключается, игнорируя </font></font><var><code>fontfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><var><code>axisfile</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">параметр. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>csp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить цветовое пространство. </font><font style="vertical-align: inherit;">Принятые значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>unspecified</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Не указано (по умолчанию)
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt709</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">БТ.709
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fcc</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ФКК
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt470bg</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BT.470BG или BT.601-6 625
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte170m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-170М или БТ.601-6 525
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>smpte240m</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">СМПТЭ-240М
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bt2020ncl</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BT.2020 с непостоянной яркостью
</font></font></p>
</dd>
</dl>

</dd>
<dt><samp><code>cscheme</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить цветовую схему спектрограммы. </font><font style="vertical-align: inherit;">Это список значений с плавающей запятой в формате
 </font></font><code>left_r|left_g|left_b|right_r|right_g|right_b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1|0.5|0|0|0.5|1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="Examples-158"></span><h4 class="subsection"><a href="#toc-Examples-158"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.21.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Воспроизведение звука при отображении спектра:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi 'amovie=a.mp3, asplit [a][out1]; [a] showcqt [out0]'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с частотой кадров 30 кадров в секунду:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi 'amovie=a.mp3, asplit [a][out1]; [a] showcqt=fps=30:count=5 [out0]'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Воспроизведение в разрешении 1280x720:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi 'amovie=a.mp3, asplit [a][out1]; [a] showcqt=s=1280x720:count=4 [out0]'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отключить отображение сонограммы:
</font></font><div class="example">
<pre class="example"><code>sono_h=0
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">А1 и ее гармоники: А1, А2, (ближняя) Е3, А3:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi 'aevalsrc=0.1*sin(2*PI*55*t)+0.1*sin(4*PI*55*t)+0.1*sin(6*PI*55*t)+0.1*sin(8*PI*55*t),<font></font>
                 asplit[a][out1]; [a] showcqt [out0]'<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">То же, что и выше, но с большей точностью в частотной области:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi 'aevalsrc=0.1*sin(2*PI*55*t)+0.1*sin(4*PI*55*t)+0.1*sin(6*PI*55*t)+0.1*sin(8*PI*55*t),<font></font>
                 asplit[a][out1]; [a] showcqt=timeclamp=0.5 [out0]'<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пользовательский объем:
</font></font><div class="example">
<pre class="example"><code>bar_v=10:sono_v=bar_v*a_weighting(f)
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пользовательская гамма, теперь спектр линейен по отношению к амплитуде.
</font></font><div class="example">
<pre class="example"><code>bar_g=2:sono_g=2
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пользовательское уравнение tlength:
</font></font><div class="example">
<pre class="example"><code>tc=0.33:tlength='st(0,0.17); 384*tc / (384 / ld(0) + tc*f /(1-ld(0))) + 384*tc / (tc*f / ld(0) + 384 /(1-ld(0)))'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пользовательский цвет шрифта и файл шрифта, C-нота окрашена в зеленый цвет, другие окрашены в синий цвет:
</font></font><div class="example">
<pre class="example"><code>fontcolor='if(mod(floor(midi(f)+0.5),12), 0x0000FF, g(1))':fontfile=myfont.ttf
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пользовательский шрифт с помощью fontconfig:
</font></font><div class="example">
<pre class="example"><code>font='Courier New,Monospace,mono|bold'
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пользовательский диапазон частот с пользовательской осью с использованием файла изображения:
</font></font><div class="example">
<pre class="example"><code>axisfile=myaxis.png:basefreq=40:endfreq=10000
</code></pre></div>
</li></ul>

<span id="showfreqs"></span><h3 class="section"><code><a href="#toc-showfreqs">16.22 showfreqs</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте входной звук в видеовыход, представляющий спектр звуковой мощности. </font><font style="vertical-align: inherit;">Амплитуда звука находится по оси Y, а частота — по оси X.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1024x512</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорость видео. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>25</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим отображения. </font><font style="vertical-align: inherit;">Это устанавливает, как будет представлен каждый частотный бин.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>line</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bar</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dot</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>ascale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить масштаб амплитуды.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейная шкала.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sqrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Шкала квадратного корня.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cbrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштаб кубического корня.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Логарифмическая шкала.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fscale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить шкалу частоты.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейная шкала.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Логарифмическая шкала.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rlog</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратнологарифмическая шкала.
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>lin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>win_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от 16 до 65536.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию</font></font><code>2048</code>
</p>
</dd>
<dt><samp><code>win_func</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите оконную функцию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bartlett</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hanning</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hamming</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>welch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flattop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bharris</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bnuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bhann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sine</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tukey</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dolph</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cauchy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parzen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>poisson</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bohman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hanning</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите перекрытие окна. </font><font style="vertical-align: inherit;">В диапазоне </font></font><code>[0, 1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию означает </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что будет выбрано оптимальное перекрытие для выбранной оконной функции.
</font></font></p>
</dd>
<dt><samp><code>averaging</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить усреднение по времени. </font><font style="vertical-align: inherit;">Установка этого параметра на 0 будет отображать текущие максимальные пики. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что означает, что усреднение по времени отключено.
</font></font></p>
</dd>
<dt><samp><code>colors</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите список цветов, разделенных пробелом или '|' </font><font style="vertical-align: inherit;">который будет использоваться для рисования частот каналов. </font><font style="vertical-align: inherit;">Нераспознанные или отсутствующие цвета будут заменены белым цветом.
</font></font></p>
</dd>
<dt><samp><code>cmode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим отображения каналов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>combined</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>separate</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>combined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>minamp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите минимальную амплитуду, используемую в </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабере амплитуды.
</font></font></p>
</dd>
<dt><samp><code>data</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим отображения данных.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>magnitude</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>phase</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>delay</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>magnitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите каналы для использования при обработке звука. </font><font style="vertical-align: inherit;">По умолчанию обрабатываются все.
</font></font></p></dd>
</dl>

<span id="showspatial"></span><h3 class="section"><code><a href="#toc-showspatial">16.23 showspatial</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте входной стереофонический звук в видеовыход, представляя пространственное отношение между двумя каналами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>512x512</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>win_size</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить размер окна. </font><font style="vertical-align: inherit;">Допустимый диапазон от </font></font><var><code>1024</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">до </font></font><var><code>65536</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Размер по умолчанию </font></font><var><code>4096</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>win_func</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить оконную функцию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bartlett</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hanning</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hamming</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>welch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flattop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bharris</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bnuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bhann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sine</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tukey</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dolph</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cauchy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parzen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>poisson</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bohman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hann</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент перекрытия окна. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Когда значение </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">перекрытия устанавливается на рекомендуемый размер для конкретной функции окна, используемой в настоящее время.
</font></font></p></dd>
</dl>

<span id="showspectrum"></span><span id="showspectrum-1"></span><h3 class="section"><code><a href="#toc-showspectrum-1">16.24 showspectrum</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте входной звук в видеовыход, представляя звуковой частотный спектр.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>640x512</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>slide</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите, как спектр должен скользить по окну.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>replace</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">образцы начинаются снова слева, когда достигают права
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>scroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">образцы прокручиваются справа налево
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fullframe</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кадры создаются только тогда, когда сэмплы достигают нужного
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rscroll</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">образцы прокручиваются слева направо
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lreplace</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">образцы начинаются снова справа, когда они достигают левого
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите режим отображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>combined</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все каналы отображаются в одной строке
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>separate</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все каналы отображаются в отдельных строках
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>combined</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цветовой режим дисплея.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>channel</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается отдельным цветом
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>intensity</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием одной и той же цветовой схемы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rainbow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы радуги
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>moreland</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы Морленда
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nebulae</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы туманностей
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fire</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы огня
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fiery</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием огненной цветовой схемы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fruit</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы фруктов
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cool</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием классной цветовой схемы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>magma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы магмы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>green</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием зеленой цветовой схемы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>viridis</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы viridis
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>plasma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы плазмы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cividis</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы cividis
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>terrain</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы ландшафта
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>channel</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите масштаб, используемый для вычисления значений интенсивности цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейный
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sqrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">квадратный корень, по умолчанию
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cbrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кубический корень
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">логарифмический
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>4thrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4-й корень
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>5thrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5-й корень
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>sqrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>fscale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте шкалу частот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейный
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">логарифмический
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>saturation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите модификатор насыщенности для отображаемых цветов. </font><font style="vertical-align: inherit;">Отрицательные значения обеспечивают альтернативную цветовую схему. </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вообще нет насыщения. </font><font style="vertical-align: inherit;">Насыщенность должна быть в диапазоне [-10,0, 10,0]. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>win_func</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить оконную функцию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bartlett</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hanning</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hamming</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>welch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flattop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bharris</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bnuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bhann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sine</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tukey</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dolph</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cauchy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parzen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>poisson</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bohman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hann</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>orientation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить ориентацию оси времени и частоты. </font><font style="vertical-align: inherit;">Можно </font></font><code>vertical</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или
 </font></font><code>horizontal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>vertical</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите коэффициент перекрытия окна. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Когда значение </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">перекрытия устанавливается на рекомендуемый размер для конкретной функции окна, используемой в настоящее время.
</font></font></p>
</dd>
<dt><samp><code>gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление шкалы для расчета значений интенсивности цвета. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>data</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, какие данные отображать. </font><font style="vertical-align: inherit;">Может быть </font></font><code>magnitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по умолчанию или </font></font><code>phase</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, или развернутая фаза: </font></font><code>uphase</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>rotation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить поворот цвета, должен быть в диапазоне [-1.0, 1.0]. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальную частоту, с которой будет отображаться спектрограмма. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>stop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту остановки для отображения спектрограммы. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>fps</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите верхний предел частоты кадров. </font><font style="vertical-align: inherit;">По умолчанию </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, неограниченно.
</font></font></p>
</dd>
<dt><samp><code>legend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте оси времени и частоты и легенды. </font><font style="vertical-align: inherit;">По умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>drange</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите динамический диапазон, используемый для расчета значений интенсивности цвета. </font><font style="vertical-align: inherit;">Значение по умолчанию — 120 дБ полной шкалы. </font><font style="vertical-align: inherit;">Допустимый диапазон от 10 до 200.
</font></font></p>
</dd>
<dt><samp><code>limit</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите верхний предел громкости входных аудиосэмплов в dBFS. </font><font style="vertical-align: inherit;">По умолчанию 0 дБ полной шкалы. </font><font style="vertical-align: inherit;">Допустимый диапазон от -100 до 100.
</font></font></p>
</dd>
<dt><samp><code>opacity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите степень непрозрачности при использовании вывода в формате пикселей с альфа-компонентом.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Использование очень похоже на фильтр showwaves; </font><font style="vertical-align: inherit;">см. примеры в этом разделе.
</font></font></p>
<span id="Examples-159"></span><h4 class="subsection"><a href="#toc-Examples-159"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.24.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Большое окно с логарифмическим масштабированием цвета:
</font></font><div class="example">
<pre class="example"><code>showspectrum=s=1280x480:scale=log
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полный пример цветного и скользящего спектра для каждого канала с использованием </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffplay -f lavfi 'amovie=input.mp3, asplit [a][out1];<font></font>
             [a] showspectrum=mode=separate:color=intensity:slide=1:scale=cbrt [out0]'<font></font>
</code></pre></div>
</li></ul>

<span id="showspectrumpic"></span><h3 class="section"><code><a href="#toc-showspectrumpic">16.25 showspectrumpic</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте входной звук в один видеокадр, представляющий спектр звуковых частот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>4096x2048</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите режим отображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>combined</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все каналы отображаются в одной строке
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>separate</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">все каналы отображаются в отдельных строках
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>combined</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>color</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите цветовой режим дисплея.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>channel</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается отдельным цветом
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>intensity</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием одной и той же цветовой схемы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rainbow</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы радуги
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>moreland</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы Морленда
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nebulae</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы туманностей
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fire</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы огня
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fiery</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием огненной цветовой схемы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>fruit</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы фруктов
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cool</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием классной цветовой схемы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>magma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы магмы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>green</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием зеленой цветовой схемы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>viridis</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы viridis
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>plasma</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы плазмы
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cividis</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы cividis
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>terrain</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">каждый канал отображается с использованием цветовой схемы ландшафта
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>intensity</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите масштаб, используемый для вычисления значений интенсивности цвета.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейный
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sqrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">квадратный корень, по умолчанию
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cbrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кубический корень
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">логарифмический
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>4thrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4-й корень
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>5thrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5-й корень
</font></font></p></dd>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>fscale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задайте шкалу частот.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">линейный
</font></font></p></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">логарифмический
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию: '</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'.
</font></font></p>
</dd>
<dt><samp><code>saturation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите модификатор насыщенности для отображаемых цветов. </font><font style="vertical-align: inherit;">Отрицательные значения обеспечивают альтернативную цветовую схему. </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вообще нет насыщения. </font><font style="vertical-align: inherit;">Насыщенность должна быть в диапазоне [-10,0, 10,0]. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>win_func</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить оконную функцию.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>rect</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bartlett</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hanning</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>hamming</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>blackman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>welch</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>flattop</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bharris</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bnuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bhann</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sine</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>nuttall</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lanczos</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>gauss</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>tukey</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>dolph</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cauchy</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>parzen</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>poisson</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>bohman</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
</dl>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hann</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>orientation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить ориентацию оси времени и частоты. </font><font style="vertical-align: inherit;">Можно </font></font><code>vertical</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или
 </font></font><code>horizontal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>vertical</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>gain</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите усиление шкалы для расчета значений интенсивности цвета. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>legend</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте оси времени и частоты и легенды. </font><font style="vertical-align: inherit;">По умолчанию включено.
</font></font></p>
</dd>
<dt><samp><code>rotation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить поворот цвета, должен быть в диапазоне [-1.0, 1.0]. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>start</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите начальную частоту, с которой будет отображаться спектрограмма. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>stop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту остановки для отображения спектрограммы. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>drange</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите динамический диапазон, используемый для расчета значений интенсивности цвета. </font><font style="vertical-align: inherit;">Значение по умолчанию — 120 дБ полной шкалы. </font><font style="vertical-align: inherit;">Допустимый диапазон от 10 до 200.
</font></font></p>
</dd>
<dt><samp><code>limit</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите верхний предел громкости входных аудиосэмплов в dBFS. </font><font style="vertical-align: inherit;">По умолчанию 0 дБ полной шкалы. </font><font style="vertical-align: inherit;">Допустимый диапазон от -100 до 100.
</font></font></p>
</dd>
<dt><samp><code>opacity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите степень непрозрачности при использовании вывода в формате пикселей с альфа-компонентом.
</font></font></p></dd>
</dl>

<span id="Examples-160"></span><h4 class="subsection"><a href="#toc-Examples-160"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.25.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлеките звуковую спектрограмму всей звуковой дорожки в изображении 1024x1024, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i audio.flac -lavfi showspectrumpic=s=1024x1024 spectrogram.png
</code></pre></div>
</li></ul>

<span id="showvolume"></span><h3 class="section"><code><a href="#toc-showvolume">16.26 showvolume</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте громкость входного аудио в выходной видеосигнал.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить скорость видео.
</font></font></p>
</dd>
<dt><samp><code>b</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину границы, допустимый диапазон [0, 5]. </font><font style="vertical-align: inherit;">По умолчанию 1.
</font></font></p>
</dd>
<dt><samp><code>w</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ширину канала, допустимый диапазон [80, 8192]. </font><font style="vertical-align: inherit;">По умолчанию 400.
</font></font></p>
</dd>
<dt><samp><code>h</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите высоту канала, допустимый диапазон [1, 900]. </font><font style="vertical-align: inherit;">По умолчанию 20.
</font></font></p>
</dd>
<dt><samp><code>f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить затухание, допустимый диапазон [0, 1]. </font><font style="vertical-align: inherit;">По умолчанию 0,95.
</font></font></p>
</dd>
<dt><samp><code>c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите объемное цветовое выражение.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В выражении могут использоваться следующие переменные:
</font></font></p>
<dl compact="compact">
<dt><samp><code>VOLUME</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текущая максимальная громкость канала в дБ.
</font></font></p>
</dd>
<dt><samp><code>PEAK</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текущий пик.
</font></font></p>
</dd>
<dt><samp><code>CHANNEL</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текущий номер канала, начиная с 0.
</font></font></p></dd>
</dl>

</dd>
<dt><samp><code>t</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено, отображаются названия каналов. </font><font style="vertical-align: inherit;">По умолчанию включено.
</font></font></p>
</dd>
<dt><samp><code>v</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если установлено, отображает значения объема. </font><font style="vertical-align: inherit;">По умолчанию включено.
</font></font></p>
</dd>
<dt><samp><code>o</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить ориентацию, может быть горизонтальной: </font></font><code>h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или вертикальной: </font></font><code>v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по умолчанию </font></font><code>h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер шага, допустимый диапазон: [0, 5]. </font><font style="vertical-align: inherit;">По умолчанию 0, что означает, что шаг отключен.
</font></font></p>
</dd>
<dt><samp><code>p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите непрозрачность фона, допустимый диапазон: [0, 1]. </font><font style="vertical-align: inherit;">По умолчанию 0.
</font></font></p>
</dd>
<dt><samp><code>m</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим измерения, может быть пиковым: </font></font><code>p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или среднеквадратичным значением: </font></font><code>r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">по умолчанию </font></font><code>p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>ds</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить масштаб отображения, может быть линейным: </font></font><code>lin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или логарифмическим: </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, по умолчанию </font></font><code>lin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>dm</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Во втором. </font><font style="vertical-align: inherit;">Если установлено &gt; 0., отобразить линию максимального уровня за предыдущие секунды. </font><font style="vertical-align: inherit;">по умолчанию отключено:</font></font><code>0.</code>
</p>
</dd>
<dt><samp><code>dmc</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Цвет максимальной линии. </font><font style="vertical-align: inherit;">Используйте, когда </font></font><code>dm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для параметра установлено значение &gt; 0. По умолчанию:</font></font><code>orange</code>
</p></dd>
</dl>

<span id="showwaves"></span><h3 class="section"><code><a href="#toc-showwaves">16.27 showwaves</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразуйте входное аудио в видеовыход, представляющий волны сэмплов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>600x240</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим отображения.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>point</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте точку для каждого образца.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>line</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Проведите вертикальную линию для каждого образца.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>p2p</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте точку для каждого образца и линию между ними.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cline</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте центрированную вертикальную линию для каждого образца.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>point</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>n</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество образцов, которые печатаются на одном столбце. </font><font style="vertical-align: inherit;">Большее значение уменьшит частоту кадров. </font><font style="vertical-align: inherit;">Должно быть положительным целым числом. </font><font style="vertical-align: inherit;">Этот параметр можно установить только в том случае, если значение для </font></font><var><code>rate</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
не указано явно.
</font></font></p>
</dd>
<dt><samp><code>rate, r</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите (приблизительную) выходную частоту кадров. </font><font style="vertical-align: inherit;">Это делается путем установки опции </font></font><var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию — «25».
</font></font></p>
</dd>
<dt><samp><code>split_channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, должны ли каналы отображаться отдельно или перекрываться. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>colors</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвета, разделенные символом '|' </font><font style="vertical-align: inherit;">которые планируется использовать для рисования каждого канала.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить масштаб амплитуды.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейный.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Логарифмический.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sqrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Квадратный корень.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cbrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кубический корень.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию линейный.
</font></font></p>
</dd>
<dt><samp><code>draw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим рисования. </font><font style="vertical-align: inherit;">Это в основном полезно установить на высокое значение </font></font><var><code>n</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>scale</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте значения пикселей для каждого нарисованного образца.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>full</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте каждый образец напрямую.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>scale</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-161"></span><h4 class="subsection"><a href="#toc-Examples-161"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.27.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выведите звук входного файла и соответствующее видеопредставление одновременно:
</font></font><div class="example">
<pre class="example"><code>amovie=a.mp3,asplit[out0],showwaves[out1]
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте синтетический сигнал и покажите его с помощью showwaves, установив частоту кадров 30 кадров в секунду:
</font></font><div class="example">
<pre class="example"><code>aevalsrc=sin(1*2*PI*t)*sin(880*2*PI*t):cos(2*PI*200*t),asplit[out0],showwaves=r=30[out1]
</code></pre></div>
</li></ul>

<span id="showwavespic"></span><h3 class="section"><code><a href="#toc-showwavespic">16.28 showwavespic</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Преобразование входного аудио в один видеокадр, представляющий волны сэмплов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите размер видео для вывода. </font><font style="vertical-align: inherit;">Синтаксис этого параметра см. в разделе
 </font></font><a href="ffmpeg-utils.html#video-size-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg-utils) «Размер видео» в руководстве по ffmpeg-utils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>600x240</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>split_channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите, должны ли каналы отображаться отдельно или перекрываться. </font><font style="vertical-align: inherit;">Значение по умолчанию — 0.
</font></font></p>
</dd>
<dt><samp><code>colors</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите цвета, разделенные символом '|' </font><font style="vertical-align: inherit;">которые планируется использовать для рисования каждого канала.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить масштаб амплитуды.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>lin</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Линейный.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>log</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Логарифмический.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>sqrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Квадратный корень.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>cbrt</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Кубический корень.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">По умолчанию линейный.
</font></font></p>
</dd>
<dt><samp><code>draw</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим рисования.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>scale</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Масштабируйте значения пикселей для каждого нарисованного образца.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>full</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Нарисуйте каждый образец напрямую.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>scale</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>filter</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите режим фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Доступные значения:
</font></font></p><dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>average</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте средние значения образцов для каждого взятого образца.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>peak</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Используйте пиковые значения образцов для каждого взятого образца.
</font></font></p></dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>average</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-162"></span><h4 class="subsection"><a href="#toc-Examples-162"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.28.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Извлеките разделенное по каналам представление формы волны всей звуковой дорожки в изображении 1024x800, используя </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i audio.flac -lavfi showwavespic=split_channels=1:s=1024x800 waveform.png
</code></pre></div>
</li></ul>

<span id="sidedata_002c-asidedata"></span><h3 class="section"><code><a href="#toc-sidedata_002c-asidedata">16.29 sidedata, asidedata</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалите боковые данные кадра или выберите кадры на его основе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>mode</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить режим работы фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Может быть одним из следующих:
</font></font></p>
<dl compact="compact">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>select</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выберите каждый кадр с боковыми данными </font></font><code>type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><samp><code>delete</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Удалить сторонние данные </font></font><code>type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Если </font></font><code>type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">не установлено, удалите все сторонние данные в кадре.
</font></font></p>
</dd>
</dl>

</dd>
<dt><samp><code>type</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите тип данных стороны, используемый во всех режимах. </font><font style="vertical-align: inherit;">Должен быть установлен для </font></font><code>select</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">режима. </font><font style="vertical-align: inherit;">Список типов данных на стороне фрейма см. в </font></font><code>AVFrameSideDataType</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">перечислении в</font></font><samp><code>libavutil/frame.h</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Например, для выбора
 </font></font><code>AV_FRAME_DATA_PANSCAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">побочных данных необходимо указать </font></font><code>PANSCAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
</dl>

<span id="spectrumsynth"></span><h3 class="section"><code><a href="#toc-spectrumsynth">16.30 spectrumsynth</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Синтезируйте аудио из двух входных видеоспектров, первый входной поток представляет амплитуду во времени, а второй представляет фазу во времени. </font><font style="vertical-align: inherit;">Фильтр преобразует частотную область, отображаемую в видео, обратно во временную область, представленную в аудиовыходе.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Этот фильтр в первую очередь создан для реверсирования обработанных выходных сигналов фильтра </font></font><a href="#showspectrum"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">шоуспектра</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, но также может синтезировать звук из других спектрограмм. </font><font style="vertical-align: inherit;">Но в таком случае результаты будут плохими, если фазовые данные недоступны, потому что в таких случаях фазовые данные необходимо воссоздать, обычно они просто воссоздаются из случайного шума. </font><font style="vertical-align: inherit;">Для достижения наилучших результатов используйте вывод только серого ( </font></font><code>channel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">цветовой режим в
 фильтре </font></font><a href="#showspectrum"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">showspectrum</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) и </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабируйте видео амплитуды и
 </font></font><code>lin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">масштабируйте фазовое видео. </font><font style="vertical-align: inherit;">Чтобы создать фазу для второго видео, используйте
 </font></font><code>data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">опцию. </font><font style="vertical-align: inherit;">Входные видео обычно должны использовать </font></font><code>fullframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
режим слайдов, поскольку это экономит ресурсы, необходимые для декодирования видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>sample_rate</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите частоту дискретизации выходного аудио, частота дискретизации аудио, из которого был сгенерирован спектр, может отличаться.
</font></font></p>
</dd>
<dt><samp><code>channels</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите количество каналов, представленных во входных видеоспектрах.
</font></font></p>
</dd>
<dt><samp><code>scale</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите масштаб, который использовался при генерации входного спектра магнитуды. </font><font style="vertical-align: inherit;">Можно </font></font><code>lin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>slide</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ползунок, который использовался при генерации входных спектров. </font><font style="vertical-align: inherit;">Может быть </font></font><code>replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>scroll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>fullframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>rscroll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>fullframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>win_func</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите оконную функцию, используемую для ресинтеза.
</font></font></p>
</dd>
<dt><samp><code>overlap</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите перекрытие окна. </font><font style="vertical-align: inherit;">В диапазоне </font></font><code>[0, 1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию означает </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, что будет выбрано оптимальное перекрытие для выбранной оконной функции.
</font></font></p>
</dd>
<dt><samp><code>orientation</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите ориентацию входных видео. </font><font style="vertical-align: inherit;">Можно </font></font><code>vertical</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или </font></font><code>horizontal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>vertical</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p></dd>
</dl>

<span id="Examples-163"></span><h4 class="subsection"><a href="#toc-Examples-163"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.30.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сначала создайте видео амплитуды и фазы из аудио, предполагая, что аудио является стереофоническим с частотой дискретизации 44100, а затем повторно синтезируйте видео обратно в аудио с помощью спектра:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i input.flac -lavfi showspectrum=mode=separate:scale=log:overlap=0.875:color=channel:slide=fullframe:data=magnitude -an -c:v rawvideo magnitude.nut<font></font>
ffmpeg -i input.flac -lavfi showspectrum=mode=separate:scale=lin:overlap=0.875:color=channel:slide=fullframe:data=phase -an -c:v rawvideo phase.nut<font></font>
ffmpeg -i magnitude.nut -i phase.nut -lavfi spectrumsynth=channels=2:sample_rate=44100:win_func=hann:overlap=0.875:slide=fullframe output.flac<font></font>
</code></pre></div>
</li></ul>

<span id="split_002c-asplit"></span><h3 class="section"><code><a href="#toc-split_002c-asplit">16.31 split, asplit</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разделить вход на несколько одинаковых выходов.
</font></font></p>
<p><code>asplit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">работает с аудио входом, </font></font><code>split</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">с видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтр принимает единственный параметр, который определяет количество выходов. </font><font style="vertical-align: inherit;">Если не указано, по умолчанию используется 2.
</font></font></p>
<span id="Examples-164"></span><h4 class="subsection"><a href="#toc-Examples-164"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.31.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте два отдельных выхода из одного и того же входа:
</font></font><div class="example">
<pre class="example"><code>[in] split [out0][out1]
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы создать 3 или более выходов, вам нужно указать количество выходов, например:
</font></font><div class="example">
<pre class="example"><code>[in] asplit=3 [out0][out1][out2]
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте два отдельных вывода из одного и того же ввода, один обрезанный и один дополненный:
</font></font><div class="example">
<pre class="example"><code>[in] split [splitout1][splitout2];<font></font>
[splitout1] crop=100:100:0:0    [cropout];<font></font>
[splitout2] pad=200:200:100:100 [padout];<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте 5 копий входного аудио с помощью </font></font><code>ffmpeg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:
</font></font><div class="example">
<pre class="example"><code>ffmpeg -i INPUT -filter_complex asplit=5 OUTPUT
</code></pre></div>
</li></ul>

<span id="zmq_002c-azmq"></span><h3 class="section"><code><a href="#toc-zmq_002c-azmq">16.32 zmq, azmq</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получайте команды, отправленные через клиент libzmq, и перенаправляйте их на фильтры в filtergraph.
</font></font></p>
<p><code>zmq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">и </font></font><code>azmq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">работают как проходные фильтры. </font></font><code>zmq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
должен быть вставлен между двумя видеофильтрами, </font></font><code>azmq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">между двумя аудиофильтрами. </font><font style="vertical-align: inherit;">Оба способны отправлять сообщения любому типу фильтра.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы включить эти фильтры, вам необходимо установить библиотеку libzmq и заголовки, а также настроить FFmpeg с расширением </font></font><code>--enable-libzmq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения дополнительной информации о libzmq см.:
 </font></font><a href="http://www.zeromq.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.zeromq.org/</font></font></a>
</p>
<p><font style="vertical-align: inherit;"></font><code>zmq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Фильтры и </font></font><code>azmq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">работают как сервер libzmq, который получает сообщения, отправленные через сетевой интерфейс,
 </font><font style="vertical-align: inherit;">определенный</font></font><samp><code>bind_address</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(или аббревиатура "</font></font><samp><code>b</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"). Значение по умолчанию для этого параметра</font></font><samp><code>tcp://localhost:5555</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Вы можете изменить это значение в соответствии с вашими потребностями, но не забудьте экранировать любые знаки ':' (см </font></font><a href="#filtergraph-escaping"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. экранирование filtergraph</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Полученное сообщение должно иметь вид:
</font></font></p><div class="example">
<pre class="example"><code><var><code>TARGET</code></var> <var><code>COMMAND</code></var> [<var><code>ARG</code></var>]
</code></pre></div>

<p><var><code>TARGET</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указывает цель команды, обычно это имя класса фильтра или конкретное имя экземпляра фильтра. </font><font style="vertical-align: inherit;">Имя экземпляра фильтра по умолчанию использует шаблон '</font></font><samp><code>Parsed_&lt;filter_name&gt;_&lt;index&gt;</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">', но вы можете переопределить это с помощью '</font></font><samp><code>filter_name@id</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">' (см </font></font><a href="#Filtergraph-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Синтаксис Filtergraph</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).
</font></font></p>
<p><var><code>COMMAND</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">указывает имя команды для целевого фильтра.
</font></font></p>
<p><var><code>ARG</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">является необязательным и указывает необязательный список аргументов для данного </font></font><var><code>COMMAND</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">При получении сообщение обрабатывается, и соответствующая команда вводится в граф фильтра. </font><font style="vertical-align: inherit;">В зависимости от результата фильтр отправит клиенту ответ в формате:
</font></font></p><div class="example">
<pre class="example"><code><var><code>ERROR_CODE</code></var> <var><code>ERROR_REASON</code></var>
<var><code>MESSAGE</code></var>
</code></pre></div>

<p><var><code>MESSAGE</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">является необязательным.
</font></font></p>
<span id="Examples-165"></span><h4 class="subsection"><a href="#toc-Examples-165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.32.1 Примеры</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">смотреть на</font></font><samp><code>tools/zmqsend</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">для примера клиента zmq, который можно использовать для отправки команд, обработанных этими фильтрами.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Рассмотрим следующий фильтр-граф, сгенерированный </font></font><code>ffplay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">В этом примере последний оверлейный фильтр имеет имя экземпляра. </font><font style="vertical-align: inherit;">Все остальные фильтры будут иметь имена экземпляров по умолчанию.
</font></font></p>
<div class="example">
<pre class="example"><code>ffplay -dumpgraph 1 -f lavfi "<font></font>
color=s=100x100:c=red  [l];<font></font>
color=s=100x100:c=blue [r];<font></font>
nullsrc=s=200x100, zmq [bg];<font></font>
[bg][l]   overlay     [bg+l];<font></font>
[bg+l][r] overlay@my=x=100 "<font></font>
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы изменить цвет левой части видео, можно использовать следующую команду:
</font></font></p><div class="example">
<pre class="example"><code>echo Parsed_color_0 c yellow | tools/zmqsend
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы изменить правую сторону:
</font></font></p><div class="example">
<pre class="example"><code>echo Parsed_color_1 c pink | tools/zmqsend
</code></pre></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы изменить положение правой стороны:
</font></font></p><div class="example">
<pre class="example"><code>echo overlay@my x 150 | tools/zmqsend
</code></pre></div>



<span id="Multimedia-Sources"></span><h2 class="chapter"><a href="#toc-Multimedia-Sources"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17 мультимедийных источников</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведено описание доступных на данный момент мультимедийных источников.
</font></font></p>
<span id="amovie"></span><h3 class="section"><code><a href="#toc-amovie">17.1 amovie</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это то же самое, что и источник </font></font><a href="#movie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фильма</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , за исключением того, что по умолчанию выбирается аудиопоток.
</font></font></p>
<span id="avsynctest"></span><h3 class="section"><code><a href="#toc-avsynctest">17.2 avsynctest</a></code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Создайте тест синхронизации аудио/видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сгенерированный поток периодически показывает flash видеокадр и издает звуковой сигнал в аудио. </font><font style="vertical-align: inherit;">Полезно для проверки проблем с синхронизацией аудио/видео.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>size, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите размер выходного видео. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>hd720</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>framerate, fr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту кадров выходного видео. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>30</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>samplerate, sr</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите частоту дискретизации выходного аудио. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>44100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>amplitude, a</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите амплитуду звукового сигнала на выходе. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>period, p</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите период выходного звукового сигнала в секундах. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>delay, dl</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите задержку вспышки видео на выходе в количестве кадров. </font><font style="vertical-align: inherit;">Значение по умолчанию </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font></p>
</dd>
<dt><samp><code>cycle, c</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Включить циклирование задержек видео, по умолчанию отключено.
</font></font></p>
</dd>
<dt><samp><code>duration, d</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установите продолжительность вывода потока. </font><font style="vertical-align: inherit;">По умолчанию продолжительность не ограничена.
</font></font></p>
</dd>
<dt><samp><code>fg, bg, ag</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Установить передний план/фон/дополнительный цвет.
</font></font></p></dd>
</dl>

<span id="movie"></span><span id="movie-1"></span><h3 class="section"><code><a href="#toc-movie-1">17.3 movie</a></code></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтение аудио- и/или видеопотоков из контейнера фильмов.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Он принимает следующие параметры:
</font></font></p>
<dl compact="compact">
<dt><samp><code>filename</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Имя ресурса для чтения (не обязательно файл, это также может быть устройство или поток, доступ к которому осуществляется по какому-либо протоколу).
</font></font></p>
</dd>
<dt><samp><code>format_name, f</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задает предполагаемый формат для чтения фильма и может быть именем контейнера или устройства ввода. </font><font style="vertical-align: inherit;">Если не указано, формат угадывается из </font></font><var><code>movie_name</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">или путем проверки.
</font></font></p>
</dd>
<dt><samp><code>seek_point, sp</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает точку поиска в секундах. </font><font style="vertical-align: inherit;">Кадры будут выводиться, начиная с этой точки поиска. </font><font style="vertical-align: inherit;">Параметр оценивается с помощью
 </font></font><code>av_strtod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, поэтому числовое значение может иметь суффикс IS. </font><font style="vertical-align: inherit;">Значение по умолчанию — «0».
</font></font></p>
</dd>
<dt><samp><code>streams, s</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает потоки для чтения. </font><font style="vertical-align: inherit;">Можно указать несколько потоков, разделенных знаком «+». </font><font style="vertical-align: inherit;">Тогда источник будет иметь столько же выходов в том же порядке. </font><font style="vertical-align: inherit;">Синтаксис объясняется в разделе </font></font><a href="ffmpeg.html#Stream-specifiers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ffmpeg) «Спецификаторы потока» в руководстве по ffmpeg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Два специальных имени, «dv» и «da», определяют, соответственно, видео- и аудиопоток по умолчанию (наиболее подходящий). </font><font style="vertical-align: inherit;">По умолчанию "dv" или "da", если фильтр называется "amovie".
</font></font></p>
</dd>
<dt><samp><code>stream_index, si</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает индекс видеопотока для чтения. </font><font style="vertical-align: inherit;">Если значение равно -1, автоматически будет выбран наиболее подходящий видеопоток. </font><font style="vertical-align: inherit;">Значение по умолчанию "-1". </font><font style="vertical-align: inherit;">Устарело. </font><font style="vertical-align: inherit;">Если фильтр называется «анимация», он будет выбирать аудио вместо видео.
</font></font></p>
</dd>
<dt><samp><code>loop</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает, сколько раз читать поток последовательно. </font><font style="vertical-align: inherit;">Если значение равно 0, поток будет зацикливаться бесконечно. </font><font style="vertical-align: inherit;">Значение по умолчанию — «1».
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что когда фильм зациклен, временные метки источника не изменяются, поэтому он будет генерировать немонотонно увеличивающиеся временные метки.
</font></font></p>
</dd>
<dt><samp><code>discontinuity</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Определяет разницу во времени между кадрами, выше которой точка считается разрывом временной метки, который удаляется путем корректировки более поздних временных меток.
</font></font></p>
</dd>
<dt><samp><code>dec_threads</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Указывает количество потоков для декодирования
</font></font></p>
</dd>
<dt><samp><code>format_opts</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Укажите параметры формата для открываемого файла. </font><font style="vertical-align: inherit;">Параметры формата можно указать в виде списка пар </font></font><var><code>key</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><var><code>value</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, разделенных знаком ':'. </font><font style="vertical-align: inherit;">В следующем примере показано, как добавить параметры protocol_whitelist и protocol_blacklist:
</font></font></p><div class="example">
<pre class="example"><code>ffplay -f lavfi<font></font>
"movie=filename='1.sdp':format_opts='protocol_whitelist=file,rtp,udp\:protocol_blacklist=http'"<font></font>
</code></pre></div>
</dd>
</dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Это позволяет накладывать второе видео поверх основного ввода графа фильтра, как показано на этом графике:
</font></font></p><div class="example">
<pre class="example"><code>input -----------&gt; deltapts0 --&gt; overlay --&gt; output<font></font>
                                    ^<font></font>
                                    |<font></font>
movie --&gt; scale--&gt; deltapts1 -------+<font></font>
</code></pre></div>
<span id="Examples-166"></span><h4 class="subsection"><a href="#toc-Examples-166"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.3.1 Примеры</font></font></a></h4>

<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пропустите 3,2 секунды с начала файла AVI в формате .avi и наложите его поверх входных данных с пометкой «in»:
</font></font><div class="example">
<pre class="example"><code>movie=in.avi:seek_point=3.2, scale=180:-1, setpts=PTS-STARTPTS [over];<font></font>
[in] setpts=PTS-STARTPTS [main];<font></font>
[main][over] overlay=16:16 [out]<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прочитайте с устройства video4linux2 и наложите его поверх ввода с пометкой «in»:
</font></font><div class="example">
<pre class="example"><code>movie=/dev/video0:f=video4linux2, scale=180:-1, setpts=PTS-STARTPTS [over];<font></font>
[in] setpts=PTS-STARTPTS [main];<font></font>
[main][over] overlay=16:16 [out]<font></font>
</code></pre></div>

</li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Прочитать первый видеопоток и аудиопоток с id 0x81 из dvd.vob; </font><font style="vertical-align: inherit;">видео подключено к панели с именем «видео», а аудио подключено к панели с именем «аудио»:
</font></font><div class="example">
<pre class="example"><code>movie=dvd.vob:s=v:0+#0x81 [video] [audio]
</code></pre></div>
</li></ul>

<span id="Commands-157"></span><h4 class="subsection"><a href="#toc-Commands-157"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.3.2 Команды</font></font></a></h4>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">И movie, и amovie поддерживают следующие команды:
</font></font></p><dl compact="compact">
<dt><samp><code>seek</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Выполните поиск, используя «av_seek_frame». </font><font style="vertical-align: inherit;">Синтаксис: искать </font></font><var><code>stream_index</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><var><code>timestamp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|</font></font><var><code>flags</code></var>
</p><ul>
<li> <var><code>stream_index</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Если stream_index равен -1, выбирается поток по умолчанию, и </font></font><var><code>timestamp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">он автоматически преобразуется из единиц AV_TIME_BASE в специфичную для потока time_base.
</font></font></li><li> <var><code>timestamp</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Отметка времени в единицах AVStream.time_base или, если поток не указан, в единицах AV_TIME_BASE.
</font></font></li><li> <var><code>flags</code></var><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Флаги, которые выбирают направление и режим поиска.
</font></font></li></ul>

</dd>
<dt><samp><code>get_duration</code></samp></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Получите продолжительность фильма в единицах AV_TIME_BASE.
</font></font></p>
</dd>
</dl>


<span id="See-Also"></span><h2 class="chapter"><a href="#toc-See-Also"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 См. также</font></font></a></h2>

<p><a href="ffmpeg.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="ffplay.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffplay</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="ffprobe.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffprobe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,
 </font></font><a href="libavfilter.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libavfilter</font></font></a>
</p>

<span id="Authors"></span><h2 class="chapter"><a href="#toc-Authors"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19 авторов</font></font></a></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Разработчики FFmpeg.
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для получения подробной информации об авторстве см. историю Git проекта (git://source.ffmpeg.org/ffmpeg), например, введя команду
 </font></font><code>git log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в исходном каталоге FFmpeg или просмотрев онлайн-репозиторий по адресу </font></font><a href="http://source.ffmpeg.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://source. ffmpeg.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сопровождающие для конкретных компонентов перечислены в файле
</font></font><samp><code>MAINTAINERS</code></samp><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">в дереве исходного кода.
</font></font></p>


      <p style="font-size: small;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Этот документ был создан </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 июля 2022 года</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> с помощью </font></font><a href="http://www.gnu.org/software/texinfo/"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">makeinfo</font></font></em></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
      </font></font></p>

          <p class="text-right"><small><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Хостинг предоставлен </font></font><a href="https://telepoint.bg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telepoint.bg</font></font></a><small></small></small></p><small><small>
        </small></small></div><small><small> <!-- page-content-inset -->
      </small></small></div><small><small> <!-- page-content-wrapper -->
    </small></small></div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="https://www.gstatic.com/images/branding/product/1x/translate_24dp.png" width="20" height="20" alt="Google Переводчик"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Исходный текст</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Предложить лучший вариант перевода</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><small><small> <!-- wrapper -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <!-- Custom JavaScript for the Menu Toggle -->
    <script>
      $("#menu-toggle").click(function(e) {
          e.preventDefault();
          $("#wrapper").toggleClass("active");
      });
    </script>

  
</small></small><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>
